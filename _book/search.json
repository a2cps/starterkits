[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "A2CPS Starter Kits",
    "section": "",
    "text": "Preface\nStarter kits are brief tutorials that are designed to help guide internal A2CPS projects. The kits target researchers accustomed to working with some specialized data format, but not necessarily the modality in question (e.g., someone familiar with genetics working with neuroimaging data). They assume that researchers will access internal A2CPS releases (that is, on TACC rather than from the NDA).\nEach kit has three sections, information to consider before starting a project, information about how to access the relevant data, and an overview of related work by the DIRC.\nKits correspond to the individual modalities that can be requested in the Data Request Form. See below for a status of each kit.\nEach kit provides examples of how to explore the data and run simple analyses. These examples rely on various kinds of code, including shell commands, R, and python. These examples should be seen as only one of many ways to interact with the data. For example, the data reviewed in 3  FreeSurfer Measures is stored in tsv (tab-separated value) files, and that kit demonstrates working with those tables in R. But the tsv can be read with many programs besides R, including programs like Excel. The kits rely on code because the dataset is large enough that code- and scripting-based analyses provide substantial benefits. If these methods are a barrier to your analyses, please reach out to members of the Data Integration and Resource Center (DIRC) via email or Slack: A2CPS Directory. It is the job of DIRC members to facilitate and support analyses of A2CPS data.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "index.html#kit-availability",
    "href": "index.html#kit-availability",
    "title": "A2CPS Starter Kits",
    "section": "Kit Availability",
    "text": "Kit Availability\n\nNDA Download Appendix C — NDA Download Example, MRI\nQST\nEHR\nBlood Draw Details\nPsychosocial Variables\nFunctional Testing\nDemographics\nData (Omics)-Please Specify:\n\ngene_variants: 1  Single-Nucleotide Polymorphisms\nproteomics\n\nData (Imaging)-Please Specify:\n\nRaw Data: 2  Raw MRI Data Starter Kit\nbrainager\nCAT12\nFunctional Connectivity\nfMRIPrep\nFreeSurfer 3  FreeSurfer Measures\nGIFT\nMRIQC\nQSIprep\nPrior Neural Pain Signatures 4  Prior Neural Pain Signature Responses",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "snps.html",
    "href": "snps.html",
    "title": "1  Single-Nucleotide Polymorphisms",
    "section": "",
    "text": "1.1 Before Proposing Project\nThis page provides considerations for A2CPS projects that involve the Genetic Variant data.",
    "crumbs": [
      "Omics",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Single-Nucleotide Polymorphisms</span>"
    ]
  },
  {
    "objectID": "snps.html#before-proposing-project",
    "href": "snps.html#before-proposing-project",
    "title": "1  Single-Nucleotide Polymorphisms",
    "section": "",
    "text": "1.1.1 Confirm the existence of relevant SNPs\nThe A2CPS array generates information about approximately 700k polymorphisms.\nTo determine whether the polymorphisms are present, gather relevant rsIDs (an identification number for a polymorphism), and then send the list to Margaret Taub.\n\n\n1.1.2 Check that the prevalence of available polymorphisms of interest is sufficient\nSome polymorphisms are rare (or are rare in certain demographics)–too rare for A2CPS to support a substantial sample size. For this reason, it is good to check the prevalence of the available polymorphisms of interest. One way to do this is to look at allele frequency on gnomAD.",
    "crumbs": [
      "Omics",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Single-Nucleotide Polymorphisms</span>"
    ]
  },
  {
    "objectID": "snps.html#starting-project",
    "href": "snps.html#starting-project",
    "title": "1  Single-Nucleotide Polymorphisms",
    "section": "1.2 Starting Project",
    "text": "1.2 Starting Project\n\n1.2.1 Locate Data\nOn TACC, the data are stored underneath the releases. For example, data release v1.#.# is underneath\n/corral-secure/projects/A2CPS/products/consortium-data/pre-surgery\nThe single-nucleotide polymorphisms are underneath the omics/gene_variants folder\n$ ls -w 120 /corral-secure/projects/A2CPS/products/consortium-data/pre-surgery/omics/gene_variants/\n20231012_GV_genotypes_RunList_1_2_3_plink_biospecimen_mapping.csv\n20231012_GV_genotypes_RunList_1_2_3_subj_filtered.bed\n20231012_GV_genotypes_RunList_1_2_3_subj_filtered.bim\n20231012_GV_genotypes_RunList_1_2_3_subj_filtered.fam\n20231012_GV_genotypes_RunList_1_2_3_subj_filtered.hh\n20231012_GV_genotypes_RunList_1_2_3_subj_filtered.log\nThese files are in the PLINK format.\n\n\n1.2.2 Extract Data\nTo access the variant data, plink2 (or the older plink) must be installed. Please see: PLINK 2.0.\nStore the rsIDs in a newline-delimited file. For example, the file below, snps.txt, has 11 rsIDs (of which only 3 are available in A2CPS).\n$ cat snps.txt \nrs851984\nrs543650\nrs1285057\nrs488133\nrs2071454\nrs71685044\nrs988328\nrs3020327\nrs3020329\nrs2144025\nrs7570903\nThe plink2 command can then use that file to create a table of how many of the non-dominant alleles are present for each individual.\n$ plink2 \\\n  --bfile gene_variants/20231012_GV_genotypes_RunList_1_2_3_subj_filtered \\\n  --recode A \\\n  --out snps \\\n  --extract snps.txt \nA subset of the resulting table is below (the full table has 677 rows, including the header).\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFID\nIID\nPAT\nMAT\nSEX\nPHENOTYPE\nrs1285057_G\nrs543650_C\nrs488133_G\n\n\n\n\n3\n12Y7jxjbej5qm_L27BDmybNy8zN\n0\n0\n1\n-9\n0\n2\n2\n\n\n4\n1AL7Oyj1m1Yep_L27BDmybNy8zN\n0\n0\n2\n-9\n2\n1\n1\n\n\n\n\n\n\n\nFID\n\nFamily ID (expected to be more-or-less unique within A2CPS)\n\nIID\n\nIndividual ID (format: biospecimenID_runlistID)\n\nPAT\n\nID for Father (IID)\nNot expected to be in A2CPS\n\nMAT\n\nID for Mother (IID)\nNot expected to be in A2CPS\n\nSEX\n\n1: Male\n2: Female\n\nPHENOTYPE\n\nAlways “not available“ value: -9\n\nrs[0-9]*_[ATGC]\n\nA count of the number of minor (alternate) alleles for that individual: 0, 1, or 2\n\n\nSee also the R package snpStats and the python package bed-reader.\n\n\n1.2.3 PLINK 1.9\nSee all files types here: File format reference - PLINK 1.9.\nThose critical to the analyses below are expanded.\n\n1.2.3.1 .bim\nEach row in this file specifics a genetic variant and provides extended information on its location and alleles.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCHR\nVAR ID\nPOS (cM)\nPOS (bp)\nALLELE 1 (ALT)\nALLELE 2 (REF)\n\n\n\n\n1\nGSA-rs2055204\n0.5627189\n2349222\nA\nG\n\n\n1\nrs7527871\n0.5656815\n2350287\nC\nA\n\n\n\n\n\n\n\nVar ID\n\nrsID = Reference SNP (single nucleotide polymorphism) Cluster ID\nGSA = (likely) Global Screening Array\n22:24377823_CNV_GSTT1\n\nFor Variants labeled as such, this ID means CHR:POS:CopyNumberVariant:Gene\n\ncM (centimorgan) = measure of the frequency genetic recombination. 1 cM is a 1% chance that two markers on a chr will separate due to recombination during meiosis.\nbp (base-pair) = each chr starts at 1, this value shows the position of the base-pair on the chr\nAllele 1 and 2 are typically - but not always - alt (minor) first and ref (major) second.\n\n\n\n\n1.2.3.2 .fam\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFamily ID\nIndividual ID\nFather ID\nMother ID\nSex\nPhenotype\n\n\n\n\n3\n12Y7jxjbej5qm_L27BDmybNy8zN\n0\n0\n1\n-9\n\n\n4\n1AL7Oyj1m1Yep_L27BDmybNy8zN\n0\n0\n2\n-9\n\n\n\n\n\n\n\nFaID and MoID expected as ‘0’ (patients not recruited for a family based study)\nSex:\n\n1 = M, 2 = F\n\nPhenotype\n\n1 = Control, 2 = Case, 0/-9 if not present\n\n\n\n\n1.2.3.3 .hh\nA file is generated whenever a variant information contains a heterozygous call when it should not be possible, such as the examples highlighted below:\n\n\n\n\n\n\nFID\nIID\nVarID\n\n\n\n\n335\nywZzw1kLEED9V_MvY69AXPg00MP\nrs1419931\n\n\n43\nP5PydYRLo8Ev4_L27BDmybNy8zN\nrs145903180\n\n\n\n\n\n\n\nMale X/Y (haploid) chr that appear as heterozygous for a loci - when they should always be hemizygous (a genetic locus’ zygosity when only one member of a chr pair exists)\nNonmale nonmissing calls for Y chr\nRun list 1-3 has 270 unique individuals and 606 unique SNPs included in its .hh file (and 1637 total combinations of participant / SNP)",
    "crumbs": [
      "Omics",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Single-Nucleotide Polymorphisms</span>"
    ]
  },
  {
    "objectID": "snps.html#considerations-while-working-on-the-project",
    "href": "snps.html#considerations-while-working-on-the-project",
    "title": "1  Single-Nucleotide Polymorphisms",
    "section": "1.3 Considerations While Working on the Project",
    "text": "1.3 Considerations While Working on the Project\nThe below procedures were performed with these data:\n20231012_GV_genotypes_RunList_1_2_3_subj_filtered.bed\n20231012_GV_genotypes_RunList_1_2_3_subj_filtered.bim\n20231012_GV_genotypes_RunList_1_2_3_subj_filtered.fam\n\n1.3.1 Principal Components\nSystematic differences in ancestry between groups – population stratification – can lead to spurious associations with allele frequencies, and so multiethnic analyses often include genetic principal components to account for the variation imposed by population structure.\n\n1.3.1.1 Steps\n\nLD Pruning (as PCA relies on independent observations)\n\n$ ./plink \\\n  --bfile /Users/sethberke/a2cps_pca/genotypes_RunList_1_2_3_subj_filtered \\\n  --double-id \\\n  --allow-extra-chr \\\n  --indep-pairwise 50 10 0.1 \\\n  --out /Users/sethberke/a2cps_pca/LD_Pruned/a2cps_rl123_LDPruned\n\nRun Principal Components\n\n$ ./plink \\\n  --bfile /Users/sethberke/a2cps_pca/genotypes_RunList_1_2_3_subj_filtered \\\n  --double-id \\\n  --allow-extra-chr \\\n  --extract /Users/sethberke/a2cps_pca/LD_Pruned_genetics/a2cps_rl123_LDPruned.prune.in \\\n  --make-bed \\\n  --pca \\\n  --out /Users/sethberke/a2cps_pca/PCA_genetics_LD/pca_info\nThe below values were derived from the Principal Components, and are used for the plots below\nEigenvalues:\n [1] 18.52620  6.79662  4.20243  3.88020  3.75206\n [6]  3.73819  3.62751  3.51185  3.25737  2.84735\n[11]  2.59636  2.50097  2.32851  1.83828  1.46430\n[16]  1.44651  1.40563  1.28245  1.25099  1.23163\n\nPercent Variance Explained\n [1] 25.916058  9.507702  5.878724  5.427961  5.248707\n [6]  5.229305  5.074476  4.912681  4.556692  3.983120\n[11]  3.632014  3.498574  3.257322  2.571546  2.048390\n[16]  2.023504  1.966317  1.794002  1.749993  1.722911\n\n\n1.3.1.2 Plotting\n\n\n\n\n\n\nFigure 1.1: scree plot\n\n\n\n\n\n\n\n\n\nFigure 1.2: scatter plot\n\n\n\n\n\n\n1.3.2 Sex Typing\nThis procedure confirms the gender of each participant as documented in the study by testing the X Chromosome homozygosity levels. Male participants are haploid for the X chromosome whereas females are diploid, thus we expect a high deviation from the genotypes predicted by Hardy-Weinberg equilibrium (0/0, 0/1, 1/1) with male participants, as their genes should exclusively be either A or a (hemizygous). This deviation is captured by the F Statistic (F stat) in PLINK Below are the steps used on A2CPS genotype data to confirm the gender of each participant.\n\n1.3.2.1 Steps\n\nSubset ChrX (23)\n\n$ ./plink \\\n  --bfile /Users/sethberke/a2cps_imputation/sextyping/20231012_GV_genotypes_RunList_1_2_3_subj_filtered \\\n  --chr 23 \\\n  --make-bed \\\n  --out /Users/sethberke/a2cps_imputation/sextyping/ChrX_BF/chrX_subset\n\nVariant Level QC (no Hardy-Weinberg testing)\n\n$ ./plink \\\n  --bfile /Users/sethberke/a2cps_imputation/sextyping/ChrX_BF/chrX_subset \\\n  --keep-allele-order \\\n  --geno 0.2 \\\n  --maf 0.01 \\\n  --make-bed \\\n  --out /Users/sethberke/a2cps_imputation/sextyping/Variant_Filtered_BF/CLSeq-CHR-X.Variant_Filtered\n\nSplit off pseudoautosomal region (PAR)\n\n\nPAR are areas of the X (and Y) chromosome that mirror the inheritance patterns of autosomes, and thus could confound\n\n$ ./plink \\\n  --bfile /Users/sethberke/a2cps_imputation/sextyping/Variant_Filtered_BF/CLSeq-CHR-X.Variant_Filtered \\\n  --split-x hg38 \\\n  --make-bed \\\n  --out /Users/sethberke/a2cps_imputation/sextyping/PA_Removed_BF/CLSeq-CHR-X_PA_Removed\n\nLD Pruning Identification (of sites highly linked) and Extraction (keeping sites in low linkage)\n\n$ ./plink \\\n  --bfile /Users/sethberke/a2cps_imputation/sextyping/Variant_Filtered_BF/CLSeq-CHR-X.Variant_Filtered \\\n  --indep-pairphase 100 5 0.2 \\\n  --out /Users/sethberke/a2cps_imputation/sextyping/LD_Pruning_Info/pruned\n$ ./plink \\\n  --bfile /Users/sethberke/a2cps_imputation/sextyping/Variant_Filtered_BF/CLSeq-CHR-X.Variant_Filtered \\\n  --extract /Users/sethberke/a2cps_imputation/sextyping/LD_Pruning_Info/pruned.prune.in \\\n  --make-bed \\\n  --out /Users/sethberke/a2cps_imputation/sextyping/LD_Pruned_BF/CLSeq-CHR-X.LD_Pruned_BF\n\nEstimating Minor Allele Frequencies (MAF)\n\n\nThis will allow us to properly observe deviations of observed genotypes from those predicted genotypes from Hardy-Weinberg (which uses MAF data for predictions).\n\n$ ./plink \\\n  --bfile /Users/sethberke/a2cps_imputation/sextyping/LD_Pruned_BF/CLSeq-CHR-X.LD_Pruned_BF \\\n  --freq \\\n  --out /Users/sethberke/a2cps_imputation/sextyping/CLSeq-X-MAF\n\nSex Typing\n\n\nAs a general rule an F Stat of 0.3 is the maximum seen for females and 0.75 is the minimum for males (see as reflected by the chart below). This is because we expect ≈ 1 almost always for males, who will consistently deviate from HWE due to X chromosome hemizygosity, and we expect females to have a normal distribution around 0 (as they are heterozygous for the x chromosome). Here, the female participants hover around 0.05, likely a shift that is due to population structure.\n\n$ ./plink \\\n  --bfile /Users/sethberke/a2cps_imputation/sextyping/LD_Pruned_BF/CLSeq-CHR-X.LD_Pruned_BF \\ \n  --read-freq /Users/sethberke/a2cps_imputation/sextyping/CLSeq-X-MAF.frq \\\n  --check-sex 0.3 0.75 \\\n  --out /Users/sethberke/a2cps_imputation/sextyping/sex_check\n\n\n1.3.2.2 Output\n\n\n\n\n\n\nFID\nIID\nPEDSEX\nSNPSEX\nSTATUS\nF\n\n\n\n\n3\n12Y7jxjbej5qm\n1\n1\nOK\n0.99930\n\n\n4\n1AL7Oyj1m1Yep\n2\n2\nOK\n0.06212\n\n\n5\n1bXk02M1ErKKY\n2\n2\nOK\n0.08526\n\n\n\n\n\n\n\n\n1.3.2.3 Plotting\n\n\n\n\n\n\nFigure 1.3: A2CPS Sex Typing\n\n\n\n\n\n\n1.3.3 Relatedness\nAllele sharing percentages can identify relatedness amongst participants. For instance, with full siblings we expect 50% of their SNPs to be identical by descent = 1 (AA and AB) and 25% of their SNPs to be identical by descent = 2 (AA and AA). All relationships are shown in the chart below, and correspond to plink .genome values (k0ab = Z0, k0ab = Z1, k0ab = Z2).\n\n\n\n\n\n\nFigure 1.4: A2CPS Relatedness Table\n\n\n\n\n1.3.3.1 Steps\n\nVariant Filtering\n\n$ ./plink \\\n  --bfile /Users/sethberke/a2cps_imputation/relatedness/Basic_QCed_BF/20231012_GV_genotypes_RunList_1_2_3_subj_filtered \\\n  --keep-allele-order \\\n  --geno 0.2 \\\n  --make-bed \\\n  --out /Users/sethberke/a2cps_imputation/relatedness/Variant_Filtered_BF/A2CPS.Variant_Filtered\n\nLD Pruning Identification (of sites highly linked) and Extraction (keeping sites in low linkage)\n\n$ ./plink \\\n --bfile /Users/sethberke/a2cps_imputation/relatedness/Variant_Filtered_BF/A2CPS.Variant_Filtered \\\n --indep-pairphase 100 5 0.2 \\\n --out /Users/sethberke/a2cps_imputation/relatedness/LD_Pruning_Part_One/A2CPS.LD_Pruning_Part_One\n \n$ ./plink \\\n  --bfile /Users/sethberke/a2cps_imputation/relatedness/Variant_Filtered_BF/A2CPS.Variant_Filtered \\\n  --extract /Users/sethberke/a2cps_imputation/relatedness/LD_Pruning_Part_One/A2CPS.LD_Pruning_Part_One.prune.in \\\n  --make-bed \\\n  --out /Users/sethberke/a2cps_imputation/relatedness/LD_Pruned_BF/A2CPS.LD_Pruned_BF\n\nIdentity by Descent\n\n$ ./plink \\\n  --bfile /Users/sethberke/a2cps_imputation/relatedness/LD_Pruned_BF/A2CPS.LD_Pruned_BF \\\n  --genome \\\n  --threads 1 \\\n  --out /Users/sethberke/a2cps_imputation/relatedness/A2CPS\n\n\n1.3.3.2 Plotting\n\n\n\n\n\n\nFigure 1.5: A2CPS Relatedness\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFID1\nIID1\nFID2\nIID2\nRT\nEZ\nZ0\nZ1\nZ2\nPI_HAT\nPHE\nDST\nPPC\nRATIO\n\n\n\n\n146\nPNYkDr3eYOPAZ\n453\nP1BpxVbLxo55Z\nUN\n\n0.1900\n0.4997\n0.3104\n0.5602\n-1\n0.933582\n1\n15.1315\n\n\n589\nMLXXry3gBB4DK\n651\nLRe0P3pbz4jn4\nUN\n\n0.2255\n0.4742\n0.3003\n0.5374\n-1\n0.930865\n1\n11.6075\n\n\n\n\n\n\n\n\n\n1.3.4 Imputation\nStatistically inferring whole genome sequences from SNP Array data using haplotype reference panels.\nSegments of the genome that the main array did not sample may still be immutable. Work on this is ongoing (as of September 11, 2024).\n\nInvestigate the Michigan Imputation Server: Getting Started - Michigan Imputation Server 2.\n\n\n\n1.3.5 Currently\nWorking slide deck explaining pre-imputation data preparation: ADD PPTX HERE.\nWill test imputation on TOPMed Imputation Server and report back on imputation quality.",
    "crumbs": [
      "Omics",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Single-Nucleotide Polymorphisms</span>"
    ]
  },
  {
    "objectID": "raw-mri.html",
    "href": "raw-mri.html",
    "title": "2  Raw MRI Data Starter Kit",
    "section": "",
    "text": "2.1 Before Proposing a Project\nThis page describes how to work with the raw MRI data from A2CPS, which is provided in a format called “BIDS” (for a generic introduction to BIDS, see: Unsure how to get started using BIDS with your current data? - The Brain Imaging Data Structure). The raw data are most useful when you need to run custom preprocessing pipelines. If you do not need custom pipelines, please review the preface for a list of imaging products that have already been calculated.",
    "crumbs": [
      "MRI",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Raw MRI Data Starter Kit</span>"
    ]
  },
  {
    "objectID": "raw-mri.html#before-proposing-a-project",
    "href": "raw-mri.html#before-proposing-a-project",
    "title": "2  Raw MRI Data Starter Kit",
    "section": "",
    "text": "2.1.1 Confirm that the sample size will be adequate\nFirst Data Release: Up to 595 participants have imaging data (varying by scan: T1, DWI, etc.), and fewer have all images/derivatives. Also, note that this count includes participants with all levels of image quality (see below).\nFor the most up-to-date counts of images and their quality, see the Imaging Overview Report.1\n1 Note that by default it includes all collected scans, but you can select subsets like “Release 1” using a menu at the top of the page.\n\n2.1.2 Availability of Imaging Modalities\nThe raw imaging data contains five kinds of images across four modalities (listed here with their BIDS type labels, which are also the folders they are found in, in parentheses).\n\nAnatomical (anat)\nStructural MRI (sMRI) provides information related to the anatomic layout of the brain, and allows calculations of cortical and subcortical volumes and morphology. It provides a stable reference for cross-subject and cross-modality alignments, and is thus an essential component.\nDiffusion (dwi)\nDiffusion-Weighted MRI (dMRI) captures microstructural information through the hindering effect of the structures on the natural diffusion of water molecules, which slows the rate at which MRI signal is lost in the direction aligned with a probing gradient.\nFunctional (func)\nfMRI measures hemodynamically driven signal changes that result from localized changes in oxygen uptake and blood flow as a result of neural activity, and is typically analyzed by looking for signal variations associated with scan conditions (often controlled with a “task”) or at how spontaneous intrinsic variations in signal are coordinated across brain regions (“functional connectivity” of those areas). Note that in BIDS “resting state” is labeled as another type of task (task-rest).\nResting-state functional MRI (rfMRI; task-rest) are six minutes long and are done with a cuff worn but uninflated. A REST1 scan precedes cuff inflation, and (assuming that occurs) a REST2 occurs at the end. *Task-based functional MRI (tfMRI; task-cuff) are also six minutes long and have a user calibrated inflation of the cuff (CUFF1) followed by a cuff inflation to a standard pressure (CUFF2). Not all subjects have either, but if at least one is present the protocol calls for a REST2 scan following them.\nFieldmap (fmap)\nSusceptibility-weighted MRI (swMRI) enables susceptibility distortion correction. The A2CPS project acquires spin echo B0 images with opposite phase encoding direction, which can be combined to create fieldmaps. In general, the A2CPS B0 scans match the geometry of the target scans (i.e., the field of view and shimming of the scans to be corrected), though in some cases the geometry is slightly different.\n\nFor details on the scan acquisition parameters see the A2CPS Tech Manual.",
    "crumbs": [
      "MRI",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Raw MRI Data Starter Kit</span>"
    ]
  },
  {
    "objectID": "raw-mri.html#on-starting-project",
    "href": "raw-mri.html#on-starting-project",
    "title": "2  Raw MRI Data Starter Kit",
    "section": "2.2 On Starting Project",
    "text": "2.2 On Starting Project\n\n2.2.1 Locate Data\nData is stored at TACC, and access will be required. SeeHow do I download Consortium data? for more information. Within the A2CPS data on TACC, this is where the BIDS data are stored:\n\n/corral-secure/projects/A2CPS/products/consortium-data/pre-surgery/mris/bids/\n\n\n\n2.2.2 Extract Data\nThe raw MRI data are organized according to v1.9.0 of the Brain Imaging Dataset Structure (BIDS) standard.\nIn BIDS data for individual subjects are stored in folders named “sub-[ID]”. For an example A2CPS session this format results in the following, with the study record_id used as the ID2:\n2 The tree command is just used here to display the folder structure, and is not required for you to have)\n$ tree sub-10003\nsub-10003\n├── ses-V1\n│   ├── anat\n│   │   ├── sub-10003_ses-V1_T1w.json\n│   │   └── sub-10003_ses-V1_T1w.nii.gz\n│   ├── dwi\n│   │   ├── sub-10003_ses-V1_dwi.bval\n│   │   ├── sub-10003_ses-V1_dwi.bvec\n│   │   ├── sub-10003_ses-V1_dwi.json\n│   │   └── sub-10003_ses-V1_dwi.nii.gz\n│   ├── fmap\n│   │   ├── sub-10003_ses-V1_acq-dwib0_dir-AP_epi.json\n│   │   ├── sub-10003_ses-V1_acq-dwib0_dir-AP_epi.nii.gz\n│   │   ├── sub-10003_ses-V1_acq-dwib0_dir-PA_epi.json\n│   │   ├── sub-10003_ses-V1_acq-dwib0_dir-PA_epi.nii.gz\n│   │   ├── sub-10003_ses-V1_acq-dwib0_epi.bval\n│   │   ├── sub-10003_ses-V1_acq-dwib0_epi.bvec\n│   │   ├── sub-10003_ses-V1_acq-fmrib0_dir-AP_epi.json\n│   │   ├── sub-10003_ses-V1_acq-fmrib0_dir-AP_epi.nii.gz\n│   │   ├── sub-10003_ses-V1_acq-fmrib0_dir-PA_epi.json\n│   │   └── sub-10003_ses-V1_acq-fmrib0_dir-PA_epi.nii.gz\n│   ├── func\n│   │   ├── sub-10003_ses-V1_task-cuff_run-01_bold.json\n│   │   ├── sub-10003_ses-V1_task-cuff_run-01_bold.nii.gz\n│   │   ├── sub-10003_ses-V1_task-cuff_run-01_events.tsv\n│   │   ├── sub-10003_ses-V1_task-rest_run-01_bold.json\n│   │   ├── sub-10003_ses-V1_task-rest_run-01_bold.nii.gz\n│   │   ├── sub-10003_ses-V1_task-rest_run-02_bold.json\n│   │   └── sub-10003_ses-V1_task-rest_run-02_bold.nii.gz\n│   └── sub-10003_ses-V1_scans.tsv\n└── sub-10003_sessions.tsv\n5 directories, 25 files\n\nThe raw imaging data are in the (gzip compressed) NIfTi files, and each image is associated with a .json sidecar containing metadata about the scan (metadata that subsumes the NIfTi header).\nThe “session” refers to the visit. Currently only the baseline, pre-surgery data is included, and all sessions have the label “V1”. Information about each participant’s visit is stored in the sub-[record_id]/sub-[record_id]_sessions.tsv file.\nThe pressures that were applied during the CUFF scans are recorded in the sub-[record_id]_ses-[ses_id]_task-cuff_run-[run_id]_events.tsv tables.\nBIDS requires that the diffusion gradient information is stored according to the FSL format, in *bval and *bvec files in the /dwi directory. For details see: Magnetic Resonance Imaging - Brain Imaging Data Structure.\nFiles at the top level of the bids folder contain information that applies to multiple participants. This includes\n\n\n\n\n\n\nFile\nDocumentation\n\n\n\n\nREADME (A2CPS file)\nmodality agnostic files\n\n\nparticipants.tsv (dictionary)\nparticipants file\n\n\nsub-[record_id]_ses-[ses_id]_scans.tsv tables (dictionary)\nscans file\n\n\nsub-[record_id]_sessions.tsv tables (dictionary)\nsessions file\n\n\nsub-[record_id]_ses-[ses_id]_task-cuff_run-[run_id]_events.tsv tables (dictionary)\ntask events\n\n\ndataset_description.json (A2CPS file)\ndataset descriptions\n\n\n\n\n\n\n\n\n2.2.3 Data Quality\nAll raw data have undergone quality review. For details on the review process see A2CPS Imaging Quality Assurance.\nThe resulting overall quality ratings (red/yellow/green) are included in the *scans.tsv files. For example\n\n$ cat sub-10003/ses-V1/sub-10003_ses-V1_scans.tsv \nfilename    rating\nfunc/sub-10003_ses-V1_task-cuff_run-01_bold.nii.gz  green\ndwi/sub-10003_ses-V1_dwi.nii.gz green\nfunc/sub-10003_ses-V1_task-rest_run-01_bold.nii.gz  green\nfunc/sub-10003_ses-V1_task-rest_run-02_bold.nii.gz  green\nanat/sub-10003_ses-V1_T1w.nii.gz    green\nfmap/sub-10003_ses-V1_acq-fmrib0_dir-AP_epi.nii.gz  n/a\nfmap/sub-10003_ses-V1_acq-fmrib0_dir-PA_epi.nii.gz  n/a\nfmap/sub-10003_ses-V1_acq-dwib0_dir-AP_epi.nii.gz   n/a\nfmap/sub-10003_ses-V1_acq-dwib0_dir-PA_epi.nii.gz   n/a\n\nFor a description of the reviews, see the scans.json data dictionary. Re-evaluation of quality and inclusion/exclusion criteria in the context of a specific analysis is always reasonable, but we would advise against including scans labeled “red” in most analyses.\nNote that some “cuff” scans were collected without cuff inflation. These scans can be identified by the “applied_pressure” column of the *events.tsv file. For example\n\n$ grep -b1 -HP \"0\\t450\\t0\" sub-*/ses-V1/func/*events.tsv | head -n 9\nsub-10077/ses-V1/func/sub-10077_ses-V1_task-cuff_run-01_events.tsv-0-onset  duration    applied_pressure\nsub-10077/ses-V1/func/sub-10077_ses-V1_task-cuff_run-01_events.tsv:32:0 450 0\n--\nsub-10077/ses-V1/func/sub-10077_ses-V1_task-cuff_run-02_events.tsv-0-onset  duration    applied_pressure\nsub-10077/ses-V1/func/sub-10077_ses-V1_task-cuff_run-02_events.tsv:32:0 450 0\n--\nsub-10103/ses-V1/func/sub-10103_ses-V1_task-cuff_run-01_events.tsv-0-onset  duration    applied_pressure\nsub-10103/ses-V1/func/sub-10103_ses-V1_task-cuff_run-01_events.tsv:32:0 450 0\n\n\n\n2.2.4 Cross-Modality Links\nParticipants are identified in all imaging products according to their “record_id“, aka “A2CPS ID”. Each record ID is also associated with both a Globally-Unique ID (GUID) that was assigned by the NDA and a REDCap GUID that can be used to associate imaging data with modalities that are not labeled by record ID. The GUIDs are not stored in Release 1.1 but can be made available upon request (see Section 2.3.7).",
    "crumbs": [
      "MRI",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Raw MRI Data Starter Kit</span>"
    ]
  },
  {
    "objectID": "raw-mri.html#considerations-while-working-on-project",
    "href": "raw-mri.html#considerations-while-working-on-project",
    "title": "2  Raw MRI Data Starter Kit",
    "section": "2.3 Considerations While Working on Project",
    "text": "2.3 Considerations While Working on Project\n\n2.3.1 Data Generation\nEach scanner’s manufacturer-specific algorithms and software are used for the reconstruction of image data from k-space (k-space data were not saved). The reconstructed images are exported in the Digital Imaging and Communications in Medicine (DICOM) format and sent electronically from participating sites to the Texas Advanced Computing Center (TACC). Following the Organization for Human Brain Mapping Committee on Best Practices in Data Analysis and Sharing report (Nichols et al., 2017), the DICOM files are converted into the Neuroimaging Informatics Technology Initiative (NIfTI) 1 format (Cox et al., 2004) and organized according to the BIDS specification (Gorgolewski et al., 2016). For this conversion, the pipeline uses HeuDiConv (Halchenko et al., 2024), which in turn uses dcm2niix (Li et al., 2016). Conversion relies on the ReproIn heuristic file (Visconti di Oleggio Castello et al., 2023), modified to encode the sequence and file naming conventions developed for the A2CPS project. The original DICOMs are stored for posterity but are not included in data releases.\n\nNichols, T. E., Das, S., Eickhoff, S. B., Evans, A. C., Glatard, T., Hanke, M., Kriegeskorte, N., Milham, M. P., Poldrack, R. A., Poline, J.-B., et al. (2017). Best practices in data analysis and sharing in neuroimaging using MRI. Nature Neuroscience, 20(3), 299–303. https://doi.org/10.1038/nn.4500\n\nCox, R. W., Ashburner, J., Breman, H., Fissell, K., Haselgrove, C., Holmes, C. J., Lancaster, J. L., Rex, D. E., Smith, S. M., Woodward, J. B., et al. (2004). A (sort of) new image data format standard: NiFTI-1. 10th Annual Meeting of the Organization for Human Brain Mapping, 22, 01. https://nifti.nimh.nih.gov/pub/dist/doc/hbm_nifti_2004.pdf\n\nGorgolewski, K. J., Auer, T., Calhoun, V. D., Craddock, R. C., Das, S., Duff, E. P., Flandin, G., Ghosh, S. S., Glatard, T., Halchenko, Y. O., et al. (2016). The brain imaging data structure, a format for organizing and describing outputs of neuroimaging experiments. Scientific Data, 3(1), 1–9. https://doi.org/10.1038/sdata.2016.44\n\nHalchenko, Y. O., Goncalves, M., Ghosh, S., Velasco, P., Oleggio Castello, M. V. di, Salo, T., Wodder, J. T., Hanke, M., Sadil, P., Gorgolewski, K. J., et al. (2024). HeuDiConv—flexible DICOM conversion into structured directory layouts. Journal of Open Source Software, 9(99), 5839. https://doi.org/10.21105/joss.05839\n\nLi, X., Morgan, P. S., Ashburner, J., Smith, J., & Rorden, C. (2016). The first step for neuroimaging data analysis: DICOM to NIfTI conversion. Journal of Neuroscience Methods, 264, 47–56. https://doi.org/10.1016/j.jneumeth.2016.03.001\n\nVisconti di Oleggio Castello, M., Dobson, J. E., Sackett, T., Kodiweera, C., Haxby, J. V., Goncalves, M., Ghosh, S., & Halchenko, Y. O. (2023). ReproNim/reproin: 0.11.6.2. Zenodo. https://doi.org/10.5281/ZENODO.7975330\nAll mri pipeline code is available through github: https://github.com/a2cps/mri_imaging_pipeline Restricted content. Note that the code used to generate the BIDS derivatives has been updated several times (e.g., the same version of dcm2niix was not used to convert all participants). The specific version of the conversion code is stored in the GeneratedBy field of the dataset_description.json, with entries like\n{\n  \"CodeUrl\": \"https://github.com/a2cps/mri_imaging_pipeline\",\n  \"Container\": {\n    \"Tag\": \"221121\",\n    \"Type\": \"Docker\",\n    \"URI\": \"docker://psadil/heudiconv:221121\"\n  },\n  \"Description\": \"WS20207V1\",\n  \"Name\": \"heudiconv_app\",\n  \"Version\": \"urrutia-heudiconv-0.11.6\"\n} \nThis indicates that the presurgery scan session for participant 20207 (who happens to have been collected at Wayne State) was converted with the heudiconv_app version 0.11.6. That version is recorded here. This app used the docker image psadil/heudiconv:221121.\n\n\n2.3.2 Skull-Stripping for Privacy\nPrior to release, all T1w images are skull-stripped using brain masks from the fMRIPrep pipeline (note that all DIRC processing is carried out using unmodified raw images, which is recommended for many measures like cortical thickness).\n\n\n2.3.3 Acquisition Protocol Variation\nOver the course of the project, individual scanners have occasionally needed upgrading. For a timeline of acquisition changes, see: Timeline of Imaging Acquisition Changes.\nOccasionally, scans were collected with acquisition parameters that differed from the standards listed in the A2CPS Tech Manual. For a review of the kinds of deviations that have been observed, see Imaging Log - Problem Cases. In general, preprocessing pipelines should not assume that there is consistency in the acquisition parameters across participants (even in participants from the same site), and in all cases, the metadata within the json sidecars should be referenced as the best source of information on these parameters.\n\n\n2.3.4 Additions Planned for Later Releases\nRelease 2.0.0 (expected by Winter 2025) will include 1017 participants with at least a T1w image. For planned updates, please see the table Release v2.0 with Product == bids.\n\n\n2.3.5 Software Packages for Working with BIDS\nSeveral packages in multiple languages have been developed to simplify interacting with BIDS. For a complete list, see: Benefits, a subset of which is copied below\n\nbids-matlab: MATLAB/Octave tools to interact with datasets conforming to the BIDS format\nbidser: Working with Brain Imaging Data Structure in R\nPyBIDS: Python package to quickly parse / search the components of a BIDS dataset. It also contains functionality for running analyses on your data.\n\n\n\n2.3.6 Citations\nIf you use the imaging data in your research, please cite the imaging pipeline preprint (Sadil et al., 2024).\n\nSadil, P., Arfanakis, K., Bhuiyan, E. H., Caffo, B., Calhoun, V. D., Clauw, D. J., DeLano, M. C., Ford, J. C., Gattu, R., Guo, X., Harris, R. E., Ichesco, E., Johnson, M. A., Jung, H., Kahn, A. B., Kaplan, C. M., Leloudas, N., Lindquist, M. A., Luo, Q., … Chronic Pain Signatures Consortium, T. A. to. (2024). Image processing in the acute to chronic pain signatures (A2CPS) project. bioRxiv. https://doi.org/10.1101/2024.12.19.627509\n\n\n2.3.7 Contacts\n\nslack: #help-imaging\nemail:\n\nJames Ford\nPatrick Sadil",
    "crumbs": [
      "MRI",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Raw MRI Data Starter Kit</span>"
    ]
  },
  {
    "objectID": "freesurfer.html",
    "href": "freesurfer.html",
    "title": "3  FreeSurfer Measures",
    "section": "",
    "text": "3.1 Before Proposing Project",
    "crumbs": [
      "MRI",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>FreeSurfer Measures</span>"
    ]
  },
  {
    "objectID": "freesurfer.html#before-proposing-project",
    "href": "freesurfer.html#before-proposing-project",
    "title": "3  FreeSurfer Measures",
    "section": "",
    "text": "3.1.1 Confirm Sample Size\nNot all participants in a release have imaging, and not all MRIs are of good quality. Before proposing a project, please confirm that a release will have a large enough sample size. Release 2.0 has 996 participants with for which FreeSurfer data have been extracted.",
    "crumbs": [
      "MRI",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>FreeSurfer Measures</span>"
    ]
  },
  {
    "objectID": "freesurfer.html#starting-project",
    "href": "freesurfer.html#starting-project",
    "title": "3  FreeSurfer Measures",
    "section": "3.2 Starting Project",
    "text": "3.2 Starting Project\n\n3.2.1 Locate data\nIn the release folder, data are stored underneath the mris/derivatives folder:\n\n/corral-secure/projects/A2CPS/products/consortium-data/pre-surgery/mris/derivatives/freesurfer\n\nThis folder contains all of the FreeSurfer outputs for every participant (e.g., this is the directory that could correspond to the FreeSurfer environment variable $SUBJECTS_DIR), which subject folders of the form sub-[recordid]_ses-[protocolid].\nMost users will not need the raw FreeSurfer outputs and can instead rely on tables in which the morphological measures have been aggregated. There are three relevant tables\n\naparc.tsv has the outputs of https://surfer.nmr.mgh.harvard.edu/fswiki/aparcstats2table (this is measurements derived from parcellations of the cortical surface, like cortical thickness)\naseg.tsv has the outputs of https://surfer.nmr.mgh.harvard.edu/fswiki/asegstats2table (that is, measurements derived from segmentations of the 3d structural image, like regional gray matter volumes)\nheaders.tsv has some other information about the brain as a whole (e.g., estimated Total Intracranial Volume)\n\nFor each of these, there are data dictionaries that details the contents (e.g., aparc.json explains the columns of aparc.tsv).\n\n$ ls /corral-secure/projects/A2CPS/products/consortium-data/pre-surgery/mris/derivatives/freesurfer/*{json,tsv}\n/corral-secure/projects/A2CPS/products/consortium-data/pre-surgery/mris/derivatives/freesurfer/aparc.json  /corral-secure/projects/A2CPS/products/consortium-data/pre-surgery/mris/derivatives/freesurfer/gm_morph.tsv\n/corral-secure/projects/A2CPS/products/consortium-data/pre-surgery/mris/derivatives/freesurfer/aparc.tsv   /corral-secure/projects/A2CPS/products/consortium-data/pre-surgery/mris/derivatives/freesurfer/headers.json\n/corral-secure/projects/A2CPS/products/consortium-data/pre-surgery/mris/derivatives/freesurfer/aseg.json   /corral-secure/projects/A2CPS/products/consortium-data/pre-surgery/mris/derivatives/freesurfer/headers.tsv\n/corral-secure/projects/A2CPS/products/consortium-data/pre-surgery/mris/derivatives/freesurfer/aseg.tsv\n\n\n\n3.2.2 Extract data\nIn this kit, we will consider the cortical surface measurements, stored within aparc.tsv. This table contains nine regional measurements for the various structures that compose each of six parcellations.\n\nreadr::read_tsv(\"data/aparc.tsv\", show_col_types = FALSE)\n\n# A tibble: 399,992 × 14\n   StructName       NumVert SurfArea GrayVol ThickAvg ThickStd MeanCurv GausCurv\n   &lt;chr&gt;              &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;\n 1 bankssts            1360      909    2055     2.52    0.397    0.112    0.02 \n 2 caudalanteriorc…     852      604    1626     2.25    0.887    0.131    0.024\n 3 caudalmiddlefro…    2870     1857    4018     2.16    0.485    0.104    0.018\n 4 cuneus              1595     1090    2019     1.74    0.515    0.141    0.027\n 5 entorhinal           480      306    1366     3.03    0.816    0.105    0.018\n 6 fusiform            3434     2414    8326     2.91    0.603    0.123    0.023\n 7 inferiorparietal    4984     3387    7491     2.06    0.508    0.122    0.022\n 8 inferiortemporal    3816     2614    8405     2.79    0.552    0.118    0.021\n 9 isthmuscingulate    1167      782    1820     2.14    0.832    0.117    0.021\n10 lateraloccipital    6159     4023    8578     2.02    0.536    0.132    0.027\n# ℹ 399,982 more rows\n# ℹ 6 more variables: FoldInd &lt;dbl&gt;, CurvInd &lt;dbl&gt;, sub &lt;dbl&gt;, ses &lt;chr&gt;,\n#   hemisphere &lt;chr&gt;, parc &lt;chr&gt;\n\n\nA typical analysis will only rely on one parcellation. For details of the different parcellations, see the FreeSurfer documentation. Two good starting choices are either the aparc or aparc.a2009s atlas.\n\nreadr::read_tsv(\"data/aparc.tsv\", show_col_types = FALSE) |&gt;\n  dplyr::filter(parc == \"aparc.a2009s\")\n\n# A tibble: 147,258 × 14\n   StructName       NumVert SurfArea GrayVol ThickAvg ThickStd MeanCurv GausCurv\n   &lt;chr&gt;              &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;\n 1 G_and_S_frontom…     828      603    1341     2.10    0.476    0.131    0.026\n 2 G_and_S_occipit…    1116      762    2218     2.47    0.643    0.127    0.025\n 3 G_and_S_paracen…    1548      858    1810     1.89    0.58     0.097    0.019\n 4 G_and_S_subcent…    1151      809    2142     2.44    0.413    0.129    0.021\n 5 G_and_S_transv_…     531      480    1424     2.38    0.585    0.203    0.052\n 6 G_and_S_cingul-…    2005     1481    3804     2.46    0.531    0.14     0.028\n 7 G_and_S_cingul-…    1183      840    2115     2.44    0.618    0.118    0.021\n 8 G_and_S_cingul-…    1222      851    2125     2.53    0.527    0.128    0.03 \n 9 G_cingul-Post-d…     430      310    1028     2.53    0.658    0.15     0.026\n10 G_cingul-Post-v…     234      152     460     2.52    0.968    0.119    0.025\n# ℹ 147,248 more rows\n# ℹ 6 more variables: FoldInd &lt;dbl&gt;, CurvInd &lt;dbl&gt;, sub &lt;dbl&gt;, ses &lt;chr&gt;,\n#   hemisphere &lt;chr&gt;, parc &lt;chr&gt;",
    "crumbs": [
      "MRI",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>FreeSurfer Measures</span>"
    ]
  },
  {
    "objectID": "freesurfer.html#considerations-while-working-on-the-project",
    "href": "freesurfer.html#considerations-while-working-on-the-project",
    "title": "3  FreeSurfer Measures",
    "section": "3.3 Considerations While Working on the Project",
    "text": "3.3 Considerations While Working on the Project\n\n3.3.1 Variability Across Scanners\nMany MRI biomarkers exhibit variability across the scanners, which may confound some analyses. The imaging DIRC is quantifying and mitigating this variability. For an ongoing review of the issue, please see https://a2cps.atlassian.net/wiki/spaces/DOC/pages/176619539/Imaging+Harmonization.\n\n\n3.3.2 Data Quality\nAs with any MRI derivative, all pipeline derivatives have been included. This means that products were included regardless of their quality, and so some products are known to have poor quality–rated “red” or incomparable. For details on the ratings and how to exclude them, see bids-qc-joining.\nCurrently, no QC has been performed on the underlying segmentations and parcellations. With adequate sample sizes, results based on whole-atlas FreeSurfer measurements are generally robust, although there are individual regions that may warrant close inspection (e.g., McCarthy et al. 2015, Vahermaa et al. 2023). Moreover, it remains unclear the extent to which FreeSurfer’s accuracy persists over the wide range of demographics found in the A2CPS dataset. The Imaging DIRC is actively exploring these aspects of quality.\n\n\n3.3.3 Methods\nFreeSurfer outputs were generated by the fMRIPrep pipeline (https://fmriprep.org/en/stable/workflows.html#surface-preprocessing). The fMRIPrep pipeline is similar to a typical call to FreeSurfer’s recon-all, with a majority of changes aiming to parallelize more parts of recon-all. However, there are differences, such as in how the brain is masked. The A2CPS use of fMRIPrep is even more different because it entails replacing the fMRIPrep masking procedure with SynthStrip. In general, these changes are expected to only improve the quality of the FreeSurfer outputs. However, they may hinder some comparisons between results derived from A2CPS and those in other studies.",
    "crumbs": [
      "MRI",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>FreeSurfer Measures</span>"
    ]
  },
  {
    "objectID": "neural-pain-signatures.html",
    "href": "neural-pain-signatures.html",
    "title": "4  Prior Neural Pain Signature Responses",
    "section": "",
    "text": "4.1 Before Proposing Project",
    "crumbs": [
      "MRI",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Prior Neural Pain Signature Responses</span>"
    ]
  },
  {
    "objectID": "neural-pain-signatures.html#before-proposing-project",
    "href": "neural-pain-signatures.html#before-proposing-project",
    "title": "4  Prior Neural Pain Signature Responses",
    "section": "",
    "text": "4.1.1 Confirm Sample Size\nNot all participants in a release have imaging, and depending on the application not all MRIs may be of sufficient quality. Before proposing a project, please confirm that a release will have a large enough sample size. Release 1.1 has 440 participants with the primary task fMRI biomarker: NPS (Wager et al., 2013) and SIIPS-1 (Woo et al., 2017).\n\nWager, T. D., Atlas, L. Y., Lindquist, M. A., Roy, M., Woo, C.-W., & Kross, E. (2013). An fMRI-Based Neurologic Signature of Physical Pain. New England Journal of Medicine, 368(15), 1388–1397. https://doi.org/10.1056/NEJMoa1204471\n\nWoo, C.-W., Schmidt, L., Krishnan, A., Jepma, M., Roy, M., Lindquist, M. A., Atlas, L. Y., & Wager, T. D. (2017). Quantifying cerebral contributions to pain beyond nociception. Nature Communications, 8(1), 14211. https://doi.org/10.1038/ncomms14211\nNote also that these participants have been collected at several different scanners, and there is variability in the measures across scanners. In Release 1.1, some scanners were used to collect only a few participants (for example, only five participants were collected on the Wayne State scanner).",
    "crumbs": [
      "MRI",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Prior Neural Pain Signature Responses</span>"
    ]
  },
  {
    "objectID": "neural-pain-signatures.html#starting-project",
    "href": "neural-pain-signatures.html#starting-project",
    "title": "4  Prior Neural Pain Signature Responses",
    "section": "4.2 Starting Project",
    "text": "4.2 Starting Project\n\n4.2.1 Locate data\nOn TACC, the neuroimaging data are stored underneath the releases. For example, data release v1.#.# is underneath\n\n/corral-secure/projects/A2CPS/products/consortium-data/pre-surgery/mris\n\nThe signature response are underneath derivatives/signatures\n$ ls derivatives/signatures/\nsignature-bold     signature-by-part.json  signature-by-run.json  signature-by-tr.json  signature-confounds       signature-labels       signature-rawdata\nsignature-by-part  signature-by-run        signature-by-tr        signature-cleaned     signature-confounds.json  signature-labels.json  signature-rawdata.json\nSignature responses are stored either “by-run” (that is, one response per scan), “by-part” (three responses per run corresponding to the three parts for which participants provided pain ratings), or “by-tr” (one response for every volume). The biomarker corresponds to the values that are “by-run”.\nEach signature response folder contains a table of values, and *.json sidecars are data dictionaries that conform to BIDS. The data dictionary for responses “by-run” is copied below.\n{\n    \"signature\": {\n        \"LongName\": \"Signature\",\n        \"Description\": \"Index for of Signature. See signature_labels.json\"\n    },\n    \"correlation\": {\n        \"LongName\": \"Correlation\",\n        \"Description\": \"Signature as Estimated by Correlation\"\n    },\n    \"dot\": {\n        \"LongName\": \"Dot Product\",\n        \"Description\": \"Signature as Estimated by Dot Product\"\n    },\n    \"cosine\": {\n        \"LongName\": \"Cosine Similarity\",\n        \"Description\": \"Signature as Estimated by Cosine Similarity\"\n    },\n    \"sub\": {\n        \"LongName\": \"Subject\",\n        \"Description\": \"Study Participant, BIDS Subject ID\",\n        \"TermURL\": \"https://bids-specification.readthedocs.io/en/v1.9.0/appendices/entities.html#sub\"\n    },\n    \"ses\": {\n        \"LongName\": \"Session\",\n        \"Description\": \"Visit, BIDS Session ID\",\n        \"Levels\": {\n            \"V1\": \"Baseline Visit\",\n            \"V3\": \"3 Month Followup Visit\"\n        },\n        \"TermURL\": \"https://bids-specification.readthedocs.io/en/v1.9.0/appendices/entities.html#ses\"\n    },\n    \"task\": {\n        \"LongName\": \"Task\",\n        \"Description\": \"Functional MRI Task, BIDS Task ID\",\n        \"Levels\": {\n            \"cuff\": \"cuff pressure scan\",\n            \"rest\": \"resting state scan\"\n        },\n        \"TermURL\": \"https://bids-specification.readthedocs.io/en/v1.9.0/appendices/entities.html#task\"\n    },\n    \"run\": {\n        \"LongName\": \"Run\",\n        \"Description\": \"Task Run Number, BIDS Run ID\",\n        \"TermURL\": \"https://bids-specification.readthedocs.io/en/v1.9.0/appendices/entities.html#run\"\n    }\n}\nNote: the table mentions “session”, but in this release only V1 (baseline) results are available.\n\n\n4.2.2 Extract data\nThe tabular data comprise parquet files that have been partitioned in a hive style. That is, subfolders names contain column information – in this case subject ID (REDCap Record ID), task, and run.\n$ tree signature-by-run\nsignature-by-run\n├── sub=10003\n│  └── ses=V1\n│     ├── task=cuff\n│     │  └── run=1\n│     │     └── part-0.parquet\n│     └── task=rest\n│        ├── run=1\n│        │  └── part-0.parquet\n│        └── run=2\n│           └── part-0.parquet\n├── sub=10008\n│  └── ses=V1\n│     ├── task=cuff\n│     │  └── run=1\n│     │     └── part-0.parquet\n│     └── task=rest\n│        ├── run=1\n│        │  └── part-0.parquet\n│        └── run=2\nThe biomarker is based on the CUFF1 (task=cuff/run=1) scan. The other scans are available for secondary analyses, but please note that not all participants have all tasks and runs available.\nTo load the whole dataset, the parquet files may be read individually or using a tool that is aware of the hive-partitioning structure. In R, a good choice is the arrow library.\n\nlibrary(arrow)\nlibrary(dplyr)\nlibrary(tidyr)\n\nopen_dataset(\"data/signature-by-run\") |&gt; \n  filter(signature %in% c(\"grouppred_cvpcr\", \"137subjmap_weighted_mean\")) |&gt;\n  filter(task==\"cuff\", run==1) |&gt;\n  select(signature, value=correlation, sub, ses) |&gt;\n  collect() |&gt;\n  pivot_wider(names_from = signature) |&gt;\n  rename(\n    SIIPS1=`137subjmap_weighted_mean`,\n    NPS=`grouppred_cvpcr`)\n\n# A tibble: 440 × 4\n     sub ses    SIIPS1       NPS\n   &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;     &lt;dbl&gt;\n 1 10008 V1    -0.0797 -0.000435\n 2 10003 V1    -0.0260  0.0142  \n 3 10011 V1    -0.0381 -0.00112 \n 4 10010 V1    -0.0630  0.00221 \n 5 10013 V1    -0.0422  0.00809 \n 6 10014 V1    -0.0377  0.00990 \n 7 10017 V1    -0.0390  0.0237  \n 8 10015 V1    -0.0701  0.00553 \n 9 10020 V1    -0.0509 -0.000624\n10 10023 V1    -0.0160  0.00820 \n# ℹ 430 more rows\n# ℹ Use `print(n = ...)` to see more rows\nIn python, a good choice is the polars library\n\nimport polars as pl\n\npl.read_parquet(\"data/signature-by-run\").filter(\n    pl.col(\"signature\").is_in([\"grouppred_cvpcr\", \"137subjmap_weighted_mean\"])\n).filter(pl.col(\"task\") == \"cuff\", pl.col(\"run\") == 1).rename(\n    {\"correlation\": \"value\"}\n).select(\n    \"signature\",\n    \"value\",\n    \"sub\",\n    \"ses\",\n).pivot(\n    on=\"signature\", index=[\"sub\", \"ses\"]\n).rename(\n    {\"grouppred_cvpcr\": \"NPS\", \"137subjmap_weighted_mean\": \"SIIPS1\"}\n)\n\nshape: (440, 4)\n┌───────┬─────┬───────────┬───────────┐\n│ sub   ┆ ses ┆ SIIPS1    ┆ NPS       │\n│ ---   ┆ --- ┆ ---       ┆ ---       │\n│ i64   ┆ str ┆ f64       ┆ f64       │\n╞═══════╪═════╪═══════════╪═══════════╡\n│ 10003 ┆ V1  ┆ -0.025985 ┆ 0.014206  │\n│ 10008 ┆ V1  ┆ -0.079689 ┆ -0.000435 │\n│ 10010 ┆ V1  ┆ -0.062953 ┆ 0.002212  │\n│ 10011 ┆ V1  ┆ -0.038073 ┆ -0.001121 │\n│ 10013 ┆ V1  ┆ -0.042161 ┆ 0.008091  │\n│ …     ┆ …   ┆ …         ┆ …         │\n│ 25081 ┆ V1  ┆ -0.070675 ┆ -0.022013 │\n│ 25090 ┆ V1  ┆ -0.034116 ┆ -0.005581 │\n│ 25091 ┆ V1  ┆ -0.062637 ┆ -0.00005  │\n│ 25094 ┆ V1  ┆ -0.053041 ┆ -0.007981 │\n│ 25095 ┆ V1  ┆ -0.0281   ┆ -0.004837 │\n└───────┴─────┴───────────┴───────────┘\n\n\n4.2.3 Data Quality\nAll imaging scans are subjected to quality control: A2CPS Imaging Quality Assurance, which results in a quality rating of “green”, “yellow”, or “red”. Images rated “red” are not expected to be usable for most analyses. These quality ratings are available in tables matching\n/corral-secure/projects/A2CPS/products/consortium-data/pre-surgery/mris/bids/sub-[subject_id]/ses-[session_id]/sub-[subject_id]_ses-[session_id]_scans.tsv\nFor example\n$ grep task bids/sub-10050/ses-V1/sub-10050_ses-V1_scans.tsv \nfunc/sub-10050_ses-V1_task-cuff_run-01_bold.nii.gz  green\nfunc/sub-10050_ses-V1_task-cuff_run-02_bold.nii.gz  green\nfunc/sub-10050_ses-V1_task-rest_run-01_bold.nii.gz  green\nfunc/sub-10050_ses-V1_task-rest_run-02_bold.nii.gz  green\n\n\n4.2.4 Associate data with A2CPS Record IDs and NDA Globally-Unique ID\nLinks between the participant record IDs and the biospecimen IDs are not yet available. If these are needed, please contact Patrick Sadil.",
    "crumbs": [
      "MRI",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Prior Neural Pain Signature Responses</span>"
    ]
  },
  {
    "objectID": "neural-pain-signatures.html#considerations-while-working-on-the-project",
    "href": "neural-pain-signatures.html#considerations-while-working-on-the-project",
    "title": "4  Prior Neural Pain Signature Responses",
    "section": "4.3 Considerations While Working on the Project",
    "text": "4.3 Considerations While Working on the Project\n\n4.3.1 Variability Across Scanners\nMany MRI biomarkers exhibit variability across the scanners, which may confound some analyses. The imaging DIRC is quantifying and mitigating this variability. For an ongoing review of the issue, please see Imaging Harmonization.\n\n\n4.3.2 Signature Response Measure\nThe signature responses were extracted using best-practices, but the imaging DIRC is currently exploring alternative ways of calculating signature responses in the CUFF tasks. For details and progress, please see Imaging Analysis Ideas | NPS+SIIPS1 on ToPS or SpaceTop Data.\n\n\n4.3.3 Intermediate Outputs\nThe other folders contain intermediate outputs that may be useful for digging into a participant’s results\n\nsignature-rawdata\n\nParquet dataset of minimally preprocessed (post-fMRIPrep) functional MRI (cuff and rest).\n\nsignature-confounds\n\nThe nuisance timeseries that were used during denoising\n\nsignature-cleaned\n\nThe NifTI files of functional MRI after denoising (e.g., temporal filter, nuisance regression)\n\nsignature-bold\n\nParquet dataset of denoised fMRI\n\nsignature-labels\n\nAnatomical labels associated with the individual voxels (brain, FreeSurfer Segmentations, FAST Parcellations)",
    "crumbs": [
      "MRI",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Prior Neural Pain Signature Responses</span>"
    ]
  },
  {
    "objectID": "faq.html",
    "href": "faq.html",
    "title": "FAQ",
    "section": "",
    "text": "Q: After reviewing the kit, I still have questions. Who should I contact?\n\nA: Each kit is maintained by a different member of the DIRC, and their contact information is listed at the end of the kit. Please use the channels listed in the kit",
    "crumbs": [
      "FAQ"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Cox, R. W., Ashburner, J., Breman, H., Fissell, K., Haselgrove, C.,\nHolmes, C. J., Lancaster, J. L., Rex, D. E., Smith, S. M., Woodward, J.\nB., et al. (2004). A (sort of) new image data format standard: NiFTI-1.\n10th Annual Meeting of the Organization for Human Brain\nMapping, 22, 01. https://nifti.nimh.nih.gov/pub/dist/doc/hbm_nifti_2004.pdf\n\n\nGorgolewski, K. J., Auer, T., Calhoun, V. D., Craddock, R. C., Das, S.,\nDuff, E. P., Flandin, G., Ghosh, S. S., Glatard, T., Halchenko, Y. O.,\net al. (2016). The brain imaging data structure, a format for organizing\nand describing outputs of neuroimaging experiments. Scientific\nData, 3(1), 1–9. https://doi.org/10.1038/sdata.2016.44\n\n\nHalchenko, Y. O., Goncalves, M., Ghosh, S., Velasco, P., Oleggio\nCastello, M. V. di, Salo, T., Wodder, J. T., Hanke, M., Sadil, P.,\nGorgolewski, K. J., et al. (2024). HeuDiConv—flexible DICOM conversion\ninto structured directory layouts. Journal of Open Source\nSoftware, 9(99), 5839. https://doi.org/10.21105/joss.05839\n\n\nLi, X., Morgan, P. S., Ashburner, J., Smith, J., & Rorden, C.\n(2016). The first step for neuroimaging data analysis: DICOM to NIfTI\nconversion. Journal of Neuroscience Methods, 264,\n47–56. https://doi.org/10.1016/j.jneumeth.2016.03.001\n\n\nNichols, T. E., Das, S., Eickhoff, S. B., Evans, A. C., Glatard, T.,\nHanke, M., Kriegeskorte, N., Milham, M. P., Poldrack, R. A., Poline,\nJ.-B., et al. (2017). Best practices in data analysis and sharing in\nneuroimaging using MRI. Nature Neuroscience, 20(3),\n299–303. https://doi.org/10.1038/nn.4500\n\n\nSadil, P., Arfanakis, K., Bhuiyan, E. H., Caffo, B., Calhoun, V. D.,\nClauw, D. J., DeLano, M. C., Ford, J. C., Gattu, R., Guo, X., Harris, R.\nE., Ichesco, E., Johnson, M. A., Jung, H., Kahn, A. B., Kaplan, C. M.,\nLeloudas, N., Lindquist, M. A., Luo, Q., … Chronic Pain Signatures\nConsortium, T. A. to. (2024). Image processing in the acute to chronic\npain signatures (A2CPS) project. bioRxiv. https://doi.org/10.1101/2024.12.19.627509\n\n\nVisconti di Oleggio Castello, M., Dobson, J. E., Sackett, T., Kodiweera,\nC., Haxby, J. V., Goncalves, M., Ghosh, S., & Halchenko, Y. O.\n(2023). ReproNim/reproin: 0.11.6.2. Zenodo. https://doi.org/10.5281/ZENODO.7975330\n\n\nWager, T. D., Atlas, L. Y., Lindquist, M. A., Roy, M., Woo, C.-W., &\nKross, E. (2013). An fMRI-Based Neurologic\nSignature of Physical Pain. New England Journal\nof Medicine, 368(15), 1388–1397. https://doi.org/10.1056/NEJMoa1204471\n\n\nWoo, C.-W., Schmidt, L., Krishnan, A., Jepma, M., Roy, M., Lindquist, M.\nA., Atlas, L. Y., & Wager, T. D. (2017). Quantifying cerebral\ncontributions to pain beyond nociception. Nature\nCommunications, 8(1), 14211. https://doi.org/10.1038/ncomms14211",
    "crumbs": [
      "References"
    ]
  },
  {
    "objectID": "bids-qc-joining.html",
    "href": "bids-qc-joining.html",
    "title": "Appendix A — Exclude Scans with “Red” Quality",
    "section": "",
    "text": "For each MRI product, all pipeline derivatives have been included. This means that products were included regardless of their quality, and so some products are known to have poor quality–rated “red” or incomparable. This kit walks through one way to incorporate those outputs for FreeSurfer products. For details on how the ratings were generated, see https://a2cps.atlassian.net/wiki/spaces/DIRC/pages/303857665/Raw+MRI+Data+Starter+Kit.\n\nlibrary(fs)\nlibrary(readr)\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(stringr)\n\nFirst, start by loading the table of FreeSurfer outputs. In this example, the cortical parcellations will be used.\n\naparc &lt;- read_tsv(\"data/aparc.tsv\")\n\nRows: 399992 Columns: 14\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \"\\t\"\nchr  (4): StructName, ses, hemisphere, parc\ndbl (10): NumVert, SurfArea, GrayVol, ThickAvg, ThickStd, MeanCurv, GausCurv...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\naparc\n\n# A tibble: 399,992 × 14\n   StructName       NumVert SurfArea GrayVol ThickAvg ThickStd MeanCurv GausCurv\n   &lt;chr&gt;              &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;\n 1 bankssts            1360      909    2055     2.52    0.397    0.112    0.02 \n 2 caudalanteriorc…     852      604    1626     2.25    0.887    0.131    0.024\n 3 caudalmiddlefro…    2870     1857    4018     2.16    0.485    0.104    0.018\n 4 cuneus              1595     1090    2019     1.74    0.515    0.141    0.027\n 5 entorhinal           480      306    1366     3.03    0.816    0.105    0.018\n 6 fusiform            3434     2414    8326     2.91    0.603    0.123    0.023\n 7 inferiorparietal    4984     3387    7491     2.06    0.508    0.122    0.022\n 8 inferiortemporal    3816     2614    8405     2.79    0.552    0.118    0.021\n 9 isthmuscingulate    1167      782    1820     2.14    0.832    0.117    0.021\n10 lateraloccipital    6159     4023    8578     2.02    0.536    0.132    0.027\n# ℹ 399,982 more rows\n# ℹ 6 more variables: FoldInd &lt;dbl&gt;, CurvInd &lt;dbl&gt;, sub &lt;dbl&gt;, ses &lt;chr&gt;,\n#   hemisphere &lt;chr&gt;, parc &lt;chr&gt;\n\n\nThe overall quality ratings (red/yellow/green) for the rawdata are included in the *scans.tsv files. For example\n\n$ cat sub-10003/ses-V1/sub-10003_ses-V1_scans.tsv \nfilename    rating\nfunc/sub-10003_ses-V1_task-cuff_run-01_bold.nii.gz  green\ndwi/sub-10003_ses-V1_dwi.nii.gz green\nfunc/sub-10003_ses-V1_task-rest_run-01_bold.nii.gz  green\nfunc/sub-10003_ses-V1_task-rest_run-02_bold.nii.gz  green\nanat/sub-10003_ses-V1_T1w.nii.gz    green\nfmap/sub-10003_ses-V1_acq-fmrib0_dir-AP_epi.nii.gz  n/a\nfmap/sub-10003_ses-V1_acq-fmrib0_dir-PA_epi.nii.gz  n/a\nfmap/sub-10003_ses-V1_acq-dwib0_dir-AP_epi.nii.gz   n/a\nfmap/sub-10003_ses-V1_acq-dwib0_dir-PA_epi.nii.gz   n/a\n\nTo load the files, first list them all with fs::dir_ls.\n\nscan_files &lt;- dir_ls(\"data/scans\", glob = \"*tsv\")\nhead(scan_files)\n\ndata/scans/sub-10003_ses-V1_scans.tsv data/scans/sub-10005_ses-V1_scans.tsv \ndata/scans/sub-10008_ses-V1_scans.tsv data/scans/sub-10010_ses-V1_scans.tsv \ndata/scans/sub-10011_ses-V1_scans.tsv data/scans/sub-10013_ses-V1_scans.tsv \n\n\nThey can be read and bound together using readr::read_tsv. Note that the BIDS way to represent null values is with 'n/a'.\n\nscans &lt;- read_tsv(scan_files, na = \"n/a\")\n\nRows: 9188 Columns: 2\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \"\\t\"\nchr (2): filename, rating\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nscans\n\n# A tibble: 9,188 × 2\n   filename                                           rating\n   &lt;chr&gt;                                              &lt;chr&gt; \n 1 func/sub-10003_ses-V1_task-cuff_run-01_bold.nii.gz green \n 2 dwi/sub-10003_ses-V1_dwi.nii.gz                    green \n 3 func/sub-10003_ses-V1_task-rest_run-01_bold.nii.gz green \n 4 func/sub-10003_ses-V1_task-rest_run-02_bold.nii.gz green \n 5 anat/sub-10003_ses-V1_T1w.nii.gz                   green \n 6 fmap/sub-10003_ses-V1_acq-fmrib0_dir-AP_epi.nii.gz &lt;NA&gt;  \n 7 fmap/sub-10003_ses-V1_acq-fmrib0_dir-PA_epi.nii.gz &lt;NA&gt;  \n 8 fmap/sub-10003_ses-V1_acq-dwib0_dir-AP_epi.nii.gz  &lt;NA&gt;  \n 9 fmap/sub-10003_ses-V1_acq-dwib0_dir-PA_epi.nii.gz  &lt;NA&gt;  \n10 anat/sub-10005_ses-V1_T1w.nii.gz                   yellow\n# ℹ 9,178 more rows\n\n\nRatings will be used to exclude some FreeSurfer products, and so we only need the ratings for the T1w scans.\n\nt1w_ratings &lt;- scans |&gt;\n  filter(str_detect(filename, \"T1w\"))\n\nIn this example, all scans with a rating “red” will be excluded, so filter for those scans.\n\nred_t1w &lt;- t1w_ratings |&gt;\n  filter(rating==\"red\")\nred_t1w\n\n# A tibble: 8 × 2\n  filename                         rating\n  &lt;chr&gt;                            &lt;chr&gt; \n1 anat/sub-10144_ses-V1_T1w.nii.gz red   \n2 anat/sub-10216_ses-V1_T1w.nii.gz red   \n3 anat/sub-10258_ses-V1_T1w.nii.gz red   \n4 anat/sub-10267_ses-V1_T1w.nii.gz red   \n5 anat/sub-10553_ses-V1_T1w.nii.gz red   \n6 anat/sub-10559_ses-V1_T1w.nii.gz red   \n7 anat/sub-20040_ses-V1_T1w.nii.gz red   \n8 anat/sub-20224_ses-V1_T1w.nii.gz red   \n\n\nThe FreeSurfer rows are defined by the entities sub and ses, so extract these from the filename column.\n\nred_t1w_w_entities &lt;- red_t1w |&gt;\n  mutate(\n    sub = str_extract(filename, \"(?&lt;=sub-)[[:digit:]]{5}\") |&gt;\n      as.integer(),\n    ses = str_extract(filename, \"V[13]\")\n  )\n\nFinally, this table with red ratings can be used to exclude participants with a low quality T1w scan.\n\naparc_wo_red &lt;- aparc |&gt;\n  anti_join(red_t1w_w_entities, by = join_by(sub, ses))\naparc_wo_red\n\n# A tibble: 396,776 × 14\n   StructName       NumVert SurfArea GrayVol ThickAvg ThickStd MeanCurv GausCurv\n   &lt;chr&gt;              &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;\n 1 bankssts            1360      909    2055     2.52    0.397    0.112    0.02 \n 2 caudalanteriorc…     852      604    1626     2.25    0.887    0.131    0.024\n 3 caudalmiddlefro…    2870     1857    4018     2.16    0.485    0.104    0.018\n 4 cuneus              1595     1090    2019     1.74    0.515    0.141    0.027\n 5 entorhinal           480      306    1366     3.03    0.816    0.105    0.018\n 6 fusiform            3434     2414    8326     2.91    0.603    0.123    0.023\n 7 inferiorparietal    4984     3387    7491     2.06    0.508    0.122    0.022\n 8 inferiortemporal    3816     2614    8405     2.79    0.552    0.118    0.021\n 9 isthmuscingulate    1167      782    1820     2.14    0.832    0.117    0.021\n10 lateraloccipital    6159     4023    8578     2.02    0.536    0.132    0.027\n# ℹ 396,766 more rows\n# ℹ 6 more variables: FoldInd &lt;dbl&gt;, CurvInd &lt;dbl&gt;, sub &lt;dbl&gt;, ses &lt;chr&gt;,\n#   hemisphere &lt;chr&gt;, parc &lt;chr&gt;",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>A</span>  <span class='chapter-title'>Exclude Scans with \"Red\" Quality</span>"
    ]
  },
  {
    "objectID": "ids.html",
    "href": "ids.html",
    "title": "Appendix B — ID Information",
    "section": "",
    "text": "B.1 Location\nA2CPS relies on several different schemes for labeling and describing metadata entities. This appendix describes those schemes to facilitate linking entities across data modalities.\nLocation refers to where the data were collected.\nThe following table may be used for mapping across datatypes.",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>B</span>  <span class='chapter-title'>ID Information</span>"
    ]
  },
  {
    "objectID": "ids.html#location",
    "href": "ids.html#location",
    "title": "Appendix B — ID Information",
    "section": "",
    "text": "Terminology Mapping\n\n\nTerminology\nVenue\nNotes\n\n\n\n\nsite (code)\nImaging\nIn Imaging, the code is a two-letter acronym set when the project began. Sites changed their name, and so the acronym may not obviously correspond to the longer name. The mapping is always one-to-one. participants.tsv\n\n\nsite (LongName)\n\n\ncollection site\nVBR\nlocations table",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>B</span>  <span class='chapter-title'>ID Information</span>"
    ]
  },
  {
    "objectID": "ids.html#participants",
    "href": "ids.html#participants",
    "title": "Appendix B — ID Information",
    "section": "B.2 Participants",
    "text": "B.2 Participants\n\n\n\n\nTerminology Mapping\n\n\n\n\n\n\n\nTerminology\nVenue\nNotes\n\n\n\n\nsubject\nImaging\nIn Imaging, “subject” is used interchangeably with “participant“ and both are equivalent to “record”\n\n\nparticipant\nImaging\nIn Imaging, “participant” is used interchangeably with “subject“ and both are equivalent to “record”\n\n\nsubject_guid\nVBR\nIn the VBR, “subject_guid” refers to the same entity as “NDA GUID” in Imaging, but the format is a UUID\n\n\nrecord\nREDCap\n10000-14999: MCC1 TKA; 15000-19999: MCC1 Thoracic; 20000-24999: MCC2 Thoracic; 25000-29999: MCC2 TKA\n\n\nIndividual ID\nGenetics\nChapter 1\n\n\nGlobally Unique ID (GUID*)\nNDA\nThe GUIDs used in A2CPS are not typical GUIDs but “pseudo-GUIDs“. A decision to upload to the NDA was made partway through the project, at which time it was too late to collect the information that would be required to make typical GUIDs. In practice, this means that the GUIDs used by A2CPS cannot be used to link these participants to other studies within the NDA. https://nda.nih.gov/nda/using-the-nda-guid",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>B</span>  <span class='chapter-title'>ID Information</span>"
    ]
  },
  {
    "objectID": "ids.html#visits",
    "href": "ids.html#visits",
    "title": "Appendix B — ID Information",
    "section": "B.3 Visits",
    "text": "B.3 Visits\n\n\n\n\nTerminology Mapping\n\n\nTerminology\nVenue\nNotes\n\n\n\n\nsession\nImaging\n\n\n\nvisit\nNDA, Imaging\nimage03\n\n\nvisnum\nNDA\nimage03\n\n\nsession_det\nNDA\nimage03, fmriresults01\n\n\nprotocol_name\nVBR\nprotocol table\n\n\n\n\n\n\nThe following table may be used for mapping across datatypes.",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>B</span>  <span class='chapter-title'>ID Information</span>"
    ]
  },
  {
    "objectID": "ids.html#contacts",
    "href": "ids.html#contacts",
    "title": "Appendix B — ID Information",
    "section": "B.4 Contacts",
    "text": "B.4 Contacts\n\nJoshua Urrutia\nJames Ford\nMargaret Taub",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>B</span>  <span class='chapter-title'>ID Information</span>"
    ]
  },
  {
    "objectID": "nda-mri.html",
    "href": "nda-mri.html",
    "title": "Appendix C — NDA Download Example, MRI",
    "section": "",
    "text": "C.1 Data Overview\nThis page describes the A2CPS rawdata as downloaded from the NDA.\nIf you do not yet have access to the NDA and plan to download data from the NDA, please follow the instructions on the A2CPS For Researchers page (Accessing our Data) and the linked tutorials.\nThis starter kit will assume that the data have been downloaded using nda-tools. In this example, a Data Package has been created that includes the rawdata. You will see a list of files like the following",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>C</span>  <span class='chapter-title'>NDA Download Example, MRI</span>"
    ]
  },
  {
    "objectID": "nda-mri.html#data-overview",
    "href": "nda-mri.html#data-overview",
    "title": "Appendix C — NDA Download Example, MRI",
    "section": "",
    "text": "$ tree -L 2\n.\n├── dataset_collection.txt\n├── datastructure_manifest.txt\n├── experiments\n│   ├── experiment_2652\n│   └── experiment_2655\n├── image03\n│   ├── corral-secure\n│   └── manifest-files\n├── image03.txt\n├── md5_values.txt\n├── package_file_metadata_1235008.txt.gz\n├── package_info.txt\n└── README.pdf",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>C</span>  <span class='chapter-title'>NDA Download Example, MRI</span>"
    ]
  },
  {
    "objectID": "nda-mri.html#data-structures",
    "href": "nda-mri.html#data-structures",
    "title": "Appendix C — NDA Download Example, MRI",
    "section": "C.2 Data Structures",
    "text": "C.2 Data Structures\nThis is raw imaging data, and so it is stored in the image03 Data Structure (link goes to data dictionary). Metadata is stored in the image03.txt. This is where you will find information such as participant age, participant sex, and scan acquisition date.\nNote that, as with downloads of all NDA data structures, the second line of this table includes a partial data dictionary. That is, the header is on the first line, and the first row of data is on the third line.",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>C</span>  <span class='chapter-title'>NDA Download Example, MRI</span>"
    ]
  },
  {
    "objectID": "nda-mri.html#imaging-files",
    "href": "nda-mri.html#imaging-files",
    "title": "Appendix C — NDA Download Example, MRI",
    "section": "C.3 Imaging Files",
    "text": "C.3 Imaging Files\nThe imaging files are underneath image03.\n$ ls image03/corral-secure/projects/A2CPS/products/consortium-data/pre-surgery/mris/bids/ | head\ndataset_description.json\nREADME\nsessions.json\nsub-10003\nsub-10005\nsub-10008\nsub-10010\nsub-10011\nsub-10013\nThe contents of that folder match the contents described in Chapter 2 (note that the aggregated table participants.tsv is not included in the NDA download, as the information is available in image03.txt).",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>C</span>  <span class='chapter-title'>NDA Download Example, MRI</span>"
    ]
  },
  {
    "objectID": "nda-mri.html#experiments",
    "href": "nda-mri.html#experiments",
    "title": "Appendix C — NDA Download Example, MRI",
    "section": "C.4 Experiments",
    "text": "C.4 Experiments\nThe rawdata folder includes an “experiments“ folder, which provides some information on how the two types of fMRI scans were collected.\n\n\n\n\n\n\n\n\n\n\nExperiment\nFiles\n\n\n\n\nexperiment_2652 (rfMRI)\n experiment_2652.xml   A2CPS_rest.txt \n\n\nexperiment_2655 (tfMRI)\n experiment_2655.xml   A2CPS_cuff.txt",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>C</span>  <span class='chapter-title'>NDA Download Example, MRI</span>"
    ]
  },
  {
    "objectID": "nda-mri.html#additional-nda-metadata",
    "href": "nda-mri.html#additional-nda-metadata",
    "title": "Appendix C — NDA Download Example, MRI",
    "section": "C.5 Additional NDA Metadata",
    "text": "C.5 Additional NDA Metadata\nThe rest of the files are metadata associated with the storage of the dataset in the NDA or information about the Data Package. Most users will not need to interact with these files unless something has gone wrong with the download.\n\n\n\n\n\n\n\n\n\n\nFile/Directory\nDescription/Notes\n\n\n\n\n dataset_collection.txt \nTable with identifiers relating to how the data were uploaded\n\n\n datastructure_manifest.txt \nTable with partial information about how the files are stored on the NDA AWS S3 bucket. This example file contains the first 10 rows.\n\n\n md5_values.txt \nTable with MD5 File Checksums for each of the files in the image03 folder. This example file contains the first 10 rows.\n\n\n package_file_metadata_1235008.txt \nAdditional metadata related to the location of imaging files within the NDA and their S3 bucket\n\n\n package_info.txt \nHigh-level information about the Data Package and Filter Cart at the time of Data Package creation. Note that the counts listed in this file may not relate to the files that were downloaded (e.g., this file refers to 1053 participants in the filter, but 585 participants were downloaded).\n\n\n README.pdf \nInformation that pertains to some NDA Data Packages.",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>C</span>  <span class='chapter-title'>NDA Download Example, MRI</span>"
    ]
  },
  {
    "objectID": "nda-mri.html#contacts",
    "href": "nda-mri.html#contacts",
    "title": "Appendix C — NDA Download Example, MRI",
    "section": "C.6 Contacts",
    "text": "C.6 Contacts\n\nslack: #help-imaging\nemail:\n\nJames Ford\nPatrick Sadil",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>C</span>  <span class='chapter-title'>NDA Download Example, MRI</span>"
    ]
  }
]