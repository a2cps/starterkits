<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Appendix D — Psychosocial Data Imputation and Biomarker calculations – A2CPS Starter Kits</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./biospecimenCRF_quality_checks_and_reformat.html" rel="next">
<link href="./nda-mri.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-707d8167ce6003fca903bfe2be84ab7f.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-0dd2bd5de344125cf763a379ddc3eb04.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-7e34ecb6a0e7991f0346b0751d4a7c3f.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-0dd2bd5de344125cf763a379ddc3eb04.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K3383Z78V7"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-K3383Z78V7', { 'anonymize_ip': true});
</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<meta name="citation_title" content="[Appendix D — Psychosocial Data Imputation and Biomarker calculations]{#sec-psychosocial-methods .quarto-section-identifier}">
<meta name="citation_author" content="Martin A. Lindquist">
<meta name="citation_author" content="Briha Ansari">
<meta name="citation_language" content="en">
<meta name="citation_reference" content="citation_title=Corticostriatal functional connectivity predicts transition to chronic back pain;,citation_author=Marwan N Baliki;,citation_author=Bogdan Petre;,citation_author=Souraya Torbey;,citation_author=Kristina M Herrmann;,citation_author=Lejian Huang;,citation_author=Thomas J Schnitzer;,citation_author=Howard L Fields;,citation_author=A Vania Apkarian;,citation_publication_date=2012;,citation_cover_date=2012;,citation_year=2012;,citation_issue=8;,citation_doi=10.1038/nn.3153;,citation_volume=15;,citation_journal_title=Nature neuroscience;,citation_publisher=Nature Publishing Group US New York;">
<meta name="citation_reference" content="citation_title=MRI signatures of brain age and disease over the lifespan based on a deep brain network and 14 468 individuals worldwide;,citation_author=Vishnu M Bashyam;,citation_author=Guray Erus;,citation_author=Jimit Doshi;,citation_author=Mohamad Habes;,citation_author=Ilya M Nasrallah;,citation_author=Monica Truelove-Hill;,citation_author=Dhivya Srinivasan;,citation_author=Liz Mamourian;,citation_author=Raymond Pomponio;,citation_author=Yong Fan;,citation_author=others;,citation_publication_date=2020;,citation_cover_date=2020;,citation_year=2020;,citation_issue=7;,citation_doi=10.1093/brain/awaa160;,citation_volume=143;,citation_journal_title=Brain;,citation_publisher=Oxford University Press;">
<meta name="citation_reference" content="citation_title=Mapping brain structure variability in chronic pain: The role of widespreadness and pain type and its mediating relationship with suicide attempt;,citation_author=Ravi R Bhatt;,citation_author=Elizabeth Haddad;,citation_author=Alyssa H Zhu;,citation_author=Paul M Thompson;,citation_author=Arpana Gupta;,citation_author=Emeran A Mayer;,citation_author=Neda Jahanshad;,citation_publication_date=2024;,citation_cover_date=2024;,citation_year=2024;,citation_issue=5;,citation_doi=10.1016/j.biopsych.2023.07.016;,citation_volume=95;,citation_journal_title=Biological psychiatry;,citation_publisher=Elsevier;">
<meta name="citation_reference" content="citation_title=Brain-age is associated with progression to dementia in memory clinic patients;,citation_author=Francesca Biondo;,citation_author=Amelia Jewell;,citation_author=Megan Pritchard;,citation_author=Dag Aarsland;,citation_author=Claire J Steves;,citation_author=Christoph Mueller;,citation_author=James H Cole;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_doi=10.1016/j.nicl.2022.103175;,citation_volume=36;,citation_journal_title=NeuroImage: Clinical;,citation_publisher=Elsevier;">
<meta name="citation_reference" content="citation_title=Eliminating accidental deviations to minimize generalization error and maximize replicability: Applications in connectomics and genomics;,citation_author=Eric W Bridgeford;,citation_author=Shangsi Wang;,citation_author=Zeyi Wang;,citation_author=Ting Xu;,citation_author=Cameron Craddock;,citation_author=Jayanta Dey;,citation_author=Gregory Kiar;,citation_author=William Gray-Roncal;,citation_author=Carlo Colantuoni;,citation_author=Christopher Douville;,citation_author=others;,citation_publication_date=2021;,citation_cover_date=2021;,citation_year=2021;,citation_issue=9;,citation_doi=10.1371/journal.pcbi.1009279;,citation_volume=17;,citation_journal_title=PLoS computational biology;,citation_publisher=Public Library of Science San Francisco, CA USA;">
<meta name="citation_reference" content="citation_title=A method for making group inferences from functional MRI data using independent component analysis;,citation_author=Vince D Calhoun;,citation_author=Tulay Adali;,citation_author=Godfrey D Pearlson;,citation_author=James J Pekar;,citation_publication_date=2001;,citation_cover_date=2001;,citation_year=2001;,citation_issue=3;,citation_doi=10.1002/hbm.1048;,citation_volume=14;,citation_journal_title=Human brain mapping;,citation_publisher=Wiley Online Library;">
<meta name="citation_reference" content="citation_title=Assessment of brain age in posttraumatic stress disorder: Findings from the ENIGMA PTSD and brain age working groups;,citation_author=Ashley N Clausen;,citation_author=Kelene A Fercho;,citation_author=Molly Monsour;,citation_author=Seth Disner;,citation_author=Lauren Salminen;,citation_author=Courtney C Haswell;,citation_author=Emily Clarke Rubright;,citation_author=Amanda A Watts;,citation_author=M Nicole Buckley;,citation_author=Adi Maron-Katz;,citation_author=others;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_issue=1;,citation_doi=10.1002/brb3.2413;,citation_volume=12;,citation_journal_title=Brain and behavior;,citation_publisher=Wiley Online Library;">
<meta name="citation_reference" content="citation_title=A (sort of) new image data format standard: NiFTI-1;,citation_author=Robert W Cox;,citation_author=John Ashburner;,citation_author=Hester Breman;,citation_author=Kate Fissell;,citation_author=Christian Haselgrove;,citation_author=Colin J Holmes;,citation_author=Jack L Lancaster;,citation_author=David E Rex;,citation_author=Stephen M Smith;,citation_author=Jeffrey B Woodward;,citation_author=others;,citation_publication_date=2004;,citation_cover_date=2004;,citation_year=2004;,citation_fulltext_html_url=https://nifti.nimh.nih.gov/pub/dist/doc/hbm_nifti_2004.pdf;,citation_volume=22;,citation_conference_title=10th annual meeting of the organization for human brain mapping;">
<meta name="citation_reference" content="citation_title=Fine-grain atlases of functional modes for fMRI analysis;,citation_author=Kamalaker Dadi;,citation_author=Gaël Varoquaux;,citation_author=Antonia Machlouzarides-Shalit;,citation_author=Krzysztof J Gorgolewski;,citation_author=Demian Wassermann;,citation_author=Bertrand Thirion;,citation_author=Arthur Mensch;,citation_publication_date=2020;,citation_cover_date=2020;,citation_year=2020;,citation_doi=10.1016/j.neuroimage.2020.117126;,citation_volume=221;,citation_journal_title=NeuroImage;,citation_publisher=Elsevier;">
<meta name="citation_reference" content="citation_title=Measurement of signal-to-noise ratios in MR images: Influence of multichannel coils, parallel imaging, and reconstruction filters;,citation_author=Olaf Dietrich;,citation_author=José G Raya;,citation_author=Scott B Reeder;,citation_author=Maximilian F Reiser;,citation_author=Stefan O Schoenberg;,citation_publication_date=2007;,citation_cover_date=2007;,citation_year=2007;,citation_issue=2;,citation_doi=10.1002/jmri.20969;,citation_volume=26;,citation_journal_title=Journal of Magnetic Resonance Imaging: An Official Journal of the International Society for Magnetic Resonance in Medicine;,citation_publisher=Wiley Online Library;">
<meta name="citation_reference" content="citation_title=Group information guided ICA for fMRI data analysis;,citation_author=Yuhui Du;,citation_author=Yong Fan;,citation_publication_date=2013;,citation_cover_date=2013;,citation_year=2013;,citation_doi=10.1016/j.neuroimage.2012.11.008;,citation_volume=69;,citation_journal_title=Neuroimage;,citation_publisher=Elsevier;">
<meta name="citation_reference" content="citation_title=NeuroMark: An automated and adaptive ICA based pipeline to identify reproducible fMRI markers of brain disorders;,citation_author=Yuhui Du;,citation_author=Zening Fu;,citation_author=Jing Sui;,citation_author=Shuang Gao;,citation_author=Ying Xing;,citation_author=Dongdong Lin;,citation_author=Mustafa Salman;,citation_author=Anees Abrol;,citation_author=Md Abdur Rahaman;,citation_author=Jiayu Chen;,citation_author=others;,citation_publication_date=2020;,citation_cover_date=2020;,citation_year=2020;,citation_doi=10.1016/j.nicl.2020.102375;,citation_volume=28;,citation_journal_title=NeuroImage: Clinical;,citation_publisher=Elsevier;">
<meta name="citation_reference" content="citation_title=MRIQC: Advancing the automatic prediction of image quality in MRI from unseen sites;,citation_author=Oscar Esteban;,citation_author=Daniel Birman;,citation_author=Marie Schaer;,citation_author=Oluwasanmi O Koyejo;,citation_author=Russell A Poldrack;,citation_author=Krzysztof J Gorgolewski;,citation_publication_date=2017;,citation_cover_date=2017;,citation_year=2017;,citation_issue=9;,citation_doi=10.1371/journal.pone.0184661;,citation_volume=12;,citation_journal_title=PloS one;,citation_publisher=Public Library of Science San Francisco, CA USA;">
<meta name="citation_reference" content="citation_title=Relationship of childhood abuse and household dysfunction to many of the leading causes of death in adults: The adverse childhood experiences (ACE) study;,citation_author=Vincent J Felitti;,citation_author=Robert F Anda;,citation_author=Dale Nordenberg;,citation_author=David F Williamson;,citation_author=Alison M Spitz;,citation_author=Valerie Edwards;,citation_author=James S Marks;,citation_publication_date=1998;,citation_cover_date=1998;,citation_year=1998;,citation_issue=4;,citation_doi=10.1016/S0749-3797(98)00017-8;,citation_volume=14;,citation_journal_title=American journal of preventive medicine;,citation_publisher=Elsevier;">
<meta name="citation_reference" content="citation_title=The brain imaging data structure, a format for organizing and describing outputs of neuroimaging experiments;,citation_author=Krzysztof J Gorgolewski;,citation_author=Tibor Auer;,citation_author=Vince D Calhoun;,citation_author=R Cameron Craddock;,citation_author=Samir Das;,citation_author=Eugene P Duff;,citation_author=Guillaume Flandin;,citation_author=Satrajit S Ghosh;,citation_author=Tristan Glatard;,citation_author=Yaroslav O Halchenko;,citation_author=others;,citation_publication_date=2016;,citation_cover_date=2016;,citation_year=2016;,citation_issue=1;,citation_doi=10.1038/sdata.2016.44;,citation_volume=3;,citation_journal_title=Scientific data;,citation_publisher=Nature Publishing Group;">
<meta name="citation_reference" content="citation_title=Measuring social health in the patient-reported outcomes measurement information system (PROMIS): Item bank development and testing;,citation_author=Elizabeth A Hahn;,citation_author=Robert F DeVellis;,citation_author=Rita K Bode;,citation_author=Sofia F Garcia;,citation_author=Liana D Castel;,citation_author=Susan V Eisen;,citation_author=Hayden B Bosworth;,citation_author=Allen W Heinemann;,citation_author=Nan Rothrock;,citation_author=David Cella;,citation_author=others;,citation_publication_date=2010;,citation_cover_date=2010;,citation_year=2010;,citation_issue=7;,citation_doi=10.1007/s11136-010-9654-0;,citation_volume=19;,citation_journal_title=Quality of Life Research;,citation_publisher=Springer;">
<meta name="citation_reference" content="citation_title=HeuDiConv—flexible DICOM conversion into structured directory layouts;,citation_author=Yaroslav O Halchenko;,citation_author=Mathias Goncalves;,citation_author=Satrajit Ghosh;,citation_author=Pablo Velasco;,citation_author=Matteo Visconti Oleggio Castello;,citation_author=Taylor Salo;,citation_author=John T Wodder;,citation_author=Michael Hanke;,citation_author=Patrick Sadil;,citation_author=Krzysztof Jacek Gorgolewski;,citation_author=others;,citation_publication_date=2024;,citation_cover_date=2024;,citation_year=2024;,citation_issue=99;,citation_doi=10.21105/joss.05839;,citation_volume=9;,citation_journal_title=Journal of open source software;">
<meta name="citation_reference" content="citation_title=Tissue volume estimation and age prediction using rapid structural brain scans;,citation_author=Harriet Hobday;,citation_author=James H Cole;,citation_author=Ryan A Stanyard;,citation_author=Richard E Daws;,citation_author=Vincent Giampietro;,citation_author=Owen O’Daly;,citation_author=Robert Leech;,citation_author=František Váša;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_issue=1;,citation_volume=12;,citation_journal_title=Scientific Reports;,citation_publisher=Nature Publishing Group UK London;">
<meta name="citation_reference" content="citation_title=Identifying canonical and replicable multi-scale intrinsic connectivity networks in 100k+ resting-state fMRI datasets;,citation_author=Armin Iraji;,citation_author=Zening Fu;,citation_author=Ashkan Faghiri;,citation_author=Marlena Duda;,citation_author=Jaiyu Chen;,citation_author=Srinivas Rachakonda;,citation_author=Thomas DeRamus;,citation_author=Peter Kochunov;,citation_author=Bhim M Adhikari;,citation_author=Aysenil Belger;,citation_author=others;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_issue=17;,citation_doi=10.1002/hbm.26472;,citation_volume=44;,citation_journal_title=Human brain mapping;,citation_publisher=Wiley Online Library;">
<meta name="citation_reference" content="citation_title=Improved optimization for the robust and accurate linear registration and motion correction of brain images;,citation_author=Mark Jenkinson;,citation_author=Peter Bannister;,citation_author=Michael Brady;,citation_author=Stephen Smith;,citation_publication_date=2002;,citation_cover_date=2002;,citation_year=2002;,citation_issue=2;,citation_doi=10.1006/nimg.2002.1132;,citation_volume=17;,citation_journal_title=Neuroimage;,citation_publisher=Elsevier;">
<meta name="citation_reference" content="citation_title=Investigating the nature of co-occurring depression and anxiety: Comparing diagnostic and dimensional research approaches;,citation_author=Katharina Kircanski;,citation_author=Joelle LeMoult;,citation_author=Sarah Ordaz;,citation_author=Ian H Gotlib;,citation_publication_date=2017;,citation_cover_date=2017;,citation_year=2017;,citation_doi=10.1016/j.jad.2016.08.006;,citation_volume=216;,citation_journal_title=Journal of affective disorders;,citation_publisher=Elsevier;">
<meta name="citation_reference" content="citation_title=Brain-wide functional connectivity artifactually inflates throughout functional magnetic resonance imaging scans;,citation_author=Cole Korponay;,citation_author=Amy C Janes;,citation_author=Blaise B Frederick;,citation_publication_date=2024;,citation_cover_date=2024;,citation_year=2024;,citation_issue=8;,citation_doi=10.1038/s41562-024-01908-6;,citation_volume=8;,citation_journal_title=Nature human behaviour;,citation_publisher=Nature Publishing Group UK London;">
<meta name="citation_reference" content="citation_title=The PHQ-8 as a measure of current depression in the general population;,citation_author=Kurt Kroenke;,citation_author=Tara W Strine;,citation_author=Robert L Spitzer;,citation_author=Janet BW Williams;,citation_author=Joyce T Berry;,citation_author=Ali H Mokdad;,citation_publication_date=2009;,citation_cover_date=2009;,citation_year=2009;,citation_issue=1-3;,citation_doi=10.1016/j.jad.2008.06.026;,citation_volume=114;,citation_journal_title=Journal of affective disorders;,citation_publisher=Elsevier;">
<meta name="citation_reference" content="citation_title=A well-conditioned estimator for large-dimensional covariance matrices;,citation_author=Olivier Ledoit;,citation_author=Michael Wolf;,citation_publication_date=2004;,citation_cover_date=2004;,citation_year=2004;,citation_issue=2;,citation_doi=10.1016/S0047-259X(03)00096-4;,citation_volume=88;,citation_journal_title=Journal of multivariate analysis;,citation_publisher=Elsevier;">
<meta name="citation_reference" content="citation_title=The first step for neuroimaging data analysis: DICOM to NIfTI conversion;,citation_author=Xiangrui Li;,citation_author=Paul S. Morgan;,citation_author=John Ashburner;,citation_author=Jolinda Smith;,citation_author=Christopher Rorden;,citation_publication_date=2016;,citation_cover_date=2016;,citation_year=2016;,citation_fulltext_html_url=https://www.sciencedirect.com/science/article/pii/S0165027016300073;,citation_doi=10.1016/j.jneumeth.2016.03.001;,citation_issn=0165-0270;,citation_volume=264;,citation_journal_title=Journal of Neuroscience Methods;">
<meta name="citation_reference" content="citation_title=Connectomes for 40,000 UK biobank participants: A multi-modal, multi-scale brain network resource;,citation_abstract=We mapped functional and structural brain networks for more than 40,000 UK Biobank participants. Structural connectivity was estimated with tractography and diffusion MRI. Resting-state functional MRI was used to infer regional functional connectivity. We provide high-quality structural and functional connectomes for multiple parcellation granularities, several alternative measures of interregional connectivity, and a variety of common data pre-processing techniques, yielding more than one million connectomes in total and requiring more than 200,000 h of compute time. For a single subject, we provide 28 out-of-the-box versions of structural and functional brain networks, allowing users to select, e.g., the parcellation and connectivity measure that best suit their research goals. Furthermore, we provide code and intermediate data for the time-efficient reconstruction of more than 1000 different versions of a subject’s connectome based on an array of methodological choices. All connectomes are available via the UK Biobank data-sharing platform and our connectome mapping pipelines are openly available. In this report, we describe our connectome resource in detail for users, outline key considerations in developing an efficient pipeline to map an unprecedented number of connectomes, and report on the quality control procedures that were completed to ensure connectome reliability and accuracy. We demonstrate that our structural and functional connectivity matrices meet a number of quality control checks and replicate previously established findings in network neuroscience. We envisage that our resource will enable new studies of the human connectome in health, disease, and aging at an unprecedented scale.;,citation_author=Sina Mansour L.;,citation_author=Maria A. Di Biase;,citation_author=Robert E. Smith;,citation_author=Andrew Zalesky;,citation_author=Caio Seguin;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://www.sciencedirect.com/science/article/pii/S105381192300558X;,citation_doi=https://doi.org/10.1016/j.neuroimage.2023.120407;,citation_issn=1053-8119;,citation_volume=283;,citation_journal_title=NeuroImage;">
<meta name="citation_reference" content="citation_title=Development and evaluation of short forms of the pain catastrophizing scale and the pain self-efficacy questionnaire;,citation_author=LA McWilliams;,citation_author=J Kowal;,citation_author=KG Wilson;,citation_publication_date=2015;,citation_cover_date=2015;,citation_year=2015;,citation_issue=9;,citation_doi=10.1002/ejp.665;,citation_volume=19;,citation_journal_title=European journal of pain;,citation_publisher=Wiley Online Library;">
<meta name="citation_reference" content="citation_title=Brain-predicted age difference mediates the association between PROMIS sleep impairment, and self-reported pain measure in persons with knee pain;,citation_author=Soamy Montesino-Goicolea;,citation_author=Pedro Valdes-Hernandez;,citation_author=Chavier Laffitte Nodarse;,citation_author=Alisa J Johnson;,citation_author=James H Cole;,citation_author=Lisa H Antoine;,citation_author=Burel R Goodin;,citation_author=Roger B Fillingim;,citation_author=Yenisel Cruz-Almeida;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_doi=10.1016/j.nbas.2023.100088;,citation_volume=4;,citation_journal_title=Aging Brain;,citation_publisher=Elsevier;">
<meta name="citation_reference" content="citation_title=Best practices in data analysis and sharing in neuroimaging using MRI;,citation_author=Thomas E Nichols;,citation_author=Samir Das;,citation_author=Simon B Eickhoff;,citation_author=Alan C Evans;,citation_author=Tristan Glatard;,citation_author=Michael Hanke;,citation_author=Nikolaus Kriegeskorte;,citation_author=Michael P Milham;,citation_author=Russell A Poldrack;,citation_author=Jean-Baptiste Poline;,citation_author=others;,citation_publication_date=2017;,citation_cover_date=2017;,citation_year=2017;,citation_issue=3;,citation_doi=10.1038/nn.4500;,citation_volume=20;,citation_journal_title=Nature neuroscience;,citation_publisher=Nature Publishing Group US New York;">
<meta name="citation_reference" content="citation_title=Image processing in the acute to chronic pain signatures (A2CPS) project;,citation_abstract=The Acute to Chronic Pain Signatures (A2CPS) project is a large-scale, multi-site initiative aimed at identifying biomarkers and biosignatures that predict the transition from acute to chronic pain. The project is collecting multimodal, longitudinal data from over 2,500 individuals at risk for developing chronic pain after surgery. Here we describe the neuroimaging component of A2CPS, including the acquisition protocols, processing pipelines, and contents of the initial data release. The imaging protocol includes structural, diffusion, resting-state and task-based functional magnetic resonance imaging (MRI) data. Data are collected across multiple clinical sites using different scanner manufacturers, with attention to protocol harmonization and quality control. The processing pipeline integrates several established neuroimaging tools to extract potential biomarkers, including measures of brain structure, connectivity, and pain-related neural signatures. The first data release includes pre-surgical imaging data for 595 participants, with high quality ratings across modalities (98.7% of sMRI, 99.8% of dMRI, and 94.6% of fMRI images were rated as acceptable or better). Initial analyses demonstrate expected relationships between brain-derived measures and clinical variables, such as associations between brain age and psychological factors. This dataset represents a valuable resource for both pain research and neuroimaging methods development, with future releases planned to include additional participants and expanded analysis pipelines and processed data derivatives.Competing Interest StatementThe authors have declared no competing interest.;,citation_author=Patrick Sadil;,citation_author=Konstantinos Arfanakis;,citation_author=Enamul Hoque Bhuiyan;,citation_author=Brian Caffo;,citation_author=Vince D Calhoun;,citation_author=Daniel J Clauw;,citation_author=Mark C DeLano;,citation_author=James C Ford;,citation_author=Ramtalik Gattu;,citation_author=Xiaodong Guo;,citation_author=Richard E Harris;,citation_author=Eric Ichesco;,citation_author=Micah A Johnson;,citation_author=Heejung Jung;,citation_author=Ari B Kahn;,citation_author=Chelsea M Kaplan;,citation_author=Nondas Leloudas;,citation_author=Martin A Lindquist;,citation_author=Qingfei Luo;,citation_author=Todd A Mulderink;,citation_author=Scott J Peltier;,citation_author=Pottumarthi V Prasad;,citation_author=Christopher Sica;,citation_author=Joshua Urrutia;,citation_author=Carol GT Vance;,citation_author=Tor D Wager;,citation_author=Yang Xuan;,citation_author=Xiaohong J Zhou;,citation_author=Yong Zhou;,citation_author=David C Shu;,citation_author=The Acute Chronic Pain Signatures Consortium;,citation_publication_date=2024;,citation_cover_date=2024;,citation_year=2024;,citation_fulltext_html_url=https://www.biorxiv.org/content/early/2024/12/20/2024.12.19.627509;,citation_doi=10.1101/2024.12.19.627509;,citation_journal_title=bioRxiv;,citation_publisher=Cold Spring Harbor Laboratory;">
<meta name="citation_reference" content="citation_title=The self-administered comorbidity questionnaire: A new method to assess comorbidity for clinical and health services research;,citation_author=Oliver Sangha;,citation_author=Gerold Stucki;,citation_author=Matthew H Liang;,citation_author=Anne H Fossel;,citation_author=Jeffrey N Katz;,citation_publication_date=2003;,citation_cover_date=2003;,citation_year=2003;,citation_issue=2;,citation_doi=10.1002/art.10993;,citation_volume=49;,citation_journal_title=Arthritis Care &amp;amp;amp; Research: Official Journal of the American College of Rheumatology;,citation_publisher=Wiley Online Library;">
<meta name="citation_reference" content="citation_title=Sensory sensitivity and symptom severity represent unique dimensions of chronic pain: A MAPP research network study;,citation_author=Andrew Schrepf;,citation_author=David A Williams;,citation_author=Robert Gallop;,citation_author=Bruce D Naliboff;,citation_author=Neil Basu;,citation_author=Chelsea Kaplan;,citation_author=Daniel E Harper;,citation_author=J Richard Landis;,citation_author=J Quentin Clemens;,citation_author=Eric Strachan;,citation_author=others;,citation_publication_date=2018;,citation_cover_date=2018;,citation_year=2018;,citation_issue=10;,citation_doi=10.1097/j.pain.0000000000001299;,citation_volume=159;,citation_journal_title=Pain;,citation_publisher=LWW;">
<meta name="citation_reference" content="citation_title=Development and initial validation of the pain resilience scale;,citation_author=P Maxwell Slepian;,citation_author=Brett Ankawi;,citation_author=Lina K Himawan;,citation_author=Christopher R France;,citation_publication_date=2016;,citation_cover_date=2016;,citation_year=2016;,citation_issue=4;,citation_doi=10.1016/j.jpain.2015.12.010;,citation_volume=17;,citation_journal_title=The Journal of Pain;,citation_publisher=Elsevier;">
<meta name="citation_reference" content="citation_title=Estimation of brain age delta from brain imaging;,citation_author=Stephen M Smith;,citation_author=Diego Vidaurre;,citation_author=Fidel Alfaro-Almagro;,citation_author=Thomas E Nichols;,citation_author=Karla L Miller;,citation_publication_date=2019;,citation_cover_date=2019;,citation_year=2019;,citation_doi=10.1016/j.neuroimage.2019.06.017;,citation_volume=200;,citation_journal_title=Neuroimage;,citation_publisher=Elsevier;">
<meta name="citation_reference" content="citation_title=Low frequency systemic hemodynamic “noise” in resting state BOLD fMRI: Characteristics, causes, implications, mitigation strategies, and applications;,citation_author=Yunjie Tong;,citation_author=Lia M Hocke;,citation_author=Blaise B Frederick;,citation_publication_date=2019;,citation_cover_date=2019;,citation_year=2019;,citation_doi=10.3389/fnins.2019.00787;,citation_volume=13;,citation_journal_title=Frontiers in neuroscience;,citation_publisher=Frontiers Media SA;">
<meta name="citation_reference" content="citation_title=ReproNim/reproin: 0.11.6.2;,citation_abstract=A setup for automatic generation of shareable, version-controlled BIDS datasets from MR scanners;,citation_author=Matteo Visconti di Oleggio Castello;,citation_author=James E. Dobson;,citation_author=Terry Sackett;,citation_author=Chandana Kodiweera;,citation_author=James V. Haxby;,citation_author=Mathias Goncalves;,citation_author=Satrajit Ghosh;,citation_author=Yaroslav O. Halchenko;,citation_publication_date=2023-05;,citation_cover_date=2023-05;,citation_year=2023;,citation_doi=10.5281/ZENODO.7975330;,citation_publisher=Zenodo;">
<meta name="citation_reference" content="citation_title=An fMRI-Based Neurologic Signature of Physical Pain;,citation_author=Tor D. Wager;,citation_author=Lauren Y. Atlas;,citation_author=Martin A. Lindquist;,citation_author=Mathieu Roy;,citation_author=Choong-Wan Woo;,citation_author=Ethan Kross;,citation_publication_date=2013-04;,citation_cover_date=2013-04;,citation_year=2013;,citation_issue=15;,citation_doi=10.1056/NEJMoa1204471;,citation_issn=0028-4793, 1533-4406;,citation_volume=368;,citation_language=en-US;,citation_journal_title=New England Journal of Medicine;">
<meta name="citation_reference" content="citation_title=Quantifying cerebral contributions to pain beyond nociception;,citation_author=Choong-Wan Woo;,citation_author=Liane Schmidt;,citation_author=Anjali Krishnan;,citation_author=Marieke Jepma;,citation_author=Mathieu Roy;,citation_author=Martin A. Lindquist;,citation_author=Lauren Y. Atlas;,citation_author=Tor D. Wager;,citation_publication_date=2017-04;,citation_cover_date=2017-04;,citation_year=2017;,citation_issue=1;,citation_doi=10.1038/ncomms14211;,citation_issn=2041-1723;,citation_volume=8;,citation_language=en-US;,citation_journal_title=Nature Communications;">
<meta name="citation_reference" content="citation_title=Knee Injury and Osteoarthritis Outcome Score (KOOS)Development of a Self-Administered Outcome Measure;,citation_author=Ewa M. Roos;,citation_author=Harald P. Roos;,citation_author=L. Stefan Lohmander;,citation_author=Charlotte Ekdahl;,citation_author=Bruce D. Beynnon;,citation_publication_date=1998-08;,citation_cover_date=1998-08;,citation_year=1998;,citation_fulltext_html_url=http://dx.doi.org/10.2519/jospt.1998.28.2.88;,citation_issue=2;,citation_doi=10.2519/jospt.1998.28.2.88;,citation_volume=28;,citation_language=en;,citation_journal_title=Journal of Orthopaedic &amp;amp;amp; Sports Physical Therapy;">
<meta name="citation_reference" content="citation_title=Cleeland CS Ryan KM. Pain assessment: global use of the Brief Pain Inventory. Ann Acad Med Singapore (1994 Mar) 23(2):129-38.;,citation_publication_date=1995;,citation_cover_date=1995;,citation_year=1995;,citation_fulltext_html_url=http://dx.doi.org/10.1097/01893697-199513010-00022;,citation_issue=1;,citation_doi=10.1097/01893697-199513010-00022;,citation_volume=13;,citation_language=en;,citation_journal_title=Rehabilitation Oncology;">
<meta name="citation_reference" content="citation_title=Multi-site observational study to assess biomarkers for susceptibility or resilience to chronic pain: The acute to chronic pain signatures (A2CPS) study protocol;,citation_author=Giovanni Berardi;,citation_author=Laura Frey-Law;,citation_author=Kathleen A. Sluka;,citation_author=Emine O. Bayman;,citation_author=Christopher S. Coffey;,citation_author=Dixie Ecklund;,citation_author=Carol G. T. Vance;,citation_author=Dana L. Dailey;,citation_author=John Burns;,citation_author=Asokumar Buvanendran;,citation_author=Robert J. McCarthy;,citation_author=Joshua Jacobs;,citation_author=Xiaohong Joe Zhou;,citation_author=Richard Wixson;,citation_author=Tessa Balach;,citation_author=Chad M. Brummett;,citation_author=Daniel Clauw;,citation_author=Douglas Colquhoun;,citation_author=Steven E. Harte;,citation_author=Richard E. Harris;,citation_author=David A. Williams;,citation_author=Andrew C. Chang;,citation_author=Jennifer Waljee;,citation_author=Kathleen M. Fisch;,citation_author=Kristen Jepsen;,citation_author=Louise C. Laurent;,citation_author=Michael Olivier;,citation_author=Carl D. Langefeld;,citation_author=Timothy D. Howard;,citation_author=Oliver Fiehn;,citation_author=Jon M. Jacobs;,citation_author=Panshak Dakup;,citation_author=Wei-Jun Qian;,citation_author=Adam C. Swensen;,citation_author=Anna Lokshin;,citation_author=Martin Lindquist;,citation_author=Brian S. Caffo;,citation_author=Ciprian Crainiceanu;,citation_author=Scott Zeger;,citation_author=Ari Kahn;,citation_author=Tor Wager;,citation_author=Margaret Taub;,citation_author=James Ford;,citation_author=Stephani P. Sutherland;,citation_author=Laura D. Wandner;,citation_publication_date=2022-04-25;,citation_cover_date=2022-04-25;,citation_year=2022;,citation_fulltext_html_url=http://dx.doi.org/10.3389/fmed.2022.849214;,citation_doi=10.3389/fmed.2022.849214;,citation_volume=9;,citation_journal_title=Frontiers in Medicine;">
<meta name="citation_reference" content="citation_title=Predicting chronic postsurgical pain: Current evidence and a novel program to develop predictive biomarker signatures;,citation_author=Kathleen A Sluka;,citation_author=Tor D Wager;,citation_author=Stephani P Sutherland;,citation_author=Patricia A Labosky;,citation_author=Tessa Balach;,citation_author=Emine O Bayman;,citation_author=Giovanni Berardi;,citation_author=Chad M Brummett;,citation_author=John Burns;,citation_author=Asokumar Buvanendran;,citation_author=others;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_issue=9;,citation_doi=10.1097/j.pain.0000000000002938;,citation_volume=164;,citation_journal_title=Pain;,citation_publisher=LWW;">
<meta name="citation_reference" content="citation_title=A Brief Measure for Assessing Generalized Anxiety Disorder;,citation_author=Robert L. Spitzer;,citation_author=Kurt Kroenke;,citation_author=Janet B. W. Williams;,citation_author=Bernd Löwe;,citation_publication_date=2006-05-22;,citation_cover_date=2006-05-22;,citation_year=2006;,citation_issue=10;,citation_doi=10.1001/archinte.166.10.1092;,citation_volume=166;,citation_language=en;,citation_journal_title=Archives of Internal Medicine;">
<meta name="citation_reference" content="citation_title=Validity and Utility of the Patient Health Questionnaire (PHQ)-2 and PHQ-9 for Screening and Diagnosis of Depression in Rural Chiapas, Mexico: A Cross-Sectional Study;,citation_author=Jafet Arrieta;,citation_author=Mercedes Aguerrebere;,citation_author=Giuseppe Raviola;,citation_author=Hugo Flores;,citation_author=Patrick Elliott;,citation_author=Azucena Espinosa;,citation_author=Andrea Reyes;,citation_author=Eduardo Ortiz-Panozo;,citation_author=Elena G. Rodriguez-Gutierrez;,citation_author=Joia Mukherjee;,citation_author=Daniel Palazuelos;,citation_author=Molly F. Franke;,citation_publication_date=2017-02-13;,citation_cover_date=2017-02-13;,citation_year=2017;,citation_fulltext_html_url=http://dx.doi.org/10.1002/jclp.22390;,citation_issue=9;,citation_doi=10.1002/jclp.22390;,citation_volume=73;,citation_language=en;,citation_journal_title=Journal of Clinical Psychology;">
<meta name="citation_reference" content="citation_title=The PHQ-8 as a measure of current depression in the general population;,citation_author=Kurt Kroenke;,citation_author=Tara W. Strine;,citation_author=Robert L. Spitzer;,citation_author=Janet B. W. Williams;,citation_author=Joyce T. Berry;,citation_author=Ali H. Mokdad;,citation_publication_date=2009-04;,citation_cover_date=2009-04;,citation_year=2009;,citation_fulltext_html_url=http://dx.doi.org/10.1016/j.jad.2008.06.026;,citation_issue=1-3;,citation_doi=10.1016/j.jad.2008.06.026;,citation_volume=114;,citation_language=en;,citation_journal_title=Journal of Affective Disorders;">
<meta name="citation_reference" content="citation_title=A Fear-Avoidance Beliefs Questionnaire (FABQ) and the role of fear-avoidance beliefs in chronic low back pain and disability;,citation_author=Gordon Waddell;,citation_author=Mary Newton;,citation_author=Iain Henderson;,citation_author=Douglas Somerville;,citation_author=Chris J. Main;,citation_publication_date=1993-02;,citation_cover_date=1993-02;,citation_year=1993;,citation_issue=2;,citation_doi=10.1016/0304-3959(93)90127-b;,citation_volume=52;,citation_language=en;,citation_journal_title=Pain;">
<meta name="citation_reference" content="citation_title=Mice: Multivariate imputation by chained equations in r;,citation_author=Stef Buuren;,citation_author=Karin Groothuis-Oudshoorn;,citation_publication_date=2011;,citation_cover_date=2011;,citation_year=2011;,citation_doi=10.18637/jss.v045.i03;,citation_volume=45;">
<meta name="citation_reference" content="citation_title=Data-driven network analysis identified subgroup-specific low back pain pathways: a cross-sectional GLA:D Back study;,citation_author=Bernard X. W. Liew;,citation_author=Jan Hartvigsen;,citation_author=Marco Scutari;,citation_author=Alice Kongsted;,citation_publication_date=2023-01;,citation_cover_date=2023-01;,citation_year=2023;,citation_fulltext_html_url=http://dx.doi.org/10.1016/j.jclinepi.2022.11.010;,citation_doi=10.1016/j.jclinepi.2022.11.010;,citation_volume=153;,citation_language=en;,citation_journal_title=Journal of Clinical Epidemiology;">
<meta name="citation_reference" content="citation_title=A real data-driven simulation strategy to select an imputation method for mixed-type trait data;,citation_author=Jacqueline A. May;,citation_author=Zeny Feng;,citation_author=Sarah J. Adamowicz;,citation_editor=Jiel Li;,citation_publication_date=2023-03-22;,citation_cover_date=2023-03-22;,citation_year=2023;,citation_fulltext_html_url=http://dx.doi.org/10.1371/journal.pcbi.1010154;,citation_issue=3;,citation_doi=10.1371/journal.pcbi.1010154;,citation_volume=19;,citation_language=en;,citation_journal_title=PLOS Computational Biology;">
<meta name="citation_reference" content="citation_title=Development and Validation of a Daily Pain Catastrophizing Scale;,citation_author=Beth D. Darnall;,citation_author=John A. Sturgeon;,citation_author=Karon F. Cook;,citation_author=Chloe J. Taub;,citation_author=Anuradha Roy;,citation_author=John W. Burns;,citation_author=Michael Sullivan;,citation_author=Sean C. Mackey;,citation_publication_date=2017-09;,citation_cover_date=2017-09;,citation_year=2017;,citation_fulltext_html_url=http://dx.doi.org/10.1016/j.jpain.2017.05.003;,citation_issue=9;,citation_doi=10.1016/j.jpain.2017.05.003;,citation_volume=18;,citation_language=en;,citation_journal_title=The Journal of Pain;">
<meta name="citation_reference" content="citation_title=Development and evaluation of short forms of the Pain Catastrophizing Scale and the Pain Self-efficacy Questionnaire;,citation_author=L. A. McWilliams;,citation_author=J. Kowal;,citation_author=K. G. Wilson;,citation_publication_date=2015-03-11;,citation_cover_date=2015-03-11;,citation_year=2015;,citation_fulltext_html_url=http://dx.doi.org/10.1002/ejp.665;,citation_issue=9;,citation_doi=10.1002/ejp.665;,citation_volume=19;,citation_language=en;,citation_journal_title=European Journal of Pain;">
<meta name="citation_reference" content="citation_title=2016 Revisions to the 2010/2011 fibromyalgia diagnostic criteria;,citation_author=Frederick Wolfe;,citation_author=Daniel J. Clauw;,citation_author=Mary-Ann Fitzcharles;,citation_author=Don L. Goldenberg;,citation_author=Winfried Häuser;,citation_author=Robert L. Katz;,citation_author=Philip J. Mease;,citation_author=Anthony S. Russell;,citation_author=Irwin Jon Russell;,citation_author=Brian Walitt;,citation_publication_date=2016-12;,citation_cover_date=2016-12;,citation_year=2016;,citation_fulltext_html_url=http://dx.doi.org/10.1016/j.semarthrit.2016.08.012;,citation_issue=3;,citation_doi=10.1016/j.semarthrit.2016.08.012;,citation_volume=46;,citation_language=en;,citation_journal_title=Seminars in Arthritis and Rheumatism;">
<meta name="citation_reference" content="citation_title=pain&amp;amp;amp;lt;i&amp;gt;DETECT&amp;lt;/i&amp;gt;: a new screening questionnaire to identify neuropathic components in patients with back pain;,citation_author=Rainer Freynhagen;,citation_author=Ralf Baron;,citation_author=Ulrich Gockel;,citation_author=Thomas R. Tölle;,citation_publication_date=2006-08-29;,citation_cover_date=2006-08-29;,citation_year=2006;,citation_fulltext_html_url=http://dx.doi.org/10.1185/030079906X132488;,citation_issue=10;,citation_doi=10.1185/030079906x132488;,citation_volume=22;,citation_language=en;,citation_journal_title=Current Medical Research and Opinion;">
<meta name="citation_reference" content="citation_title=The Patient-Reported Outcomes Measurement Information System (PROMIS) developed and tested its first wave of adult self-reported health outcome item banks: 20052008;,citation_author=David Cella;,citation_author=William Riley;,citation_author=Arthur Stone;,citation_author=Nan Rothrock;,citation_author=Bryce Reeve;,citation_author=Susan Yount;,citation_author=Dagmar Amtmann;,citation_author=Rita Bode;,citation_author=Daniel Buysse;,citation_author=Seung Choi;,citation_author=Karon Cook;,citation_author=Robert DeVellis;,citation_author=Darren DeWalt;,citation_author=James F. Fries;,citation_author=Richard Gershon;,citation_author=Elizabeth A. Hahn;,citation_author=Jin-Shei Lai;,citation_author=Paul Pilkonis;,citation_author=Dennis Revicki;,citation_author=Matthias Rose;,citation_author=Kevin Weinfurt;,citation_author=Ron Hays;,citation_publication_date=2010-11;,citation_cover_date=2010-11;,citation_year=2010;,citation_fulltext_html_url=http://dx.doi.org/10.1016/j.jclinepi.2010.04.011;,citation_issue=11;,citation_doi=10.1016/j.jclinepi.2010.04.011;,citation_volume=63;,citation_language=en;,citation_journal_title=Journal of Clinical Epidemiology;">
<meta name="citation_reference" content="citation_title=The Pittsburgh sleep quality index: A new instrument for psychiatric practice and research;,citation_author=Daniel J. Buysse;,citation_author=Charles F. Reynolds;,citation_author=Timothy H. Monk;,citation_author=Susan R. Berman;,citation_author=David J. Kupfer;,citation_publication_date=1989-05;,citation_cover_date=1989-05;,citation_year=1989;,citation_issue=2;,citation_doi=10.1016/0165-1781(89)90047-4;,citation_volume=28;,citation_language=en;,citation_journal_title=Psychiatry Research;">
<meta name="citation_reference" content="citation_title=Development and Initial Validation of the Pain Resilience Scale;,citation_author=P. Maxwell Slepian;,citation_author=Brett Ankawi;,citation_author=Lina K. Himawan;,citation_author=Christopher R. France;,citation_publication_date=2016-04;,citation_cover_date=2016-04;,citation_year=2016;,citation_fulltext_html_url=http://dx.doi.org/10.1016/j.jpain.2015.12.010;,citation_issue=4;,citation_doi=10.1016/j.jpain.2015.12.010;,citation_volume=17;,citation_language=en;,citation_journal_title=The Journal of Pain;">
<meta name="citation_reference" content="citation_title=Short and extra-short forms of the Big Five Inventory2: The BFI-2-S and BFI-2-XS;,citation_author=Christopher J. Soto;,citation_author=Oliver P. John;,citation_publication_date=2017-06;,citation_cover_date=2017-06;,citation_year=2017;,citation_doi=10.1016/j.jrp.2017.02.004;,citation_volume=68;,citation_language=en;,citation_journal_title=Journal of Research in Personality;">
<meta name="citation_reference" content="citation_title=Pain-related Impairment of Daily Activities After Thoracic Surgery;,citation_author=Thomas K. Ringsted;,citation_author=Kim Wildgaard;,citation_author=Svend Kreiner;,citation_author=Henrik Kehlet;,citation_publication_date=2013-09;,citation_cover_date=2013-09;,citation_year=2013;,citation_fulltext_html_url=http://dx.doi.org/10.1097/ajp.0b013e318278d4e2;,citation_issue=9;,citation_doi=10.1097/ajp.0b013e318278d4e2;,citation_volume=29;,citation_language=en;,citation_journal_title=The Clinical Journal of Pain;">
<meta name="citation_reference" content="citation_title=Pain-Related Limitations in Daily Activities Following Thoracic Surgery in a United States Population;,citation_author=Emine O. Bayman;,citation_publication_date=2017-03-10;,citation_cover_date=2017-03-10;,citation_year=2017;,citation_fulltext_html_url=http://dx.doi.org/10.36076/ppj.2017.e378;,citation_issue=20;3;,citation_doi=10.36076/ppj.2017.e378;,citation_volume=3;,citation_language=en;,citation_journal_title=Pain Physician;">
<meta name="citation_reference" content="citation_title=(142) The Danish questionnaire for pain after thoracic surgery in a United States population;,citation_author=E. Bayman;,citation_author=R. Lennertz;,citation_author=T. Brennan;,citation_publication_date=2016-04;,citation_cover_date=2016-04;,citation_year=2016;,citation_fulltext_html_url=http://dx.doi.org/10.1016/j.jpain.2016.01.045;,citation_issue=4;,citation_doi=10.1016/j.jpain.2016.01.045;,citation_volume=17;,citation_language=en;,citation_journal_title=The Journal of Pain;">
<meta name="citation_reference" content="citation_title=Development and Initial Validation of a Brief Self-Report Measure of Cognitive Dysfunction in Fibromyalgia;,citation_author=Anna L. Kratz;,citation_author=Stephen G. Schilling;,citation_author=Jenna Goesling;,citation_author=David A. Williams;,citation_publication_date=2015-06;,citation_cover_date=2015-06;,citation_year=2015;,citation_fulltext_html_url=http://dx.doi.org/10.1016/j.jpain.2015.02.008;,citation_issue=6;,citation_doi=10.1016/j.jpain.2015.02.008;,citation_volume=16;,citation_language=en;,citation_journal_title=The Journal of Pain;">
<meta name="citation_reference" content="citation_title=The PROMIS FatigueFM profile: A self-report measure of fatigue for use in fibromyalgia;,citation_author=Anna L Kratz;,citation_author=Stephen Schilling;,citation_author=Jenna Goesling;,citation_author=David A Williams;,citation_publication_date=2016;,citation_cover_date=2016;,citation_year=2016;,citation_issue=7;,citation_doi=10.1007/s11136-016-1230-9;,citation_volume=25;,citation_journal_title=Quality of Life Research;,citation_publisher=Springer;">
<meta name="citation_reference" content="citation_title=An evaluation of the efficacy, reliability, and sensitivity of motion correction strategies for resting-state functional MRI;,citation_author=Linden Parkes;,citation_author=Ben Fulcher;,citation_author=Murat Yücel;,citation_author=Alex Fornito;,citation_publication_date=2018;,citation_cover_date=2018;,citation_year=2018;,citation_doi=10.1016/j.neuroimage.2017.12.073;,citation_volume=171;,citation_journal_title=Neuroimage;,citation_publisher=Elsevier;">
<meta name="citation_reference" content="citation_title=Spurious but systematic correlations in functional connectivity MRI networks arise from subject motion;,citation_author=Jonathan D Power;,citation_author=Kelly A Barnes;,citation_author=Abraham Z Snyder;,citation_author=Bradley L Schlaggar;,citation_author=Steven E Petersen;,citation_publication_date=2012;,citation_cover_date=2012;,citation_year=2012;,citation_issue=3;,citation_doi=10.1016/j.neuroimage.2011.10.018;,citation_volume=59;,citation_journal_title=Neuroimage;,citation_publisher=Elsevier;">
<meta name="citation_reference" content="citation_title=The rapid assessment of physical activity (RAPA) among older adults;,citation_author=Tari D Topolski;,citation_author=James LoGerfo;,citation_author=Donald L Patrick;,citation_author=Barbara Williams;,citation_author=Julie Walwick;,citation_author=MAJ Marsha B Patrick;,citation_publication_date=2006;,citation_cover_date=2006;,citation_year=2006;,citation_issue=4;,citation_volume=3;,citation_journal_title=Preventing chronic disease;">
<meta name="citation_reference" content="citation_title=Brain-predicted age difference estimated using DeepBrainNet is significantly associated with pain and function—a multi-institutional and multiscanner study;,citation_author=Pedro A Valdes-Hernandez;,citation_author=Chavier Laffitte Nodarse;,citation_author=Alisa J Johnson;,citation_author=Soamy Montesino-Goicolea;,citation_author=Vishnu Bashyam;,citation_author=Christos Davatzikos;,citation_author=Julio A Peraza;,citation_author=James H Cole;,citation_author=Zhiguang Huo;,citation_author=Roger B Fillingim;,citation_author=others;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_issue=12;,citation_doi=10.1097/j.pain.0000000000002984;,citation_volume=164;,citation_journal_title=Pain;,citation_publisher=LWW;">
<meta name="citation_reference" content="citation_title=NIH’s helping to end addiction long-termSM initiative (NIH HEAL initiative) clinical pain management common data element program;,citation_author=Laura Dover Wandner;,citation_author=Anthony F Domenichiello;,citation_author=Jennifer Beierlein;,citation_author=Leah Pogorzala;,citation_author=Guadalupe Aquino;,citation_author=Andrew Siddons;,citation_author=Linda Porter;,citation_author=Jane Atkinson;,citation_author=NIH Pain Consortium Institute;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_issue=3;,citation_doi=10.1016/j.jpain.2021.08.005;,citation_volume=23;,citation_journal_title=The Journal of Pain;,citation_publisher=Elsevier;">
<meta name="citation_reference" content="citation_title=Development of short forms from the PROMIS™ sleep disturbance and sleep-related impairment item banks;,citation_author=Lan Yu;,citation_author=Daniel J Buysse;,citation_author=Anne Germain;,citation_author=Douglas E Moul;,citation_author=Angela Stover;,citation_author=Nathan E Dodds;,citation_author=Kelly L Johnston;,citation_author=Paul A Pilkonis;,citation_publication_date=2012;,citation_cover_date=2012;,citation_year=2012;,citation_issue=1;,citation_doi=10.1080/15402002.2012.636266;,citation_volume=10;,citation_journal_title=Behavioral sleep medicine;,citation_publisher=Taylor &amp;amp;amp; Francis;">
<meta name="citation_reference" content="citation_title=An improved approach to detection of amplitude of low-frequency fluctuation (ALFF) for resting-state fMRI: Fractional ALFF;,citation_author=Qi-Hong Zou;,citation_author=Chao-Zhe Zhu;,citation_author=Yihong Yang;,citation_author=Xi-Nian Zuo;,citation_author=Xiang-Yu Long;,citation_author=Qing-Jiu Cao;,citation_author=Yu-Feng Wang;,citation_author=Yu-Feng Zang;,citation_publication_date=2008;,citation_cover_date=2008;,citation_year=2008;,citation_issue=1;,citation_doi=10.1016/j.jneumeth.2008.04.012;,citation_volume=172;,citation_journal_title=Journal of neuroscience methods;,citation_publisher=Elsevier;">
</head>

<body class="nav-sidebar floating slimcontent quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./bids-qc-joining.html">Appendices</a></li><li class="breadcrumb-item"><a href="./psycho_social_biomarker_impute.html"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Psychosocial Data Imputation and Biomarker calculations</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">A2CPS Starter Kits</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/a2cps/starterkits" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Psychosocial_starter_kit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Psychosocial</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./genetic_variants.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Genetic Variant Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./genomic_imputation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Imputed Genomics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./raw-mri.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Raw MRI Data Starter Kit</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./freesurfer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">FreeSurfer Measures</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./brainager.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Brain Age</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cat12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Voxel-Based Morphometry</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./fcn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Functional Connectivity</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gift.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Group ICA of fMRI Toolbox (GIFT)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./postgift.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">ICA Connectivity</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mriqc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">MRIQC</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./neural-pain-signatures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Prior Neural Pain Signature Responses</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./faq.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FAQ</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bids-qc-joining.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Exclude Scans with “Red” Quality</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ids.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">ID Information</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nda-mri.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">NDA Download Example, MRI</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./psycho_social_biomarker_impute.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Psychosocial Data Imputation and Biomarker calculations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./biospecimenCRF_quality_checks_and_reformat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Biospecimen Collection CRF Data Quality Checks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./FuntionalCRF_data_quality_checks_and_reformat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">F</span>&nbsp; <span class="chapter-title">Functional CRF Data Quality Checks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ImagingCRF_data_quality_checks_and_reformat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">G</span>&nbsp; <span class="chapter-title">Imaging CRF Data Quality Checks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./QSTCRF_data_quality_checks_and_reformat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">H</span>&nbsp; <span class="chapter-title">QST CRF Data Quality Checks</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-psychosocial-reading" id="toc-sec-psychosocial-reading" class="nav-link active" data-scroll-target="#sec-psychosocial-reading"><span class="header-section-number">D.1</span> Read in Data and write functions</a>
  <ul class="collapse">
  <li><a href="#load-libraries" id="toc-load-libraries" class="nav-link" data-scroll-target="#load-libraries"><span class="header-section-number">D.1.1</span> Load Libraries</a></li>
  <li><a href="#read-in-psycho-social-data" id="toc-read-in-psycho-social-data" class="nav-link" data-scroll-target="#read-in-psycho-social-data"><span class="header-section-number">D.1.2</span> Read in Psycho-social Data</a></li>
  <li><a href="#read-in-data-dictionary" id="toc-read-in-data-dictionary" class="nav-link" data-scroll-target="#read-in-data-dictionary"><span class="header-section-number">D.1.3</span> Read in Data Dictionary</a></li>
  <li><a href="#new-field-names" id="toc-new-field-names" class="nav-link" data-scroll-target="#new-field-names"><span class="header-section-number">D.1.4</span> New field name(s):</a></li>
  <li><a href="#rules-for-handling-missing-data" id="toc-rules-for-handling-missing-data" class="nav-link" data-scroll-target="#rules-for-handling-missing-data"><span class="header-section-number">D.1.5</span> Rules for handling missing data:</a></li>
  <li><a href="#drop-field-names" id="toc-drop-field-names" class="nav-link" data-scroll-target="#drop-field-names"><span class="header-section-number">D.1.6</span> Drop field names</a></li>
  <li><a href="#forms" id="toc-forms" class="nav-link" data-scroll-target="#forms"><span class="header-section-number">D.1.7</span> Forms:</a></li>
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions"><span class="header-section-number">D.1.8</span> Functions:</a></li>
  </ul></li>
  <li><a href="#scoring-and-imputation" id="toc-scoring-and-imputation" class="nav-link" data-scroll-target="#scoring-and-imputation"><span class="header-section-number">D.2</span> Scoring and Imputation</a>
  <ul class="collapse">
  <li><a href="#the-brief-pain-inventory-bpi" id="toc-the-brief-pain-inventory-bpi" class="nav-link" data-scroll-target="#the-brief-pain-inventory-bpi"><span class="header-section-number">D.2.1</span> The Brief Pain Inventory (BPI)</a></li>
  <li><a href="#michigan-body-map" id="toc-michigan-body-map" class="nav-link" data-scroll-target="#michigan-body-map"><span class="header-section-number">D.2.2</span> Michigan Body Map:</a></li>
  <li><a href="#brief-pain-intensity--whole-body-pain" id="toc-brief-pain-intensity--whole-body-pain" class="nav-link" data-scroll-target="#brief-pain-intensity--whole-body-pain"><span class="header-section-number">D.2.3</span> Brief pain intensity -whole body pain</a></li>
  <li><a href="#modified-bpi-surgical-site-pain" id="toc-modified-bpi-surgical-site-pain" class="nav-link" data-scroll-target="#modified-bpi-surgical-site-pain"><span class="header-section-number">D.2.4</span> Modified BPI – surgical site pain:</a></li>
  <li><a href="#knee-injury-osteoarthritis-outcome-score-koos-12" id="toc-knee-injury-osteoarthritis-outcome-score-koos-12" class="nav-link" data-scroll-target="#knee-injury-osteoarthritis-outcome-score-koos-12"><span class="header-section-number">D.2.5</span> Knee Injury Osteoarthritis Outcome Score (KOOS-12)</a></li>
  <li><a href="#generalized-anxiety-disorder-7-item-gad7-scale-score" id="toc-generalized-anxiety-disorder-7-item-gad7-scale-score" class="nav-link" data-scroll-target="#generalized-anxiety-disorder-7-item-gad7-scale-score"><span class="header-section-number">D.2.6</span> Generalized Anxiety Disorder 7 Item (GAD7) Scale Score</a></li>
  <li><a href="#patient-health-questionnaire-depression-scale-phq-scored" id="toc-patient-health-questionnaire-depression-scale-phq-scored" class="nav-link" data-scroll-target="#patient-health-questionnaire-depression-scale-phq-scored"><span class="header-section-number">D.2.7</span> Patient Health Questionnaire Depression Scale (PHQ) Scored</a></li>
  <li><a href="#fear-avoidance-beliefs-questionnaire-v0.3-fabq" id="toc-fear-avoidance-beliefs-questionnaire-v0.3-fabq" class="nav-link" data-scroll-target="#fear-avoidance-beliefs-questionnaire-v0.3-fabq"><span class="header-section-number">D.2.8</span> Fear-Avoidance Beliefs Questionnaire v0.3 (FABQ)</a></li>
  <li><a href="#pain-catastrophizing-scale-pcs6" id="toc-pain-catastrophizing-scale-pcs6" class="nav-link" data-scroll-target="#pain-catastrophizing-scale-pcs6"><span class="header-section-number">D.2.9</span> Pain Catastrophizing Scale (PCS6)</a></li>
  <li><a href="#symptom-severity-index-v1.0-ssi" id="toc-symptom-severity-index-v1.0-ssi" class="nav-link" data-scroll-target="#symptom-severity-index-v1.0-ssi"><span class="header-section-number">D.2.10</span> Symptom Severity Index v1.0 (SSI)</a></li>
  <li><a href="#pain-detect-questionnaire-pd-q" id="toc-pain-detect-questionnaire-pd-q" class="nav-link" data-scroll-target="#pain-detect-questionnaire-pd-q"><span class="header-section-number">D.2.11</span> Pain Detect Questionnaire (PD-Q)</a></li>
  <li><a href="#patient-reported-outcomes-measurement-information-system-promis" id="toc-patient-reported-outcomes-measurement-information-system-promis" class="nav-link" data-scroll-target="#patient-reported-outcomes-measurement-information-system-promis"><span class="header-section-number">D.2.12</span> Patient-Reported Outcomes Measurement Information System (PROMIS)</a></li>
  <li><a href="#pain-sleep-duration-sleep-ii" id="toc-pain-sleep-duration-sleep-ii" class="nav-link" data-scroll-target="#pain-sleep-duration-sleep-ii"><span class="header-section-number">D.2.13</span> Pain-Sleep Duration (Sleep II)</a></li>
  <li><a href="#pain-resilience-scale-prs" id="toc-pain-resilience-scale-prs" class="nav-link" data-scroll-target="#pain-resilience-scale-prs"><span class="header-section-number">D.2.14</span> Pain Resilience Scale (PRS)</a></li>
  <li><a href="#multidimensional-inventory-of-subjective-cognitive-impairment-v1.0-misci" id="toc-multidimensional-inventory-of-subjective-cognitive-impairment-v1.0-misci" class="nav-link" data-scroll-target="#multidimensional-inventory-of-subjective-cognitive-impairment-v1.0-misci"><span class="header-section-number">D.2.15</span> Multidimensional Inventory of Subjective Cognitive Impairment v1.0 (MISCI)</a></li>
  <li><a href="#the-big-five-inventory-bfi-2-s" id="toc-the-big-five-inventory-bfi-2-s" class="nav-link" data-scroll-target="#the-big-five-inventory-bfi-2-s"><span class="header-section-number">D.2.16</span> The Big Five Inventory (BFI-2-S)</a></li>
  <li><a href="#danish-thoracic-surgery-questionnaire-v0.2" id="toc-danish-thoracic-surgery-questionnaire-v0.2" class="nav-link" data-scroll-target="#danish-thoracic-surgery-questionnaire-v0.2"><span class="header-section-number">D.2.17</span> Danish Thoracic Surgery Questionnaire v0.2</a></li>
  <li><a href="#rapid-assessment-of-physical-activity-v1.0-rapa" id="toc-rapid-assessment-of-physical-activity-v1.0-rapa" class="nav-link" data-scroll-target="#rapid-assessment-of-physical-activity-v1.0-rapa"><span class="header-section-number">D.2.18</span> Rapid Assessment of Physical Activity v1.0 (RAPA)</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./bids-qc-joining.html">Appendices</a></li><li class="breadcrumb-item"><a href="./psycho_social_biomarker_impute.html"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Psychosocial Data Imputation and Biomarker calculations</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-psychosocial-methods" class="quarto-section-identifier">Appendix D — Psychosocial Data Imputation and Biomarker calculations</span></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-contents">
             <p>Martin A. Lindquist </p>
             <p>Briha Ansari </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p>This document goes over score calculation and missing data imputation for each psychosocial form. The headings in the sidebar help the user navigate to their desired content. The code chunks for each form can be run independently after running <a href="#sec-psychosocial-reading" class="quarto-xref"><span>Section D.1</span></a> in its entirety.</p>
<section id="sec-psychosocial-reading" class="level2 page-columns page-full" data-number="D.1">
<h2 data-number="D.1" class="anchored" data-anchor-id="sec-psychosocial-reading"><span class="header-section-number">D.1</span> Read in Data and write functions</h2>
<section id="load-libraries" class="level3" data-number="D.1.1">
<h3 data-number="D.1.1" class="anchored" data-anchor-id="load-libraries"><span class="header-section-number">D.1.1</span> Load Libraries</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hablar)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(naniar)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ComplexUpset)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="read-in-psycho-social-data" class="level3" data-number="D.1.2">
<h3 data-number="D.1.2" class="anchored" data-anchor-id="read-in-psycho-social-data"><span class="header-section-number">D.1.2</span> Read in Psycho-social Data</h3>
<p>We will call this psy_soc</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>psy_soc <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">here</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"data"</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"psychosocial"</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"psychosocial-2024-11-06.csv"</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>)) <span class="sc">%&gt;%</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(redcap_event_name <span class="sc">==</span> <span class="st">"baseline_visit_arm_1"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Remove test records</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>test_records <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"10000"</span>,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"15000"</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"20000"</span>,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"25000"</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"40000"</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"50000"</span>,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"60000"</span>,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"70000"</span>,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"80000"</span>,</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"90000"</span>,</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"100000"</span>,</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"110000"</span>,</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"120000"</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>psy_soc <span class="ot">&lt;-</span> psy_soc <span class="sc">%&gt;%</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>record_id <span class="sc">%in%</span> test_records)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Create a column for cohort type called “cohort”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>psy_soc <span class="ot">&lt;-</span> psy_soc <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cohort =</span> <span class="fu">case_when</span>(</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>      record_id <span class="sc">&gt;=</span> <span class="dv">10000</span> <span class="sc">&amp;</span> record_id <span class="sc">&lt;</span> <span class="dv">15000</span> <span class="sc">|</span> record_id <span class="sc">&gt;=</span> <span class="dv">25000</span> <span class="sc">~</span> <span class="st">"TKA"</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Thoracic"</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="read-in-data-dictionary" class="level3" data-number="D.1.3">
<h3 data-number="D.1.3" class="anchored" data-anchor-id="read-in-data-dictionary"><span class="header-section-number">D.1.3</span> Read in Data Dictionary</h3>
<p>Read in Data dictionary and remove duplicate field name</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"data"</span>,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"psychosocial"</span>,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"psychosocial-Data-Dictionary-2024-11-06.csv"</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(field_name, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="new-field-names" class="level3" data-number="D.1.4">
<h3 data-number="D.1.4" class="anchored" data-anchor-id="new-field-names"><span class="header-section-number">D.1.4</span> New field name(s):</h3>
<p>Add the field name “cohort” to the data dictionary</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create field names</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>cohort_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"cohort"</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"Character"</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_note =</span> <span class="st">"Type of surgical cohort"</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"TKA,Thoracic"</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the new row after the last row</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co"># TKA</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(.)) <span class="sc">%&gt;%</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">.after =</span> <span class="fu">nrow</span>(.), <span class="sc">!!!</span>cohort_new_row)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="rules-for-handling-missing-data" class="level3 page-columns page-full" data-number="D.1.5">
<h3 data-number="D.1.5" class="anchored" data-anchor-id="rules-for-handling-missing-data"><span class="header-section-number">D.1.5</span> Rules for handling missing data:</h3>
<p>In case of missing data, each form will be handled on a case by case basis using available literature or user guides. For forms with no available user guides:</p>
<ul>
<li><p>We will impute missing values by replacing missing values with the average score of the completed items for a given subject if less than or equal to 29% of the survey items are missing <span class="citation" data-cites="Arrieta2017">(<a href="references.html#ref-Arrieta2017" role="doc-biblioref">Arrieta et al., 2017</a>)</span></p></li>
<li><p>For non integer values, we will use the floor value. In other words for a 12 item questionnaire, where 29% = 3.48, we will impute missing values if less than or equal to 3 of 12 items are missing.</p></li>
<li><p>We will not impute missing items with a yes/no response</p></li>
<li><p>We will not impute missing values where questions do not assess an underlying latent trait i.e not correlated with other items on a multi-item questionnaire</p></li>
<li><p>Forms with subject level characteristics will not be imputed</p></li>
</ul>
<div class="no-row-height column-margin column-container"></div></section>
<section id="drop-field-names" class="level3" data-number="D.1.6">
<h3 data-number="D.1.6" class="anchored" data-anchor-id="drop-field-names"><span class="header-section-number">D.1.6</span> Drop field names</h3>
<p>There are some forms (opioid_side_effects_and_likeability_v03_side_effec, opioid_and_pain_control_satisfaction_v02_satisfact and patient_global_impression_of_change_pgic) and field names for follow up questions not asked during the baseline visit. We will create a vector of these field names and drop them from the psycho-social data as well as the data dictionary. We will call this subset of the data “psy_soc1.”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>drop_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pgicsymptomchangestatval"</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"patient_global_impression_of_change_pgic_complete"</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad7_tot_not_sure"</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad7_tot_several"</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad7_tot_over_half"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad7_tot_every_day"</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pdqassessdate_dss"</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1surgyn"</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1surgrel"</span>,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1relmanipultn___1"</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1relinfection___1"</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1relrevision___1"</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1relother___1"</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1relothertxt"</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1surgunr"</span>,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1unrotherknee___1"</span>,</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1unrsurgother___1"</span>,</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1unrother___1"</span>,</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1unrothertxt"</span>,</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1visityn"</span>,</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1relvisit"</span>,</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1relvisited___1"</span>,</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1relvisitoffice___1"</span>,</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1relvisitother___1"</span>,</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1relvisitothertxt"</span>,</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1unrvisit"</span>,</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1unrvisited___1"</span>,</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1unrvisitoffice___1"</span>,</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1unrvisitother___1"</span>,</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms1unrvisitothertxt"</span>,</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms2surgyn"</span>,</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms2surgrel"</span>,</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms2surgunr"</span>,</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms2relvisitoffice___1"</span>,</span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms2relvisitother___1"</span>,</span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms2relvisitothertxt"</span>,</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms2unrvisit"</span>,</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms2unrvisited___1"</span>,</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms2unrvisitoffice___1"</span>,</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms2unrvisitother___1"</span>,</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oms2unrvisitothertxt"</span></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>psy_soc1 <span class="ot">&lt;-</span> psy_soc <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">all_of</span>(drop_vars))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>The initial data had 521 field names, we now have 456 fields names after removing 65 field names not needed</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(psy_soc)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1401  495</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(psy_soc1)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1401  454</code></pre>
</div>
</div>
</section>
<section id="forms" class="level3" data-number="D.1.7">
<h3 data-number="D.1.7" class="anchored" data-anchor-id="forms"><span class="header-section-number">D.1.7</span> Forms:</h3>
<p>Following are the available psycho-social forms and imputation methods used in this workflow:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 49%">
</colgroup>
<thead>
<tr class="header">
<th>Form Name</th>
<th>How was missing data handled</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>The Brief Pain Inventory v2.3 - Short Form (BPI): General Pain Intensity</td>
<td>Indicator for missingness</td>
</tr>
<tr class="even">
<td>The Brief Pain Inventory v2.3 - Short Form (BPI):Local Pain Intensity</td>
<td>BPI user guide</td>
</tr>
<tr class="odd">
<td>The Brief Pain Inventory v2.3 - Short Form (BPI):pain interference subscore</td>
<td>BPI user guide</td>
</tr>
<tr class="even">
<td>The Brief Pain Inventory v2.3 - Short Form (BPI):Widespread Body Pain (Michigan body map)</td>
<td>Indicator for missingness</td>
</tr>
<tr class="odd">
<td>Knee Injury Osteoarthritis Outcome Score (KOOS-12)</td>
<td>KOOS-12 user guide</td>
</tr>
<tr class="even">
<td>Generalized Anxiety Disorder 7 Item (GAD7) Scale Score</td>
<td>Row-wise mean</td>
</tr>
<tr class="odd">
<td>Patient Health Questionnaire Depression Scale (PHQ) Scored</td>
<td>Row-wise mean</td>
</tr>
<tr class="even">
<td>Fear avoidance: FABQ</td>
<td>Row-wise mean</td>
</tr>
<tr class="odd">
<td>Pain Catastrophizing Questionnaire (PCS6)</td>
<td>Row-wise mean</td>
</tr>
<tr class="even">
<td>Other Pain Treatments v3 (Other Treatments)</td>
<td>Not imputed: Subject Level Characteristics</td>
</tr>
<tr class="odd">
<td>Other Medical Surgical Treatments II v0.5</td>
<td>Not imputed: Subject Level Characteristics</td>
</tr>
<tr class="even">
<td>Symptom Severity Index v1.0 (SSI)</td>
<td>Indicator for missingness</td>
</tr>
<tr class="odd">
<td>painDETECT Questionnaire</td>
<td>Row-wise mean</td>
</tr>
<tr class="even">
<td>PROMIS SF v1.2 - Physical Function 8b</td>
<td>HealthMeasures Scoring Service</td>
</tr>
<tr class="odd">
<td>PROMIS SF v1.0 - Sleep Disturbance 6a (Sleep I)</td>
<td>HealthMeasures Scoring Service</td>
</tr>
<tr class="even">
<td>PROMIS SF v1.0 - Fatigue 7a</td>
<td>HealthMeasures Scoring Service</td>
</tr>
<tr class="odd">
<td>PROMIS SF v2.0 - Emotional Support 6a</td>
<td>HealthMeasures Scoring Service</td>
</tr>
<tr class="even">
<td>PROMIS SF v2.0 - Instrumental Support 6a</td>
<td>HealthMeasures Scoring Service</td>
</tr>
<tr class="odd">
<td>Pain-Sleep Duration (Sleep II)</td>
<td>Indicator for outliers and missingness</td>
</tr>
<tr class="even">
<td>Pain Resilience Scale (PRS)</td>
<td>Row-wise mean</td>
</tr>
<tr class="odd">
<td>Multidimensional Inventory of Subjective Cognitive Impairment v1.0 (MISCI)</td>
<td>Row-wise mean</td>
</tr>
<tr class="even">
<td>Adverse Childhood Experience Questionnaire (ACE)</td>
<td>Not imputed: Responses in yes/no format</td>
</tr>
<tr class="odd">
<td>TAPS-1</td>
<td>Not imputed: Smoking/substance abuse screener</td>
</tr>
<tr class="even">
<td>TAPS-2</td>
<td>Not imputed: Responses in yes/no format</td>
</tr>
<tr class="odd">
<td>Opioid Use Baseline v1.0 (Opioid Use I)</td>
<td>Not imputed: Subject Level Characteristics</td>
</tr>
<tr class="even">
<td>Expectation Items</td>
<td>Not imputed</td>
</tr>
<tr class="odd">
<td>Current Opioid Misuse v0.2 (COMM)</td>
<td>Not imputed: Subject Level Characteristics</td>
</tr>
<tr class="even">
<td>Rapid Assessment of Physical Activity v1.0 (RAPA)</td>
<td><p>Not imputed: Responses in yes/no format</p>
<p>Aerobic activity items: scored based on the highest activity answered in the affirmative</p></td>
</tr>
<tr class="odd">
<td>General Sensory Sensitivity v0.2 (GSS-8)</td>
<td>Not imputed: Responses in yes/no format</td>
</tr>
<tr class="even">
<td>The Big Five Inventory (BFI-2-S)</td>
<td>Response to the closest matching item (similar meaning) was used</td>
</tr>
<tr class="odd">
<td>Self-Administered Comorbidity Questionnaire v4 (SCQ)</td>
<td>Not imputed: Subject Level Characteristics</td>
</tr>
<tr class="even">
<td>Danish Thoracic Surgery Questionnaire v0.2</td>
<td>Row-wise mean</td>
</tr>
</tbody>
</table>
</section>
<section id="functions" class="level3" data-number="D.1.8">
<h3 data-number="D.1.8" class="anchored" data-anchor-id="functions"><span class="header-section-number">D.1.8</span> Functions:</h3>
<p>We will create a function called ‘applyFilter’ that subsets the ‘psy_soc1’ dataset based on field names that match a specified pattern. The function takes two parameters: ‘prefix’, for form specific field names and ‘test_complete_column’ for the form specific variable which indicates if the form was complete i.e 2 . It returns a dataset containing the ‘record_id’, ‘redcap_event_name’, ‘redcap_data_access_group’, and the form specific field names for completed forms.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>applyFilter <span class="ot">&lt;-</span> <span class="cf">function</span>(prefix, test_complete_column) {</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  filtered_data <span class="ot">&lt;-</span> psy_soc1 <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>      record_id,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>      guid,</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>      redcap_event_name,</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>      redcap_data_access_group,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>      cohort,</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">starts_with</span>(prefix),</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>      {{ test_complete_column }}</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>({{ test_complete_column }} <span class="sc">==</span> <span class="dv">2</span>)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(filtered_data)</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="scoring-and-imputation" class="level2 page-columns page-full" data-number="D.2">
<h2 data-number="D.2" class="anchored" data-anchor-id="scoring-and-imputation"><span class="header-section-number">D.2</span> Scoring and Imputation</h2>
<section id="the-brief-pain-inventory-bpi" class="level3" data-number="D.2.1">
<h3 data-number="D.2.1" class="anchored" data-anchor-id="the-brief-pain-inventory-bpi"><span class="header-section-number">D.2.1</span> The Brief Pain Inventory (BPI)</h3>
<section id="read-in-data" class="level4" data-number="D.2.1.1">
<h4 data-number="D.2.1.1" class="anchored" data-anchor-id="read-in-data"><span class="header-section-number">D.2.1.1</span> Read in Data:</h4>
<p>Read in psy_soc1 dataframe and select field names from the BPI data and keep completed forms, we will call this BPI</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>BPI <span class="ot">&lt;-</span> <span class="fu">applyFilter</span>(</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"BPI"</span>,</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  bpisf_the_brief_pain_inventory_v23_short_form_bpi_complete</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="components" class="level4" data-number="D.2.1.2">
<h4 data-number="D.2.1.2" class="anchored" data-anchor-id="components"><span class="header-section-number">D.2.1.2</span> Components:</h4>
<p>BPI assesses pain and includes information on:</p>
<ul>
<li><p>Widespread body pain measured by Michigan Body Map</p></li>
<li><p>General pain intensity measured by Brief pain intensity -whole body pain</p></li>
<li><p>Local pain intensity measured by Modified BPI – surgical site pain</p></li>
</ul>
<p>Split BPI: We will subset the BPI data into three datasets according to the above information.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>bpi_body_map <span class="ot">&lt;-</span> BPI <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    record_id,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    guid,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    redcap_event_name,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    redcap_data_access_group,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    cohort,</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    bpipainanatsiteareatxt,</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ends_with</span>(<span class="st">"rate"</span>),</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ends_with</span>(<span class="st">"dur"</span>),</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    bpisf_the_brief_pain_inventory_v23_short_form_bpi_complete</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>bpi_body_pain <span class="ot">&lt;-</span> BPI <span class="sc">%&gt;%</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>    record_id,</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>    guid,</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>    redcap_event_name,</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>    redcap_data_access_group,</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>    cohort,</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>    bpiworstpainratingexclss,</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>    bpisf_the_brief_pain_inventory_v23_short_form_bpi_complete</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>bpi_pain_intrf <span class="ot">&lt;-</span> BPI <span class="sc">%&gt;%</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>    record_id,</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>    guid,</span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>    redcap_event_name,</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>    redcap_data_access_group,</span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>    cohort,</span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>    bpiworstpainratingss,</span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>    bpipainintfrgnrlactvtyscl,</span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">contains</span>(<span class="st">"intfr"</span>),</span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">contains</span>(<span class="st">"intrfr"</span>),</span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>    bpisf_the_brief_pain_inventory_v23_short_form_bpi_complete</span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We now have three datasets:</p>
<ul>
<li><p>bpi_body_map for widespread body pain - Michigan Body Map</p></li>
<li><p>bpi_body_pain for general pain intensity measured by brief pain intensity -whole body pain</p></li>
<li><p>bpi_pain_intrf for local pain intensity measured by modified BPI – surgical site pain</p></li>
</ul>
<p>Inspect Field names: Make sure that the three datasets have the field names of interest</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(bpi_body_map)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "record_id"                                                 
 [2] "guid"                                                      
 [3] "redcap_event_name"                                         
 [4] "redcap_data_access_group"                                  
 [5] "cohort"                                                    
 [6] "bpipainanatsiteareatxt"                                    
 [7] "bpi_mbm_z1_rate"                                           
 [8] "bpi_mbm_z2_rate"                                           
 [9] "bpi_mbm_z3_rate"                                           
[10] "bpi_mbm_z4_rate"                                           
[11] "bpi_mbm_z5_rate"                                           
[12] "bpi_mbm_z6_rate"                                           
[13] "bpi_mbm_z7_rate"                                           
[14] "bpi_mbm_z8_rate"                                           
[15] "bpi_mbm_z9_rate"                                           
[16] "bpi_mbm_z1_dur"                                            
[17] "bpi_mbm_z2_dur"                                            
[18] "bpi_mbm_z3_dur"                                            
[19] "bpi_mbm_z4_dur"                                            
[20] "bpi_mbm_z5_dur"                                            
[21] "bpi_mbm_z6_dur"                                            
[22] "bpi_mbm_z7_dur"                                            
[23] "bpi_mbm_z8_dur"                                            
[24] "bpi_mbm_z9_dur"                                            
[25] "bpisf_the_brief_pain_inventory_v23_short_form_bpi_complete"</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(bpi_body_pain)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "record_id"                                                 
[2] "guid"                                                      
[3] "redcap_event_name"                                         
[4] "redcap_data_access_group"                                  
[5] "cohort"                                                    
[6] "bpiworstpainratingexclss"                                  
[7] "bpisf_the_brief_pain_inventory_v23_short_form_bpi_complete"</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(bpi_pain_intrf)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "record_id"                                                 
 [2] "guid"                                                      
 [3] "redcap_event_name"                                         
 [4] "redcap_data_access_group"                                  
 [5] "cohort"                                                    
 [6] "bpiworstpainratingss"                                      
 [7] "bpipainintfrgnrlactvtyscl"                                 
 [8] "bpipainintfrmoodscl"                                       
 [9] "bpipainintfrwlkablscl"                                     
[10] "bpipainnrmlwrkintrfrscl"                                   
[11] "bpipainrelationsintrfrscl"                                 
[12] "bpipainsleepintrfrscl"                                     
[13] "bpipainenjoymntintrfrscl"                                  
[14] "bpipainintrfrscore"                                        
[15] "bpisf_the_brief_pain_inventory_v23_short_form_bpi_complete"</code></pre>
</div>
</div>
<p>All three datasets have the desired fields names. We will now look at missing data pattern in each dataset:</p>
</section>
</section>
<section id="michigan-body-map" class="level3 page-columns page-full" data-number="D.2.2">
<h3 data-number="D.2.2" class="anchored" data-anchor-id="michigan-body-map"><span class="header-section-number">D.2.2</span> Michigan Body Map:</h3>
<p>Michigan Body Map records pain intensity and duration for the body region indicated by the subject <span class="citation" data-cites="berardi_multi_2022">(<a href="references.html#ref-berardi_multi_2022" role="doc-biblioref">Berardi et al., 2022</a>)</span>. The painful body regions can vary from subject to subject, which can result in null values in field names for body regions not indicated by the subject, this explains the data sparsity.</p>
<div class="no-row-height column-margin column-container"></div><section id="missing-data" class="level4" data-number="D.2.2.1">
<h4 data-number="D.2.2.1" class="anchored" data-anchor-id="missing-data"><span class="header-section-number">D.2.2.1</span> Missing Data:</h4>
<p>Missing data pattern in bpi_body_map</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  bpi_body_map,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(bpi_body_map),</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We will create a separate field name for each body region and assign a value of 0 if a subject has not selected a body region and has not indicated the duration and intensity of pain for the selected body region i.e.&nbsp;has not experienced any pain in the selected body region, assign 1 if a subject has indicated painful region(s) as well as specified the rate and duration,and 2 if either value (rate or duration) or none of the values are present for the selected body regions or if either value ( rate or duration) is available but the body region is not specified.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>bpi_body_map <span class="ot">&lt;-</span> bpi_body_map <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">head_face_jaw =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>      (<span class="fu">grepl</span>(<span class="st">"(a00|a01|a02|a25)"</span>, bpipainanatsiteareatxt)) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">neck =</span> <span class="fu">case_when</span>((<span class="fu">grepl</span>(<span class="st">"a26"</span>, bpipainanatsiteareatxt)) <span class="sc">~</span> <span class="dv">1</span>, <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span>)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">chest_or_breast =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>      (<span class="fu">grepl</span>(<span class="st">"(a03|a04)"</span>, bpipainanatsiteareatxt)) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">abd_pelvis_groin =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>      (<span class="fu">grepl</span>(<span class="st">"(a13|a14|a15|a16)"</span>, bpipainanatsiteareatxt)) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">right_shoulder_arm_wrist =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>      (<span class="fu">grepl</span>(<span class="st">"(a28|a05|a07|a09|a11)"</span>, bpipainanatsiteareatxt)) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">left_shoulder_arm_wrist =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>      (<span class="fu">grepl</span>(<span class="st">"(a27|a06|a08|a10|a12)"</span>, bpipainanatsiteareatxt)) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">back_buttocks =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a>      (<span class="fu">grepl</span>(<span class="st">"(a29|a30|a33|a34)"</span>, bpipainanatsiteareatxt)) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-42"><a href="#cb23-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">right_hip_leg_foot =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-43"><a href="#cb23-43" aria-hidden="true" tabindex="-1"></a>      (<span class="fu">grepl</span>(<span class="st">"(a32|a17|a19|a21|a23)"</span>, bpipainanatsiteareatxt)) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb23-44"><a href="#cb23-44" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb23-45"><a href="#cb23-45" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-46"><a href="#cb23-46" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-47"><a href="#cb23-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-48"><a href="#cb23-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">left_hip_leg_foot =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-49"><a href="#cb23-49" aria-hidden="true" tabindex="-1"></a>      (<span class="fu">grepl</span>(<span class="st">"(a31|a18|a20|a22|a24)"</span>, bpipainanatsiteareatxt)) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb23-50"><a href="#cb23-50" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb23-51"><a href="#cb23-51" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-52"><a href="#cb23-52" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-53"><a href="#cb23-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-54"><a href="#cb23-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">head_face_jaw_m =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-55"><a href="#cb23-55" aria-hidden="true" tabindex="-1"></a>      head_face_jaw <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(bpi_mbm_z1_rate) <span class="sc">&amp;</span> <span class="fu">is.na</span>(bpi_mbm_z1_dur) <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb23-56"><a href="#cb23-56" aria-hidden="true" tabindex="-1"></a>      head_face_jaw <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z1_rate) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z1_dur) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb23-57"><a href="#cb23-57" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">2</span></span>
<span id="cb23-58"><a href="#cb23-58" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-59"><a href="#cb23-59" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-60"><a href="#cb23-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-61"><a href="#cb23-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">neck_m =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-62"><a href="#cb23-62" aria-hidden="true" tabindex="-1"></a>      neck <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(bpi_mbm_z2_rate) <span class="sc">&amp;</span> <span class="fu">is.na</span>(bpi_mbm_z2_dur) <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb23-63"><a href="#cb23-63" aria-hidden="true" tabindex="-1"></a>      neck <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z2_rate) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z2_dur) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb23-64"><a href="#cb23-64" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">2</span></span>
<span id="cb23-65"><a href="#cb23-65" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-66"><a href="#cb23-66" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-67"><a href="#cb23-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-68"><a href="#cb23-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">chest_or_breast_m =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-69"><a href="#cb23-69" aria-hidden="true" tabindex="-1"></a>      chest_or_breast <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(bpi_mbm_z3_rate) <span class="sc">&amp;</span> <span class="fu">is.na</span>(bpi_mbm_z3_dur) <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb23-70"><a href="#cb23-70" aria-hidden="true" tabindex="-1"></a>      chest_or_breast <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z3_rate) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z3_dur) <span class="sc">~</span></span>
<span id="cb23-71"><a href="#cb23-71" aria-hidden="true" tabindex="-1"></a>        <span class="dv">1</span>,</span>
<span id="cb23-72"><a href="#cb23-72" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">2</span></span>
<span id="cb23-73"><a href="#cb23-73" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-74"><a href="#cb23-74" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-75"><a href="#cb23-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-76"><a href="#cb23-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">abd_pelvis_groin_m =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-77"><a href="#cb23-77" aria-hidden="true" tabindex="-1"></a>      abd_pelvis_groin <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(bpi_mbm_z4_rate) <span class="sc">&amp;</span> <span class="fu">is.na</span>(bpi_mbm_z4_dur) <span class="sc">~</span></span>
<span id="cb23-78"><a href="#cb23-78" aria-hidden="true" tabindex="-1"></a>        <span class="dv">0</span>,</span>
<span id="cb23-79"><a href="#cb23-79" aria-hidden="true" tabindex="-1"></a>      abd_pelvis_groin <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z4_rate) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z4_dur) <span class="sc">~</span></span>
<span id="cb23-80"><a href="#cb23-80" aria-hidden="true" tabindex="-1"></a>        <span class="dv">1</span>,</span>
<span id="cb23-81"><a href="#cb23-81" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">2</span></span>
<span id="cb23-82"><a href="#cb23-82" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-83"><a href="#cb23-83" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-84"><a href="#cb23-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-85"><a href="#cb23-85" aria-hidden="true" tabindex="-1"></a>    <span class="at">right_shoulder_arm_wrist_m =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-86"><a href="#cb23-86" aria-hidden="true" tabindex="-1"></a>      right_shoulder_arm_wrist <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span></span>
<span id="cb23-87"><a href="#cb23-87" aria-hidden="true" tabindex="-1"></a>        <span class="fu">is.na</span>(bpi_mbm_z5_rate) <span class="sc">&amp;</span></span>
<span id="cb23-88"><a href="#cb23-88" aria-hidden="true" tabindex="-1"></a>        <span class="fu">is.na</span>(bpi_mbm_z5_dur) <span class="sc">~</span></span>
<span id="cb23-89"><a href="#cb23-89" aria-hidden="true" tabindex="-1"></a>        <span class="dv">0</span>,</span>
<span id="cb23-90"><a href="#cb23-90" aria-hidden="true" tabindex="-1"></a>      right_shoulder_arm_wrist <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span></span>
<span id="cb23-91"><a href="#cb23-91" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z5_rate) <span class="sc">&amp;</span></span>
<span id="cb23-92"><a href="#cb23-92" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z5_dur) <span class="sc">~</span></span>
<span id="cb23-93"><a href="#cb23-93" aria-hidden="true" tabindex="-1"></a>        <span class="dv">1</span>,</span>
<span id="cb23-94"><a href="#cb23-94" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">2</span></span>
<span id="cb23-95"><a href="#cb23-95" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-96"><a href="#cb23-96" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-97"><a href="#cb23-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-98"><a href="#cb23-98" aria-hidden="true" tabindex="-1"></a>    <span class="at">left_shoulder_arm_wrist_m =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-99"><a href="#cb23-99" aria-hidden="true" tabindex="-1"></a>      left_shoulder_arm_wrist <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span></span>
<span id="cb23-100"><a href="#cb23-100" aria-hidden="true" tabindex="-1"></a>        <span class="fu">is.na</span>(bpi_mbm_z6_rate) <span class="sc">&amp;</span></span>
<span id="cb23-101"><a href="#cb23-101" aria-hidden="true" tabindex="-1"></a>        <span class="fu">is.na</span>(bpi_mbm_z6_dur) <span class="sc">~</span></span>
<span id="cb23-102"><a href="#cb23-102" aria-hidden="true" tabindex="-1"></a>        <span class="dv">0</span>,</span>
<span id="cb23-103"><a href="#cb23-103" aria-hidden="true" tabindex="-1"></a>      left_shoulder_arm_wrist <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span></span>
<span id="cb23-104"><a href="#cb23-104" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z6_rate) <span class="sc">&amp;</span></span>
<span id="cb23-105"><a href="#cb23-105" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z6_dur) <span class="sc">~</span></span>
<span id="cb23-106"><a href="#cb23-106" aria-hidden="true" tabindex="-1"></a>        <span class="dv">1</span>,</span>
<span id="cb23-107"><a href="#cb23-107" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">2</span></span>
<span id="cb23-108"><a href="#cb23-108" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-109"><a href="#cb23-109" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-110"><a href="#cb23-110" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-111"><a href="#cb23-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">back_buttocks_m =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-112"><a href="#cb23-112" aria-hidden="true" tabindex="-1"></a>      back_buttocks <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(bpi_mbm_z7_rate) <span class="sc">&amp;</span> <span class="fu">is.na</span>(bpi_mbm_z7_dur) <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb23-113"><a href="#cb23-113" aria-hidden="true" tabindex="-1"></a>      back_buttocks <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z7_rate) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z7_dur) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb23-114"><a href="#cb23-114" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">2</span></span>
<span id="cb23-115"><a href="#cb23-115" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-116"><a href="#cb23-116" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-117"><a href="#cb23-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-118"><a href="#cb23-118" aria-hidden="true" tabindex="-1"></a>    <span class="at">right_hip_leg_foot_m =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-119"><a href="#cb23-119" aria-hidden="true" tabindex="-1"></a>      right_hip_leg_foot <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(bpi_mbm_z8_rate) <span class="sc">&amp;</span> <span class="fu">is.na</span>(bpi_mbm_z8_dur) <span class="sc">~</span></span>
<span id="cb23-120"><a href="#cb23-120" aria-hidden="true" tabindex="-1"></a>        <span class="dv">0</span>,</span>
<span id="cb23-121"><a href="#cb23-121" aria-hidden="true" tabindex="-1"></a>      right_hip_leg_foot <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span></span>
<span id="cb23-122"><a href="#cb23-122" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z8_rate) <span class="sc">&amp;</span></span>
<span id="cb23-123"><a href="#cb23-123" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z8_dur) <span class="sc">~</span></span>
<span id="cb23-124"><a href="#cb23-124" aria-hidden="true" tabindex="-1"></a>        <span class="dv">1</span>,</span>
<span id="cb23-125"><a href="#cb23-125" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">2</span></span>
<span id="cb23-126"><a href="#cb23-126" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-127"><a href="#cb23-127" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-128"><a href="#cb23-128" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-129"><a href="#cb23-129" aria-hidden="true" tabindex="-1"></a>    <span class="at">left_hip_leg_foot_m =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-130"><a href="#cb23-130" aria-hidden="true" tabindex="-1"></a>      left_hip_leg_foot <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(bpi_mbm_z9_rate) <span class="sc">&amp;</span> <span class="fu">is.na</span>(bpi_mbm_z9_dur) <span class="sc">~</span></span>
<span id="cb23-131"><a href="#cb23-131" aria-hidden="true" tabindex="-1"></a>        <span class="dv">0</span>,</span>
<span id="cb23-132"><a href="#cb23-132" aria-hidden="true" tabindex="-1"></a>      left_hip_leg_foot <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span></span>
<span id="cb23-133"><a href="#cb23-133" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z9_rate) <span class="sc">&amp;</span></span>
<span id="cb23-134"><a href="#cb23-134" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!</span><span class="fu">is.na</span>(bpi_mbm_z9_dur) <span class="sc">~</span></span>
<span id="cb23-135"><a href="#cb23-135" aria-hidden="true" tabindex="-1"></a>        <span class="dv">1</span>,</span>
<span id="cb23-136"><a href="#cb23-136" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">2</span></span>
<span id="cb23-137"><a href="#cb23-137" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-138"><a href="#cb23-138" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-139"><a href="#cb23-139" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">ends_with</span>(<span class="st">"_m"</span>), as.factor)) <span class="sc">%&gt;%</span></span>
<span id="cb23-140"><a href="#cb23-140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(</span>
<span id="cb23-141"><a href="#cb23-141" aria-hidden="true" tabindex="-1"></a>    record_id,</span>
<span id="cb23-142"><a href="#cb23-142" aria-hidden="true" tabindex="-1"></a>    guid,</span>
<span id="cb23-143"><a href="#cb23-143" aria-hidden="true" tabindex="-1"></a>    redcap_event_name,</span>
<span id="cb23-144"><a href="#cb23-144" aria-hidden="true" tabindex="-1"></a>    redcap_data_access_group,</span>
<span id="cb23-145"><a href="#cb23-145" aria-hidden="true" tabindex="-1"></a>    bpipainanatsiteareatxt,</span>
<span id="cb23-146"><a href="#cb23-146" aria-hidden="true" tabindex="-1"></a>    head_face_jaw,</span>
<span id="cb23-147"><a href="#cb23-147" aria-hidden="true" tabindex="-1"></a>    head_face_jaw_m,</span>
<span id="cb23-148"><a href="#cb23-148" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z1_rate,</span>
<span id="cb23-149"><a href="#cb23-149" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z1_dur,</span>
<span id="cb23-150"><a href="#cb23-150" aria-hidden="true" tabindex="-1"></a>    neck,</span>
<span id="cb23-151"><a href="#cb23-151" aria-hidden="true" tabindex="-1"></a>    neck_m,</span>
<span id="cb23-152"><a href="#cb23-152" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z2_rate,</span>
<span id="cb23-153"><a href="#cb23-153" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z2_dur,</span>
<span id="cb23-154"><a href="#cb23-154" aria-hidden="true" tabindex="-1"></a>    chest_or_breast,</span>
<span id="cb23-155"><a href="#cb23-155" aria-hidden="true" tabindex="-1"></a>    chest_or_breast_m,</span>
<span id="cb23-156"><a href="#cb23-156" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z3_rate,</span>
<span id="cb23-157"><a href="#cb23-157" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z3_dur,</span>
<span id="cb23-158"><a href="#cb23-158" aria-hidden="true" tabindex="-1"></a>    abd_pelvis_groin,</span>
<span id="cb23-159"><a href="#cb23-159" aria-hidden="true" tabindex="-1"></a>    abd_pelvis_groin_m,</span>
<span id="cb23-160"><a href="#cb23-160" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z4_rate,</span>
<span id="cb23-161"><a href="#cb23-161" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z4_dur,</span>
<span id="cb23-162"><a href="#cb23-162" aria-hidden="true" tabindex="-1"></a>    right_shoulder_arm_wrist,</span>
<span id="cb23-163"><a href="#cb23-163" aria-hidden="true" tabindex="-1"></a>    right_shoulder_arm_wrist_m,</span>
<span id="cb23-164"><a href="#cb23-164" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z5_rate,</span>
<span id="cb23-165"><a href="#cb23-165" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z5_dur,</span>
<span id="cb23-166"><a href="#cb23-166" aria-hidden="true" tabindex="-1"></a>    left_shoulder_arm_wrist,</span>
<span id="cb23-167"><a href="#cb23-167" aria-hidden="true" tabindex="-1"></a>    left_shoulder_arm_wrist_m,</span>
<span id="cb23-168"><a href="#cb23-168" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z6_rate,</span>
<span id="cb23-169"><a href="#cb23-169" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z6_dur,</span>
<span id="cb23-170"><a href="#cb23-170" aria-hidden="true" tabindex="-1"></a>    back_buttocks,</span>
<span id="cb23-171"><a href="#cb23-171" aria-hidden="true" tabindex="-1"></a>    back_buttocks_m,</span>
<span id="cb23-172"><a href="#cb23-172" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z7_rate,</span>
<span id="cb23-173"><a href="#cb23-173" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z7_dur,</span>
<span id="cb23-174"><a href="#cb23-174" aria-hidden="true" tabindex="-1"></a>    right_hip_leg_foot,</span>
<span id="cb23-175"><a href="#cb23-175" aria-hidden="true" tabindex="-1"></a>    right_hip_leg_foot_m,</span>
<span id="cb23-176"><a href="#cb23-176" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z8_rate,</span>
<span id="cb23-177"><a href="#cb23-177" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z8_dur,</span>
<span id="cb23-178"><a href="#cb23-178" aria-hidden="true" tabindex="-1"></a>    left_hip_leg_foot,</span>
<span id="cb23-179"><a href="#cb23-179" aria-hidden="true" tabindex="-1"></a>    left_hip_leg_foot_m,</span>
<span id="cb23-180"><a href="#cb23-180" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z9_rate,</span>
<span id="cb23-181"><a href="#cb23-181" aria-hidden="true" tabindex="-1"></a>    bpi_mbm_z9_dur</span>
<span id="cb23-182"><a href="#cb23-182" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Calculate number of pain areas for each subject and name it “number_of_pain_areas”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>body_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"head_face_jaw"</span>,</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"neck"</span>,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"chest_or_breast"</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"abd_pelvis_groin"</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"right_shoulder_arm_wrist"</span>,</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"left_shoulder_arm_wrist"</span>,</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"back_buttocks"</span>,</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"right_hip_leg_foot"</span>,</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"left_hip_leg_foot"</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>bpi_body_map <span class="ot">&lt;-</span> bpi_body_map <span class="sc">%&gt;%</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">number_of_pain_areas =</span> <span class="fu">rowSums</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(body_vector)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="new-field-names-1" class="level4" data-number="D.2.2.2">
<h4 data-number="D.2.2.2" class="anchored" data-anchor-id="new-field-names-1"><span class="header-section-number">D.2.2.2</span> New field name(s)</h4>
<p>Add new field names for the michigan body map to the data dictionary</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create new field names</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co"># head face Jaw</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>jawm_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"head_face_jaw_m"</span>,</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"Factor"</span>,</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected the head/face/jaw and has not indicated the duration and intensity of pain for the selected body region|1,Subject has indicated painful region as well as specified the rate and duration|2, if either value ( rate and duration) or none of the values are present for the selected body region or if either value ( rate and duration) is available but the body region is not specified"</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>jaw_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"head_face_jaw"</span>,</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected head/face/jaw |1,Subject has selected head/face/jaw"</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="co"># neck</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>neckm_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"neck_m"</span>,</span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"Factor"</span>,</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected neck and has not indicated the duration and intensity of pain for the selected body region|1,Subject has indicated painful region as well as specified the rate and duration|2, if either value ( rate and duration) or none of the values are present for the selected body region or if either value ( rate and duration) is available but the body region is not specified"</span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>neck_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"neck"</span>,</span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected neck |1,Subject has selected neck"</span></span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a><span class="co"># chest_or_breast</span></span>
<span id="cb25-36"><a href="#cb25-36" aria-hidden="true" tabindex="-1"></a>chest_or_breastm_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-37"><a href="#cb25-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"chest_or_breast_m"</span>,</span>
<span id="cb25-38"><a href="#cb25-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-39"><a href="#cb25-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"Factor"</span>,</span>
<span id="cb25-40"><a href="#cb25-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected chest_or_breast and has not indicated the duration and intensity of pain for the selected body region|1,Subject has indicated painful region as well as specified the rate and duration|2, if either value ( rate and duration) or none of the values are present for the selected body region or if either value ( rate and duration) is available but the body region is not specified"</span></span>
<span id="cb25-41"><a href="#cb25-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-42"><a href="#cb25-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-43"><a href="#cb25-43" aria-hidden="true" tabindex="-1"></a>chest_or_breast_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-44"><a href="#cb25-44" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"chest_or_breast"</span>,</span>
<span id="cb25-45"><a href="#cb25-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-46"><a href="#cb25-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb25-47"><a href="#cb25-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected chest_or_breast |1,Subject has selected chest_or_breast"</span></span>
<span id="cb25-48"><a href="#cb25-48" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-49"><a href="#cb25-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-50"><a href="#cb25-50" aria-hidden="true" tabindex="-1"></a><span class="co"># abd_pelvis_groin</span></span>
<span id="cb25-51"><a href="#cb25-51" aria-hidden="true" tabindex="-1"></a>abd_pelvis_groinm_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-52"><a href="#cb25-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"abd_pelvis_groin_m"</span>,</span>
<span id="cb25-53"><a href="#cb25-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-54"><a href="#cb25-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"Factor"</span>,</span>
<span id="cb25-55"><a href="#cb25-55" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected abd_pelvis_groin and has not indicated the duration and intensity of pain for the selected body region|1,Subject has indicated painful region as well as specified the rate and duration|2, if either value ( rate and duration) or none of the values are present for the selected body region or if either value ( rate and duration) is available but the body region is not specified"</span></span>
<span id="cb25-56"><a href="#cb25-56" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-57"><a href="#cb25-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-58"><a href="#cb25-58" aria-hidden="true" tabindex="-1"></a>abd_pelvis_groin_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-59"><a href="#cb25-59" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"abd_pelvis_groin"</span>,</span>
<span id="cb25-60"><a href="#cb25-60" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-61"><a href="#cb25-61" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb25-62"><a href="#cb25-62" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected abd_pelvis_groin |1,Subject has selected abd_pelvis_groin"</span></span>
<span id="cb25-63"><a href="#cb25-63" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-64"><a href="#cb25-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-65"><a href="#cb25-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-66"><a href="#cb25-66" aria-hidden="true" tabindex="-1"></a><span class="co"># right_shoulder_arm_wrist</span></span>
<span id="cb25-67"><a href="#cb25-67" aria-hidden="true" tabindex="-1"></a>right_shoulder_arm_wristm_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-68"><a href="#cb25-68" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"right_shoulder_arm_wrist_m"</span>,</span>
<span id="cb25-69"><a href="#cb25-69" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-70"><a href="#cb25-70" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"Factor"</span>,</span>
<span id="cb25-71"><a href="#cb25-71" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected right_shoulder_arm_wrist and has not indicated the duration and intensity of pain for the selected body region|1,Subject has indicated painful region as well as specified the rate and duration|2, if either value ( rate and duration) or none of the values are present for the selected body region or if either value ( rate and duration) is available but the body region is not specified"</span></span>
<span id="cb25-72"><a href="#cb25-72" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-73"><a href="#cb25-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-74"><a href="#cb25-74" aria-hidden="true" tabindex="-1"></a>right_shoulder_arm_wrist_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-75"><a href="#cb25-75" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"right_shoulder_arm_wrist"</span>,</span>
<span id="cb25-76"><a href="#cb25-76" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-77"><a href="#cb25-77" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb25-78"><a href="#cb25-78" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected right_shoulder_arm_wrist |1,Subject has selected right_shoulder_arm_wrist"</span></span>
<span id="cb25-79"><a href="#cb25-79" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-80"><a href="#cb25-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-81"><a href="#cb25-81" aria-hidden="true" tabindex="-1"></a><span class="co"># left_shoulder_arm_wrist</span></span>
<span id="cb25-82"><a href="#cb25-82" aria-hidden="true" tabindex="-1"></a>left_shoulder_arm_wristm_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-83"><a href="#cb25-83" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"left_shoulder_arm_wrist_m"</span>,</span>
<span id="cb25-84"><a href="#cb25-84" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-85"><a href="#cb25-85" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"Factor"</span>,</span>
<span id="cb25-86"><a href="#cb25-86" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected left_shoulder_arm_wrist and has not indicated the duration and intensity of pain for the selected body region|1,Subject has indicated painful region as well as specified the rate and duration|2, if either value ( rate and duration) or none of the values are present for the selected body region or if either value ( rate and duration) is available but the body region is not specified"</span></span>
<span id="cb25-87"><a href="#cb25-87" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-88"><a href="#cb25-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-89"><a href="#cb25-89" aria-hidden="true" tabindex="-1"></a>left_shoulder_arm_wrist_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-90"><a href="#cb25-90" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"left_shoulder_arm_wrist"</span>,</span>
<span id="cb25-91"><a href="#cb25-91" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-92"><a href="#cb25-92" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb25-93"><a href="#cb25-93" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected left_shoulder_arm_wrist |1,Subject has selected left_shoulder_arm_wrist"</span></span>
<span id="cb25-94"><a href="#cb25-94" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-95"><a href="#cb25-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-96"><a href="#cb25-96" aria-hidden="true" tabindex="-1"></a><span class="co"># back_buttocks</span></span>
<span id="cb25-97"><a href="#cb25-97" aria-hidden="true" tabindex="-1"></a>back_buttocksm_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-98"><a href="#cb25-98" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"back_buttocks_m"</span>,</span>
<span id="cb25-99"><a href="#cb25-99" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-100"><a href="#cb25-100" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"Factor"</span>,</span>
<span id="cb25-101"><a href="#cb25-101" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected back_buttocks and has not indicated the duration and intensity of pain for the selected body region|1,Subject has indicated painful region as well as specified the rate and duration|2, if either value ( rate and duration) or none of the values are present for the selected body region or if either value ( rate and duration) is available but the body region is not specified"</span></span>
<span id="cb25-102"><a href="#cb25-102" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-103"><a href="#cb25-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-104"><a href="#cb25-104" aria-hidden="true" tabindex="-1"></a>back_buttocks_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-105"><a href="#cb25-105" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"back_buttocks"</span>,</span>
<span id="cb25-106"><a href="#cb25-106" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-107"><a href="#cb25-107" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb25-108"><a href="#cb25-108" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected back_buttocks |1,Subject has selected back_buttocks"</span></span>
<span id="cb25-109"><a href="#cb25-109" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-110"><a href="#cb25-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-111"><a href="#cb25-111" aria-hidden="true" tabindex="-1"></a><span class="co"># right_hip_leg_foot</span></span>
<span id="cb25-112"><a href="#cb25-112" aria-hidden="true" tabindex="-1"></a>right_hip_leg_footm_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-113"><a href="#cb25-113" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"right_hip_leg_foot_m"</span>,</span>
<span id="cb25-114"><a href="#cb25-114" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-115"><a href="#cb25-115" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"Factor"</span>,</span>
<span id="cb25-116"><a href="#cb25-116" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected right_hip_leg_foot and has not indicated the duration and intensity of pain for the selected body region|1,Subject has indicated painful region as well as specified the rate and duration|2, if either value ( rate and duration) or none of the values are present for the selected body region or if either value ( rate and duration) is available but the body region is not specified"</span></span>
<span id="cb25-117"><a href="#cb25-117" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-118"><a href="#cb25-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-119"><a href="#cb25-119" aria-hidden="true" tabindex="-1"></a>right_hip_leg_foot_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-120"><a href="#cb25-120" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"right_hip_leg_foot"</span>,</span>
<span id="cb25-121"><a href="#cb25-121" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-122"><a href="#cb25-122" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb25-123"><a href="#cb25-123" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected right_hip_leg_foot |1,Subject has selected right_hip_leg_foot"</span></span>
<span id="cb25-124"><a href="#cb25-124" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-125"><a href="#cb25-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-126"><a href="#cb25-126" aria-hidden="true" tabindex="-1"></a><span class="co"># left_hip_leg_foot</span></span>
<span id="cb25-127"><a href="#cb25-127" aria-hidden="true" tabindex="-1"></a>left_hip_leg_footm_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-128"><a href="#cb25-128" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"left_hip_leg_foot_m"</span>,</span>
<span id="cb25-129"><a href="#cb25-129" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-130"><a href="#cb25-130" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"Factor"</span>,</span>
<span id="cb25-131"><a href="#cb25-131" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected left_hip_leg_foot and has not indicated the duration and intensity of pain for the selected body region|1,Subject has indicated painful region as well as specified the rate and duration|2, if either value ( rate and duration) or none of the values are present for the selected body region or if either value ( rate and duration) is available but the body region is not specified"</span></span>
<span id="cb25-132"><a href="#cb25-132" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-133"><a href="#cb25-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-134"><a href="#cb25-134" aria-hidden="true" tabindex="-1"></a>left_hip_leg_foot_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-135"><a href="#cb25-135" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"left_hip_leg_foot"</span>,</span>
<span id="cb25-136"><a href="#cb25-136" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-137"><a href="#cb25-137" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb25-138"><a href="#cb25-138" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, Subject has not selected left_hip_leg_foot |1,Subject has selected left_hip_leg_foot"</span></span>
<span id="cb25-139"><a href="#cb25-139" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-140"><a href="#cb25-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-141"><a href="#cb25-141" aria-hidden="true" tabindex="-1"></a><span class="co"># number_of_pain_areas</span></span>
<span id="cb25-142"><a href="#cb25-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-143"><a href="#cb25-143" aria-hidden="true" tabindex="-1"></a>pain_areas_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-144"><a href="#cb25-144" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"number_of_pain_areas"</span>,</span>
<span id="cb25-145"><a href="#cb25-145" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb25-146"><a href="#cb25-146" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb25-147"><a href="#cb25-147" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"Sum of pain areas for each subject"</span></span>
<span id="cb25-148"><a href="#cb25-148" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-149"><a href="#cb25-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-150"><a href="#cb25-150" aria-hidden="true" tabindex="-1"></a><span class="co"># Add new rows</span></span>
<span id="cb25-151"><a href="#cb25-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-152"><a href="#cb25-152" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-153"><a href="#cb25-153" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-154"><a href="#cb25-154" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>jawm_new_row,</span>
<span id="cb25-155"><a href="#cb25-155" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-156"><a href="#cb25-156" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-157"><a href="#cb25-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-158"><a href="#cb25-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-159"><a href="#cb25-159" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-160"><a href="#cb25-160" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-161"><a href="#cb25-161" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>jaw_new_row,</span>
<span id="cb25-162"><a href="#cb25-162" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-163"><a href="#cb25-163" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-164"><a href="#cb25-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-165"><a href="#cb25-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-166"><a href="#cb25-166" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-167"><a href="#cb25-167" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-168"><a href="#cb25-168" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>neckm_new_row,</span>
<span id="cb25-169"><a href="#cb25-169" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-170"><a href="#cb25-170" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-171"><a href="#cb25-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-172"><a href="#cb25-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-173"><a href="#cb25-173" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-174"><a href="#cb25-174" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-175"><a href="#cb25-175" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>neck_new_row,</span>
<span id="cb25-176"><a href="#cb25-176" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-177"><a href="#cb25-177" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-178"><a href="#cb25-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-179"><a href="#cb25-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-180"><a href="#cb25-180" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-181"><a href="#cb25-181" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-182"><a href="#cb25-182" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>chest_or_breastm_new_row,</span>
<span id="cb25-183"><a href="#cb25-183" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-184"><a href="#cb25-184" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-185"><a href="#cb25-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-186"><a href="#cb25-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-187"><a href="#cb25-187" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-188"><a href="#cb25-188" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-189"><a href="#cb25-189" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>chest_or_breast_new_row,</span>
<span id="cb25-190"><a href="#cb25-190" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-191"><a href="#cb25-191" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-192"><a href="#cb25-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-193"><a href="#cb25-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-194"><a href="#cb25-194" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-195"><a href="#cb25-195" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-196"><a href="#cb25-196" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>abd_pelvis_groinm_new_row,</span>
<span id="cb25-197"><a href="#cb25-197" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-198"><a href="#cb25-198" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-199"><a href="#cb25-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-200"><a href="#cb25-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-201"><a href="#cb25-201" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-202"><a href="#cb25-202" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-203"><a href="#cb25-203" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>abd_pelvis_groin_new_row,</span>
<span id="cb25-204"><a href="#cb25-204" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-205"><a href="#cb25-205" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-206"><a href="#cb25-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-207"><a href="#cb25-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-208"><a href="#cb25-208" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-209"><a href="#cb25-209" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-210"><a href="#cb25-210" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>right_shoulder_arm_wristm_new_row,</span>
<span id="cb25-211"><a href="#cb25-211" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-212"><a href="#cb25-212" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-213"><a href="#cb25-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-214"><a href="#cb25-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-215"><a href="#cb25-215" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-216"><a href="#cb25-216" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-217"><a href="#cb25-217" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>right_shoulder_arm_wrist_new_row,</span>
<span id="cb25-218"><a href="#cb25-218" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-219"><a href="#cb25-219" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-220"><a href="#cb25-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-221"><a href="#cb25-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-222"><a href="#cb25-222" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-223"><a href="#cb25-223" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-224"><a href="#cb25-224" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>left_shoulder_arm_wristm_new_row,</span>
<span id="cb25-225"><a href="#cb25-225" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-226"><a href="#cb25-226" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-227"><a href="#cb25-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-228"><a href="#cb25-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-229"><a href="#cb25-229" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-230"><a href="#cb25-230" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-231"><a href="#cb25-231" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>left_shoulder_arm_wrist_new_row,</span>
<span id="cb25-232"><a href="#cb25-232" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-233"><a href="#cb25-233" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-234"><a href="#cb25-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-235"><a href="#cb25-235" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-236"><a href="#cb25-236" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-237"><a href="#cb25-237" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>back_buttocksm_new_row,</span>
<span id="cb25-238"><a href="#cb25-238" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-239"><a href="#cb25-239" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-240"><a href="#cb25-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-241"><a href="#cb25-241" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-242"><a href="#cb25-242" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-243"><a href="#cb25-243" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>back_buttocks_new_row,</span>
<span id="cb25-244"><a href="#cb25-244" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-245"><a href="#cb25-245" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-246"><a href="#cb25-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-247"><a href="#cb25-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-248"><a href="#cb25-248" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-249"><a href="#cb25-249" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-250"><a href="#cb25-250" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>right_hip_leg_footm_new_row,</span>
<span id="cb25-251"><a href="#cb25-251" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-252"><a href="#cb25-252" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-253"><a href="#cb25-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-254"><a href="#cb25-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-255"><a href="#cb25-255" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-256"><a href="#cb25-256" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-257"><a href="#cb25-257" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>right_hip_leg_foot_new_row,</span>
<span id="cb25-258"><a href="#cb25-258" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-259"><a href="#cb25-259" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-260"><a href="#cb25-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-261"><a href="#cb25-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-262"><a href="#cb25-262" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-263"><a href="#cb25-263" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-264"><a href="#cb25-264" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>left_hip_leg_footm_new_row,</span>
<span id="cb25-265"><a href="#cb25-265" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-266"><a href="#cb25-266" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-267"><a href="#cb25-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-268"><a href="#cb25-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-269"><a href="#cb25-269" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-270"><a href="#cb25-270" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-271"><a href="#cb25-271" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>left_hip_leg_foot_new_row,</span>
<span id="cb25-272"><a href="#cb25-272" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-273"><a href="#cb25-273" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-274"><a href="#cb25-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-275"><a href="#cb25-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-276"><a href="#cb25-276" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb25-277"><a href="#cb25-277" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb25-278"><a href="#cb25-278" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>pain_areas_new_row,</span>
<span id="cb25-279"><a href="#cb25-279" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpi_mbm_z9_dur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb25-280"><a href="#cb25-280" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="save" class="level4" data-number="D.2.2.3">
<h4 data-number="D.2.2.3" class="anchored" data-anchor-id="save"><span class="header-section-number">D.2.2.3</span> Save:</h4>
<p>Create a folder for recoded BPI data and save “bpi_bpdy_map” and updated data dictionary as .csv files</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  bpi_body_map,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"reformatted_bpi_body_map.csv"</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>  psy_soc_dict,</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"updated_psy_soc_dictionary.csv"</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="brief-pain-intensity--whole-body-pain" class="level3" data-number="D.2.3">
<h3 data-number="D.2.3" class="anchored" data-anchor-id="brief-pain-intensity--whole-body-pain"><span class="header-section-number">D.2.3</span> Brief pain intensity -whole body pain</h3>
<p>Brief pain intensity -whole body pain assesses other pain intensity (excluding surgical site) in the last 24 hours.</p>
<section id="missing-data-1" class="level4" data-number="D.2.3.1">
<h4 data-number="D.2.3.1" class="anchored" data-anchor-id="missing-data-1"><span class="header-section-number">D.2.3.1</span> Missing Data:</h4>
<p>Missing data pattern in bpi_body_pain</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>bpi_body_pain <span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">miss_var_summary</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 78%">
<col style="width: 9%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">variable</th>
<th style="text-align: right;">n_miss</th>
<th style="text-align: right;">pct_miss</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">bpiworstpainratingexclss</td>
<td style="text-align: right;">44</td>
<td style="text-align: right;">3.29</td>
</tr>
<tr class="even">
<td style="text-align: left;">record_id</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">guid</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">redcap_event_name</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">redcap_data_access_group</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">cohort</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bpisf_the_brief_pain_inventory_v23_short_form_bpi_complete</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>There are 32 observations (4.12%) with no response to the question i.e null values for the field name “bpiworstpainratingexclss”. We will create a variable “body_pain_intensity” and assign a value of 0 if a subject has not responded to the question, assign 1 if a subject has responded to the question</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>bpi_body_pain <span class="ot">&lt;-</span> bpi_body_pain <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">body_pain_intensity =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(bpiworstpainratingexclss), <span class="dv">0</span>, <span class="dv">1</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will now pass the field name “bpi_body_pain” as an argument to the table function to look at the frequencies.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(bpi_body_pain<span class="sc">$</span>body_pain_intensity, <span class="at">exclude =</span> <span class="cn">FALSE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   0    1 
  44 1293 </code></pre>
</div>
</div>
</section>
<section id="new-field-names-2" class="level4" data-number="D.2.3.2">
<h4 data-number="D.2.3.2" class="anchored" data-anchor-id="new-field-names-2"><span class="header-section-number">D.2.3.2</span> New field name(s)</h4>
<p>Add the field name “body_pain_intensity” to the data dictionary</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create field names</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>bp_in_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"body_pain_intensity"</span>,</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"Factor"</span>,</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, No body pain intensity specified |1, body pain intensity specified"</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the new row</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>bp_in_new_row,</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpipainintrfrscore"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="save-1" class="level4" data-number="D.2.3.3">
<h4 data-number="D.2.3.3" class="anchored" data-anchor-id="save-1"><span class="header-section-number">D.2.3.3</span> Save:</h4>
<p>Save “bpi_body_pain” and updated data dictionary as .csv files in the folder named “reformatted_bpi”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  bpi_body_pain,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"reformatted_bpi_body_pain.csv"</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>  psy_soc_dict,</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"updated_psy_soc_dictionary.csv"</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="modified-bpi-surgical-site-pain" class="level3 page-columns page-full" data-number="D.2.4">
<h3 data-number="D.2.4" class="anchored" data-anchor-id="modified-bpi-surgical-site-pain"><span class="header-section-number">D.2.4</span> Modified BPI – surgical site pain:</h3>
<p>Modified BPI – surgical site pain records pain intensity and interference. The primary outcome is the worst pain intensity at the surgical site i.e field name “bpiworstpainratingss” over the past 24 hours,using a scale of 0 to 10. The form also includes the pain interference sub-scale <span class="citation" data-cites="cleeland1995">(<a href="references.html#ref-cleeland1995" role="doc-biblioref"><span>“Cleeland CS Ryan KM. Pain Assessment,”</span> 1995</a>)</span>, which assesses the level of interference in the subject’s daily activities over the past 24 hours <span class="citation" data-cites="berardi_multi_2022">(<a href="references.html#ref-berardi_multi_2022" role="doc-biblioref">Berardi et al., 2022</a>)</span> due to surgical site pain. Pain interference is scored as the mean of seven interference items, in case of missing data, this mean can still be used if there is a response to at least 4 of 7 items (<a href="https://www.mdanderson.org/documents/Departments-and-Divisions/Symptom-Research/BPI_UserGuide.pdf">BPI user guide</a>).</p>
<div class="no-row-height column-margin column-container"><div id="ref-cleeland1995" class="csl-entry" role="listitem">
Cleeland CS Ryan KM. Pain assessment: global use of the Brief Pain Inventory. Ann Acad Med Singapore (1994 Mar) 23(2):129-38. (1995). <em>Rehabilitation Oncology</em>, <em>13</em>(1), 29–30. <a href="https://doi.org/10.1097/01893697-199513010-00022">https://doi.org/10.1097/01893697-199513010-00022</a>
</div><div id="ref-berardi_multi_2022" class="csl-entry" role="listitem">
Berardi, G., Frey-Law, L., Sluka, K. A., Bayman, E. O., Coffey, C. S., Ecklund, D., Vance, C. G. T., Dailey, D. L., Burns, J., Buvanendran, A., McCarthy, R. J., Jacobs, J., Zhou, X. J., Wixson, R., Balach, T., Brummett, C. M., Clauw, D., Colquhoun, D., Harte, S. E., … Wandner, L. D. (2022). Multi-site observational study to assess biomarkers for susceptibility or resilience to chronic pain: The acute to chronic pain signatures (A2CPS) study protocol. <em>Frontiers in Medicine</em>, <em>9</em>. <a href="https://doi.org/10.3389/fmed.2022.849214">https://doi.org/10.3389/fmed.2022.849214</a>
</div></div><section id="missing-data-2" class="level4" data-number="D.2.4.1">
<h4 data-number="D.2.4.1" class="anchored" data-anchor-id="missing-data-2"><span class="header-section-number">D.2.4.1</span> Missing Data:</h4>
<p>Missing data pattern in bpi_pain_intrf if bpiworstpainratingss is not 0</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  bpi_pain_intrf <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(bpiworstpainratingss <span class="sc">!=</span> <span class="dv">0</span>),</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(bpi_pain_intrf),</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We will create a variable “pain_intrf” and assign a value of 1 if worst pain intensity at the surgical site is available and at least 4 of 7 pain interference item are available, 2 if response to worst pain intensity at the surgical site is available and less than or equal to 3 of 7 pain interference items are available, 3 if there is no response to worst pain intensity at the surgical site but at least 4 out 7 pain interference items are available, 4 if there is no response to worst pain intensity at the surgical site and less than or equal to 3 of 7 pain interference items are available.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>bpi_pain_intrf <span class="ot">&lt;-</span> bpi_pain_intrf <span class="sc">%&gt;%</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">intrf_not_na =</span> <span class="fu">rowSums</span>(</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">select</span>(., <span class="st">"bpipainintfrgnrlactvtyscl"</span><span class="sc">:</span><span class="st">"bpipainenjoymntintrfrscl"</span>))</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">pain_intrf =</span> <span class="fu">case_when</span>(</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(bpiworstpainratingss) <span class="sc">&amp;</span> intrf_not_na <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(bpiworstpainratingss) <span class="sc">&amp;</span> intrf_not_na <span class="sc">&lt;=</span> <span class="dv">3</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bpiworstpainratingss) <span class="sc">&amp;</span> intrf_not_na <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bpiworstpainratingss) <span class="sc">&amp;</span> intrf_not_na <span class="sc">&lt;=</span> <span class="dv">3</span> <span class="sc">~</span> <span class="dv">4</span>,</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>intrf_not_na) <span class="sc">%&gt;%</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pain_intrf =</span> <span class="fu">as.factor</span>(pain_intrf))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will create a new field “new_bpipainintrfrscore” with pain interference scores for observations that meet the conditions pain_intrf = 1 or pain_intrf = 3.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>bpi_pain_intrf <span class="ot">&lt;-</span> bpi_pain_intrf <span class="sc">%&gt;%</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">new_bpipainintrfrscore =</span> <span class="fu">case_when</span>(</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>      pain_intrf <span class="sc">==</span> <span class="dv">1</span> <span class="sc">|</span> pain_intrf <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> bpipainintrfrscore</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Compare the distributions for bpipainintrfrscore and new_bpipainintrfrscore</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(bpi_pain_intrf<span class="sc">$</span>new_bpipainintrfrscore)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
 0.0000  0.8571  3.4286  3.5069  5.5714 10.0000      40 </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(bpi_pain_intrf<span class="sc">$</span>bpipainintrfrscore)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
 0.0000  0.8571  3.4286  3.4807  5.5714 10.0000      23 </code></pre>
</div>
</div>
<p>We see that there are more NA values for new_bpipainintrfrscore since this score was calculated for the observation that met the condition of more than or equal to 4 of 7 pain interference responses available.</p>
</section>
<section id="new-field-names-3" class="level4" data-number="D.2.4.2">
<h4 data-number="D.2.4.2" class="anchored" data-anchor-id="new-field-names-3"><span class="header-section-number">D.2.4.2</span> New field name(s)</h4>
<p>Add the field name “pain_intrf” and “new_bpipainintrfrscore” to the data dictionary</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create field names</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>pain_intrf_new_row1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"pain_intrf"</span>,</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"Factor"</span>,</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"1,worst pain intensity at the surgical site and at least 4 of 7 pain interference items are available|2, worst pain intensity at the surgical site and less than or equal to 3 out 7 pain interference items are available| 3, no response to worst pain intensity at the surgical site but at least 4 out 7 pain interference items are available |4, no response to worst pain intensity at the surgical site and less than or equal to 3 out 7 pain interference items are available"</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="co"># new row for new_bpipainintrfrscore</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>pain_intrf_new_row2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"new_bpipainintrfrscore"</span>,</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"bpisf_the_brief_pain_inventory_v23_short_form_bpi"</span>,</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"mean of interference items,if there is a response to at least 4 of 7 items"</span></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Add new rows</span></span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>pain_intrf_new_row1,</span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpipainintrfrscore"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>pain_intrf_new_row2,</span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bpipainintrfrscore"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="save-2" class="level4" data-number="D.2.4.3">
<h4 data-number="D.2.4.3" class="anchored" data-anchor-id="save-2"><span class="header-section-number">D.2.4.3</span> Save:</h4>
<p>Save “bpi_pain_intrf” and updated data dictionary as .csv files in the folder named “reformatted_bpi”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  bpi_pain_intrf,</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"reformatted_bpi_pain_intrf.csv"</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>  psy_soc_dict,</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"updated_psy_soc_dictionary.csv"</span></span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="knee-injury-osteoarthritis-outcome-score-koos-12" class="level3 page-columns page-full" data-number="D.2.5">
<h3 data-number="D.2.5" class="anchored" data-anchor-id="knee-injury-osteoarthritis-outcome-score-koos-12"><span class="header-section-number">D.2.5</span> Knee Injury Osteoarthritis Outcome Score (KOOS-12)</h3>
<p>KOOS-12 is a 12-item scale that contains three sub scales <span class="citation" data-cites="Roos1998">(<a href="references.html#ref-Roos1998" role="doc-biblioref">Roos et al., 1998</a>)</span>:</p>
<div class="no-row-height column-margin column-container"><div id="ref-Roos1998" class="csl-entry" role="listitem">
Roos, E. M., Roos, H. P., Lohmander, L. S., Ekdahl, C., &amp; Beynnon, B. D. (1998). Knee Injury and Osteoarthritis Outcome Score (KOOS)<span></span>Development of a Self-Administered Outcome Measure. <em>Journal of Orthopaedic &amp; Sports Physical Therapy</em>, <em>28</em>(2), 88–96. <a href="https://doi.org/10.2519/jospt.1998.28.2.88">https://doi.org/10.2519/jospt.1998.28.2.88</a>
</div></div><ul>
<li><p>4 KOOS Pain items</p></li>
<li><p>4 KOOS Function (Activities of Daily Living and Sport/Recreation) items</p></li>
<li><p>4 KOOS Quality of Life (QOL) items to assesses knee pain none to extreme).</p></li>
</ul>
<p>There must be a response to at least half of the items in each sub scale to calculate a sub scale score <a href="http://www.koos.nu/">KOOS calculator</a>. These scores are transformed to range from 0 to 100, where 0 represents extreme problems and 100 represents no problems.</p>
<section id="read-in-data-1" class="level4" data-number="D.2.5.1">
<h4 data-number="D.2.5.1" class="anchored" data-anchor-id="read-in-data-1"><span class="header-section-number">D.2.5.1</span> Read in Data:</h4>
<p>Read in psy_soc1 dataframe and select field names from the KOOS-12 data, keeping completed forms will subset to the TKA cohort by default, we will call this koos</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>koos <span class="ot">&lt;-</span> <span class="fu">applyFilter</span>(</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"koos"</span>,</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  knee_injury_osteoarthritis_outcome_score_koos12_complete</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="missing-data-3" class="level4" data-number="D.2.5.2">
<h4 data-number="D.2.5.2" class="anchored" data-anchor-id="missing-data-3"><span class="header-section-number">D.2.5.2</span> Missing Data:</h4>
<p>Missing data pattern in koos.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  koos,</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(koos),</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>If at least half of the items are answered for a given subscale, a subscale score can be calculated as follows <a href="http://www.koos.nu">KOOS calculator</a>:</p>
<p><span class="math display">\[
100-(mean (subscale score) \times 100 / 4)
\]</span></p>
<p>The mean of all three subscale scores is then used to construct an overall KOOS-12 Summary knee impact score. As with sub scale scores, KOOS-12 summary scores range from 0-100, where 0 represents extreme problems and 100 represents no problems. A Summary impact score is not calculated if any of the three scale scores are missing.</p>
<p>Using the above equation, we will create three subscale scores:</p>
<ul>
<li><p>pain_score for 4 KOOS Pain items</p></li>
<li><p>func_score for 4 KOOS Function (Activities of Daily Living and Sport/Recreation) items</p></li>
<li><p>qol_score for 4 KOOS Quality of Life (QOL) items.</p></li>
</ul>
<p>We will also create a summary impact score “pain_summary”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>pain <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"koospainfreqscl"</span>,</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"koospainwalkflatscl"</span>,</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"koospainstairsscl"</span>,</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"koospainsitlyingscl"</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>func <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"koosfuncdiffrisesitscl"</span>,</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"koosfuncdiffstandscl"</span>,</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"koosfuncdiffcarscl"</span>,</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"koosfunctwistpivotscl"</span></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>qol <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"koosqolkneeawarescl"</span>,</span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"koosqollifestylemodscl"</span>,</span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"koosqolconfidencescl"</span>,</span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"koosqolkneedifficultyscl"</span></span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a>all_koos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"new_pain_score"</span>, <span class="st">"new_func_score"</span>, <span class="st">"new_qol_score"</span>)</span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a>koos <span class="ot">&lt;-</span> koos <span class="sc">%&gt;%</span></span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pain_not_na =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(pain))))) <span class="sc">%&gt;%</span></span>
<span id="cb44-27"><a href="#cb44-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">func_not_na =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(func))))) <span class="sc">%&gt;%</span></span>
<span id="cb44-28"><a href="#cb44-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">qol_not_na =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(qol))))) <span class="sc">%&gt;%</span></span>
<span id="cb44-29"><a href="#cb44-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb44-30"><a href="#cb44-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">new_pain_score =</span> <span class="fu">case_when</span>(</span>
<span id="cb44-31"><a href="#cb44-31" aria-hidden="true" tabindex="-1"></a>      pain_not_na <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">~</span></span>
<span id="cb44-32"><a href="#cb44-32" aria-hidden="true" tabindex="-1"></a>        <span class="dv">100</span> <span class="sc">-</span> ((<span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(pain)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">/</span> <span class="dv">4</span>)</span>
<span id="cb44-33"><a href="#cb44-33" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb44-34"><a href="#cb44-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb44-35"><a href="#cb44-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb44-36"><a href="#cb44-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">new_func_score =</span> <span class="fu">case_when</span>(</span>
<span id="cb44-37"><a href="#cb44-37" aria-hidden="true" tabindex="-1"></a>      func_not_na <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">~</span></span>
<span id="cb44-38"><a href="#cb44-38" aria-hidden="true" tabindex="-1"></a>        <span class="dv">100</span> <span class="sc">-</span> ((<span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(func)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">/</span> <span class="dv">4</span>)</span>
<span id="cb44-39"><a href="#cb44-39" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb44-40"><a href="#cb44-40" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb44-41"><a href="#cb44-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb44-42"><a href="#cb44-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">new_qol_score =</span> <span class="fu">case_when</span>(</span>
<span id="cb44-43"><a href="#cb44-43" aria-hidden="true" tabindex="-1"></a>      qol_not_na <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">~</span></span>
<span id="cb44-44"><a href="#cb44-44" aria-hidden="true" tabindex="-1"></a>        <span class="dv">100</span> <span class="sc">-</span> ((<span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(qol)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">/</span> <span class="dv">4</span>)</span>
<span id="cb44-45"><a href="#cb44-45" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb44-46"><a href="#cb44-46" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb44-47"><a href="#cb44-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">new_pain_summary =</span> <span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(all_koos))))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will now check the frequencies of all the scores (new vs.&nbsp;original) after accounting for missing data.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>new_koos <span class="ot">&lt;-</span> koos <span class="sc">%&gt;%</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"new_qol_score"</span>,</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"new_pain_score"</span>,</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"new_func_score"</span>,</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"new_pain_summary"</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>old_koos <span class="ot">&lt;-</span> koos <span class="sc">%&gt;%</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"koospainscoret"</span>,</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"koosfunctionscoret"</span>,</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"koosqolscoret"</span>,</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"koossummaryscore"</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>  ))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Upset plot below shows missing scores in the original dataset</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  old_koos,</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(old_koos),</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Upset plot below shows missing scores for observation that don’t meet the criteria for calculating a scale score i.e.&nbsp;If at least half of the items are answered</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  new_koos,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(new_koos),</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="new-field-names-4" class="level4" data-number="D.2.5.3">
<h4 data-number="D.2.5.3" class="anchored" data-anchor-id="new-field-names-4"><span class="header-section-number">D.2.5.3</span> New field name(s)</h4>
<p>Add the field names “new_qol_score”,“new_pain_score”, “new_func_score” and “new_pain_summary” to the data dictionary</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create New field name(s)s</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>qol_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"new_qol_score"</span>,</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"knee_injury_osteoarthritis_outcome_score_koos12"</span>,</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"0 represents extreme problems and 100 represents no problems"</span>,</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_note =</span> <span class="st">"If at least half of the items are answered for quality of life subscale, a subscale score can be calculated as follows 100-(mean (quality of life subscale) X 100 / 4"</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>func_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"new_func_score"</span>,</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"knee_injury_osteoarthritis_outcome_score_koos12"</span>,</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"0 represents extreme problems and 100 represents no problems"</span>,</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_note =</span> <span class="st">"If at least half of the items are answered for function subscale, a subscale score can be calculated as follows 100-(mean (function subscale) X 100 / 4"</span></span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>pain_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"new_pain_score"</span>,</span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"knee_injury_osteoarthritis_outcome_score_koos12"</span>,</span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"0 represents extreme problems and 100 represents no problems"</span>,</span>
<span id="cb48-23"><a href="#cb48-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_note =</span> <span class="st">"If at least half of the items are answered for pain subscale, a subscale score can be calculated as follows 100-(mean (pain subscale) X 100 / 4"</span></span>
<span id="cb48-24"><a href="#cb48-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-25"><a href="#cb48-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-26"><a href="#cb48-26" aria-hidden="true" tabindex="-1"></a>pain_summary_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb48-27"><a href="#cb48-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"new_pain_summary"</span>,</span>
<span id="cb48-28"><a href="#cb48-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"knee_injury_osteoarthritis_outcome_score_koos12"</span>,</span>
<span id="cb48-29"><a href="#cb48-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb48-30"><a href="#cb48-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"0 represents extreme problems and 100 represents no problems"</span>,</span>
<span id="cb48-31"><a href="#cb48-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_note =</span> <span class="st">"If all three scale scores are available, The mean of all three subscale scores is then used to construct an overall KOOS-12 Summary knee impact score"</span></span>
<span id="cb48-32"><a href="#cb48-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-33"><a href="#cb48-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-34"><a href="#cb48-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-35"><a href="#cb48-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Add new rows</span></span>
<span id="cb48-36"><a href="#cb48-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-37"><a href="#cb48-37" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb48-38"><a href="#cb48-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb48-39"><a href="#cb48-39" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>qol_score_new_row,</span>
<span id="cb48-40"><a href="#cb48-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"koosqolscoret"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb48-41"><a href="#cb48-41" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="co"># new qol score</span></span>
<span id="cb48-42"><a href="#cb48-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb48-43"><a href="#cb48-43" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>func_score_new_row,</span>
<span id="cb48-44"><a href="#cb48-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"koosfunctionscoret"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb48-45"><a href="#cb48-45" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="co"># new func score</span></span>
<span id="cb48-46"><a href="#cb48-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb48-47"><a href="#cb48-47" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>pain_score_new_row,</span>
<span id="cb48-48"><a href="#cb48-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"koospainscoret"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb48-49"><a href="#cb48-49" aria-hidden="true" tabindex="-1"></a>  ) <span class="co"># new pain score</span></span>
<span id="cb48-50"><a href="#cb48-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-51"><a href="#cb48-51" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb48-52"><a href="#cb48-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb48-53"><a href="#cb48-53" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>pain_summary_new_row,</span>
<span id="cb48-54"><a href="#cb48-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"koossummaryscore"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb48-55"><a href="#cb48-55" aria-hidden="true" tabindex="-1"></a>  ) <span class="co"># new summary score</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="save-3" class="level4" data-number="D.2.5.4">
<h4 data-number="D.2.5.4" class="anchored" data-anchor-id="save-3"><span class="header-section-number">D.2.5.4</span> Save:</h4>
<p>Save “koos” and updated data dictionary as .csv files in the folder named “reformatted_koos”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  koos,</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"reformatted_koos.csv"</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  psy_soc_dict,</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"updated_psy_soc_dictionary.csv"</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="generalized-anxiety-disorder-7-item-gad7-scale-score" class="level3 page-columns page-full" data-number="D.2.6">
<h3 data-number="D.2.6" class="anchored" data-anchor-id="generalized-anxiety-disorder-7-item-gad7-scale-score"><span class="header-section-number">D.2.6</span> Generalized Anxiety Disorder 7 Item (GAD7) Scale Score</h3>
<p>The GAD-7 is a 7-item likert scale questionnaire that assesses anxiety levels over the last two weeks. The response to each item is rated on a scale of 0 (“not at all”) to 3 (“nearly every day”). A total score is calculated by adding the scores for all the 7 items and ranges from 0 to 21. A greater total score on the GAD-7 reflects higher anxiety levels <span class="citation" data-cites="spitzer_brief_2006">(<a href="references.html#ref-spitzer_brief_2006" role="doc-biblioref">Spitzer et al., 2006</a>)</span>. At the end of the questionnaire there is an additional question (“gad7difficulttowork”) to evaluate the subject’s perception about the impact of identified problems on their activities such as work, taking care of things at home, or interacting with others.</p>
<div class="no-row-height column-margin column-container"><div id="ref-spitzer_brief_2006" class="csl-entry" role="listitem">
Spitzer, R. L., Kroenke, K., Williams, J. B. W., &amp; Löwe, B. (2006). A Brief Measure for Assessing Generalized Anxiety Disorder. <em>Archives of Internal Medicine</em>, <em>166</em>(10), 1092. <a href="https://doi.org/10.1001/archinte.166.10.1092">https://doi.org/10.1001/archinte.166.10.1092</a>
</div></div><section id="read-in-data-2" class="level4" data-number="D.2.6.1">
<h4 data-number="D.2.6.1" class="anchored" data-anchor-id="read-in-data-2"><span class="header-section-number">D.2.6.1</span> Read in Data:</h4>
<p>Read in psy_soc1 dataframe and select field names from the GAD7 data and keep completed forms, we will call this gad</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>gad <span class="ot">&lt;-</span> <span class="fu">applyFilter</span>(</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad"</span>,</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  generalized_anxiety_disorder_7_item_gad7_scale_sco_complete</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="missing-data-4" class="level4 page-columns page-full" data-number="D.2.6.2">
<h4 data-number="D.2.6.2" class="anchored" data-anchor-id="missing-data-4"><span class="header-section-number">D.2.6.2</span> Missing Data:</h4>
<p>Missing data pattern in gad. We will exclude “gad7difficulttowork” since the response to this field name is conditional on the responses to the rest of the GAD7 items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  gad <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>gad7difficulttowork),</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(gad),</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Handling missing data:</p>
<p>In case of missing values, a total score can still be calculated if responses to 5 of 7 items are available (less than or equal to 29% missing data). The missing responses are first replaced with the average score of the completed items and then a total score is calculated by adding the scores for all the 7 items<span class="citation" data-cites="Arrieta2017">(<a href="references.html#ref-Arrieta2017" role="doc-biblioref">Arrieta et al., 2017</a>)</span>.</p>
<div class="no-row-height column-margin column-container"></div><p>There are two observations with complete data missing, we will remove these observations. We will create a variable “gad_diff” and assign a value of 1 if there is a response to “gad7difficulttowork” and less than or equal to 2 GAD items are missing, 2 if there is a response to “gad7difficulttowork” and more than 2 GAD items are missing, 3 if there is no response to “gad7difficulttowork” and less than or equal to 2 GAD items are missing, 4 if there is no response to “gad7difficulttowork” more than 2 GAD items are missing.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>gad_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad2feelnervscl"</span>,</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad2notstopwryscl"</span>,</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad7wrytoomchscl"</span>,</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad7troubrelxscl"</span>,</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad7rstlessscl"</span>,</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad7easyannoyedscl"</span>,</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad7feelafrdscl"</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>gad <span class="ot">&lt;-</span> gad <span class="sc">%&gt;%</span></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gad_not_na =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(gad_vector))))) <span class="sc">%&gt;%</span></span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">gad_diff =</span> <span class="fu">case_when</span>(</span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(gad7difficulttowork) <span class="sc">&amp;</span> gad_not_na <span class="sc">&gt;=</span> <span class="dv">5</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(gad7difficulttowork) <span class="sc">&amp;</span> gad_not_na <span class="sc">&lt;</span> <span class="dv">5</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(gad7difficulttowork) <span class="sc">&amp;</span> gad_not_na <span class="sc">&gt;=</span> <span class="dv">5</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(gad7difficulttowork) <span class="sc">&amp;</span> gad_not_na <span class="sc">&lt;</span> <span class="dv">5</span> <span class="sc">~</span> <span class="dv">4</span>,</span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb52-23"><a href="#cb52-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gad_diff =</span> <span class="fu">as.factor</span>(gad_diff)) <span class="sc">%&gt;%</span></span>
<span id="cb52-24"><a href="#cb52-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gad_not_na <span class="sc">!=</span> <span class="dv">0</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will now replace missing values with the rounded mean of remaining items if gad_diff = 1 or gad_diff = 3 i.e less than or equal to 2 GAD items are missing</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>gad_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad2feelnervscl"</span>,</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad2notstopwryscl"</span>,</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad7wrytoomchscl"</span>,</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad7troubrelxscl"</span>,</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad7rstlessscl"</span>,</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad7easyannoyedscl"</span>,</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gad7feelafrdscl"</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>gad <span class="ot">&lt;-</span> gad <span class="sc">%&gt;%</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gad_not_na <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_gad =</span> <span class="fu">case_when</span>(</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>      gad_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">|</span> gad_diff <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(gad_vector)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(gad_vector), <span class="sc">~</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(.), mean_gad, .))) <span class="sc">%&gt;%</span></span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_gad_score =</span> <span class="fu">case_when</span>(</span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>      gad_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">|</span> gad_diff <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span></span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(gad_vector)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check missingness pattern after imputation</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  gad <span class="sc">%&gt;%</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>gad7difficulttowork, <span class="sc">-</span>mean_gad, <span class="sc">-</span>imputed_gad_score),</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(gad),</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>check distributions of gad scores before (gad7totscore) and after imputation (imputed_gad_score)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>gad_plot <span class="ot">&lt;-</span> gad <span class="sc">%&gt;%</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">between</span>(gad_not_na, <span class="dv">5</span>, <span class="dv">6</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(guid, gad7totscore, imputed_gad_score) <span class="sc">%&gt;%</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"gad7totscore"</span>, <span class="st">"imputed_gad_score"</span>),</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"score"</span>,</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"score_name"</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gad_plot, <span class="fu">aes</span>(<span class="at">x =</span> score_name, <span class="at">y =</span> score, <span class="at">fill =</span> score_name)) <span class="sc">+</span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">25</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Remove intermediate field names not needed</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>gad <span class="ot">&lt;-</span> gad <span class="sc">%&gt;%</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>gad_not_na, <span class="sc">-</span>mean_gad)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="new-field-names-5" class="level4" data-number="D.2.6.3">
<h4 data-number="D.2.6.3" class="anchored" data-anchor-id="new-field-names-5"><span class="header-section-number">D.2.6.3</span> New field name(s)</h4>
<p>Add the field names “gad_diff” and “imputed_gad_score”to the data dictionary</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create field names</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>gad_diff_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"gad_diff"</span>,</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"generalized_anxiety_disorder_7_item_gad7_scale_sco"</span>,</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"factor"</span>,</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"1, if there is a response to gad7difficulttowork and less than or equal to 2 GAD items are missing|2, if there is a response to gad7difficulttowork and more than 2 GAD items are missing|3,if there is no response to gad7difficulttowork and less than or equal to 2 GAD items are missing|4,if there is no response to gad7difficulttowork more 2 GAD items are missing"</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>gad_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"imputed_gad_score"</span>,</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"generalized_anxiety_disorder_7_item_gad7_scale_sco"</span>,</span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">" A total score ranges from 0 to 21. A greater total score on the GAD-7 reflects higher anxiety levels"</span>,</span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_note =</span> <span class="st">"The missing responses are first replaced with the average score of the completed items and then a total score is calculated by adding the scores for all the 7 items"</span></span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding new rows to the data dictionary</span></span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a><span class="co"># adding gad_diff</span></span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb57-21"><a href="#cb57-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb57-22"><a href="#cb57-22" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>gad_diff_new_row,</span>
<span id="cb57-23"><a href="#cb57-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"gad7difficulttowork"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb57-24"><a href="#cb57-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb57-25"><a href="#cb57-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-26"><a href="#cb57-26" aria-hidden="true" tabindex="-1"></a><span class="co"># imputed gad score score</span></span>
<span id="cb57-27"><a href="#cb57-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-28"><a href="#cb57-28" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb57-29"><a href="#cb57-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb57-30"><a href="#cb57-30" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>gad_score_new_row,</span>
<span id="cb57-31"><a href="#cb57-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"gad7difficulttowork"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb57-32"><a href="#cb57-32" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="save-4" class="level4" data-number="D.2.6.4">
<h4 data-number="D.2.6.4" class="anchored" data-anchor-id="save-4"><span class="header-section-number">D.2.6.4</span> Save:</h4>
<p>Save “gad” and updated data dictionary as .csv files in the folder named “reformatted_gad”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  gad,</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"reformatted_gad.csv"</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>  psy_soc_dict,</span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"updated_psy_soc_dictionary.csv"</span></span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb58-18"><a href="#cb58-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="patient-health-questionnaire-depression-scale-phq-scored" class="level3 page-columns page-full" data-number="D.2.7">
<h3 data-number="D.2.7" class="anchored" data-anchor-id="patient-health-questionnaire-depression-scale-phq-scored"><span class="header-section-number">D.2.7</span> Patient Health Questionnaire Depression Scale (PHQ) Scored</h3>
<p>The PHQ is a 8-item likert scale questionnaire that assesses depression levels over the last two weeks. The response to each item is rated on a scale of 0 (“not at all”) to 3 (“nearly every day”). The total score is calculated by adding the scores for all the 8 items. A score greater than 10 on PHQ indicates major depressive disorder<span class="citation" data-cites="Kroenke2009">(<a href="references.html#ref-Kroenke2009" role="doc-biblioref">Kroenke et al., 2009</a>)</span>.</p>
<div class="no-row-height column-margin column-container"><div id="ref-Kroenke2009" class="csl-entry" role="listitem">
Kroenke, K., Strine, T. W., Spitzer, R. L., Williams, J. B. W., Berry, J. T., &amp; Mokdad, A. H. (2009). The PHQ-8 as a measure of current depression in the general population. <em>Journal of Affective Disorders</em>, <em>114</em>(1-3), 163–173. <a href="https://doi.org/10.1016/j.jad.2008.06.026">https://doi.org/10.1016/j.jad.2008.06.026</a>
</div></div><section id="read-in-data-3" class="level4" data-number="D.2.7.1">
<h4 data-number="D.2.7.1" class="anchored" data-anchor-id="read-in-data-3"><span class="header-section-number">D.2.7.1</span> Read in Data:</h4>
<p>Read in psy_soc1 dataframe and select field names from the PHQ data and keep completed forms, we will call phq</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>phq <span class="ot">&lt;-</span> <span class="fu">applyFilter</span>(</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"phq"</span>,</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  patient_health_questionnaire_depression_scale_phq_complete</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="missing-data-5" class="level4 page-columns page-full" data-number="D.2.7.2">
<h4 data-number="D.2.7.2" class="anchored" data-anchor-id="missing-data-5"><span class="header-section-number">D.2.7.2</span> Missing Data:</h4>
<p>Missing data pattern in phq.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  phq,</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(phq),</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-50-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Handling missing data:</p>
<p>In case of missing values, a total score can still be calculated if responses to 6 of 8 items are available (less than or equal to 29% missing data). The missing responses are first replaced with the average score of the completed items and then a total score is calculated by adding the scores for all the 8 items<span class="citation" data-cites="Arrieta2017">(<a href="references.html#ref-Arrieta2017" role="doc-biblioref">Arrieta et al., 2017</a>)</span>.</p>
<div class="no-row-height column-margin column-container"></div><p>None of the observations have complete data missing. We will create a variable “phq_diff” and assign a value of 1 if there is a response to more than or equal to 6 of 8 PHQ items and 0 if there is a response to less than 6 of 8 PHQ items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>phq_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"phqlitintrstscore"</span>,</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"phqdeprssnscore"</span>,</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"phqsleepimpairscore"</span>,</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"phqtirdlittleenrgyscore"</span>,</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"phqabnrmldietscore"</span>,</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"phqflngfailrscore"</span>,</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"phqconcntrtnimprmntscore"</span>,</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"phqmovmntspchimprmntscore"</span></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>phq <span class="ot">&lt;-</span> phq <span class="sc">%&gt;%</span></span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">phq_not_na =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(phq_vector))))) <span class="sc">%&gt;%</span></span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">phq_diff =</span> <span class="fu">case_when</span>(</span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a>      phq_not_na <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">phq_diff =</span> <span class="fu">as.factor</span>(phq_diff))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will now replace missing values with the rounded mean of remaining items if phq_diff = 1 i.e if less than or equal to 2 PHQ items are missing and calculate the total score by taking a sum of all the items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>phq <span class="ot">&lt;-</span> phq <span class="sc">%&gt;%</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_phq =</span> <span class="fu">case_when</span>(</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>      phq_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(phq_vector)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(phq_vector), <span class="sc">~</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(.), mean_phq, .))) <span class="sc">%&gt;%</span></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_phq_score =</span> <span class="fu">case_when</span>(</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a>      phq_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(phq_vector)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check missingness pattern after imputation</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  phq <span class="sc">%&gt;%</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>mean_phq, <span class="sc">-</span>imputed_phq_score),</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(phq),</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-53-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>check distributions of phq scores before (phqtotalscore) and after imputation (imputed_phq_score)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>phq_plot <span class="ot">&lt;-</span> phq <span class="sc">%&gt;%</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">between</span>(phq_not_na, <span class="dv">6</span>, <span class="dv">8</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(guid, phqtotalscore, imputed_phq_score) <span class="sc">%&gt;%</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"phqtotalscore"</span>, <span class="st">"imputed_phq_score"</span>),</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"score"</span>,</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"score_name"</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(phq_plot, <span class="fu">aes</span>(<span class="at">x =</span> score_name, <span class="at">y =</span> score, <span class="at">fill =</span> score_name)) <span class="sc">+</span></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">25</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Remove intermediate field names not needed</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>phq <span class="ot">&lt;-</span> phq <span class="sc">%&gt;%</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>phq_not_na, <span class="sc">-</span>mean_phq)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="new-field-names-6" class="level4" data-number="D.2.7.3">
<h4 data-number="D.2.7.3" class="anchored" data-anchor-id="new-field-names-6"><span class="header-section-number">D.2.7.3</span> New field name(s)</h4>
<p>Add the field names “phq_diff” and “imputed_phq_score”to the data dictionary</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create field names</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>phq_diff_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"phq_diff"</span>,</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"patient_health_questionnaire_depression_scale_phq"</span>,</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"factor"</span>,</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"1, if there is a response to more than or equal to 6 of 8 PHQ items|0,if there is a response to less than 6 of 8 PHQ items"</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>phq_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"imputed_phq_score"</span>,</span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"patient_health_questionnaire_depression_scale_phq"</span>,</span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"A greater than 10 total score on the PHQ indicates major depressive disorder "</span>,</span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_note =</span> <span class="st">"The missing responses are first replaced with the average score of the completed items and then a total score is calculated by adding the scores for all the 8 items"</span></span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Add new rows</span></span>
<span id="cb66-19"><a href="#cb66-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-20"><a href="#cb66-20" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb66-21"><a href="#cb66-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb66-22"><a href="#cb66-22" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>phq_diff_new_row,</span>
<span id="cb66-23"><a href="#cb66-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"phqtotalscore"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb66-24"><a href="#cb66-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="co"># new summary score</span></span>
<span id="cb66-25"><a href="#cb66-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-26"><a href="#cb66-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-27"><a href="#cb66-27" aria-hidden="true" tabindex="-1"></a><span class="co"># imputed phq score</span></span>
<span id="cb66-28"><a href="#cb66-28" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb66-29"><a href="#cb66-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb66-30"><a href="#cb66-30" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>phq_score_new_row,</span>
<span id="cb66-31"><a href="#cb66-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"phq_diff"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb66-32"><a href="#cb66-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="co"># new summary score</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="save-5" class="level4" data-number="D.2.7.4">
<h4 data-number="D.2.7.4" class="anchored" data-anchor-id="save-5"><span class="header-section-number">D.2.7.4</span> Save:</h4>
<p>Save “phq” and updated data dictionary as .csv files in the folder named “reformatted_phq”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  phq,</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"reformatted_phq.csv"</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>  psy_soc_dict,</span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"updated_psy_soc_dictionary.csv"</span></span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="fear-avoidance-beliefs-questionnaire-v0.3-fabq" class="level3 page-columns page-full" data-number="D.2.8">
<h3 data-number="D.2.8" class="anchored" data-anchor-id="fear-avoidance-beliefs-questionnaire-v0.3-fabq"><span class="header-section-number">D.2.8</span> Fear-Avoidance Beliefs Questionnaire v0.3 (FABQ)</h3>
<p>The FABQ is a 4-item questionnaire that assesses fear avoidance behavior. The response to each item ranges from 0 (completely disagree) to 6 (completely agree) <span class="citation" data-cites="waddell_fear_1993">(<a href="references.html#ref-waddell_fear_1993" role="doc-biblioref">Waddell et al., 1993</a>)</span>. A total score is calculated by adding the scores for all the items and ranges from 0-24. A higher score indicates a higher degree of fear-avoidance belief.</p>
<div class="no-row-height column-margin column-container"><div id="ref-waddell_fear_1993" class="csl-entry" role="listitem">
Waddell, G., Newton, M., Henderson, I., Somerville, D., &amp; Main, C. J. (1993). A Fear-Avoidance Beliefs Questionnaire (FABQ) and the role of fear-avoidance beliefs in chronic low back pain and disability. <em>Pain</em>, <em>52</em>(2), 157–168. <a href="https://doi.org/10.1016/0304-3959(93)90127-b">https://doi.org/10.1016/0304-3959(93)90127-b</a>
</div></div><section id="read-in-data-4" class="level4" data-number="D.2.8.1">
<h4 data-number="D.2.8.1" class="anchored" data-anchor-id="read-in-data-4"><span class="header-section-number">D.2.8.1</span> Read in Data:</h4>
<p>Read in psy_soc1 dataframe and select field names from the FABQ data and keep completed forms, we will call FABQ</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>fabq <span class="ot">&lt;-</span> <span class="fu">applyFilter</span>(</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"fabq"</span>,</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  fearavoidance_beliefs_questionnaire_v03_fabq_complete</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="missing-data-6" class="level4 page-columns page-full" data-number="D.2.8.2">
<h4 data-number="D.2.8.2" class="anchored" data-anchor-id="missing-data-6"><span class="header-section-number">D.2.8.2</span> Missing Data:</h4>
<p>Missing data pattern in fabq.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  fabq,</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(fabq),</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-59-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Handling missing data:</p>
<p>In case of missing values, a total score can be calculated if responses to 3 of 4 items are available (less than or equal to 29% missing data). The missing responses are first replaced with the average score of the completed items and then a total score is calculated by adding the scores for all the 4 items<span class="citation" data-cites="Arrieta2017">(<a href="references.html#ref-Arrieta2017" role="doc-biblioref">Arrieta et al., 2017</a>)</span>.</p>
<div class="no-row-height column-margin column-container"><div id="ref-Arrieta2017" class="csl-entry" role="listitem">
Arrieta, J., Aguerrebere, M., Raviola, G., Flores, H., Elliott, P., Espinosa, A., Reyes, A., Ortiz-Panozo, E., Rodriguez-Gutierrez, E. G., Mukherjee, J., Palazuelos, D., &amp; Franke, M. F. (2017). Validity and Utility of the Patient Health Questionnaire (PHQ)-2 and PHQ-9 for Screening and Diagnosis of Depression in Rural Chiapas, Mexico: A Cross-Sectional Study. <em>Journal of Clinical Psychology</em>, <em>73</em>(9), 1076–1090. <a href="https://doi.org/10.1002/jclp.22390">https://doi.org/10.1002/jclp.22390</a>
</div></div><p>We will create a variable “fabq_diff” and assign a value of 1 if there is a response to more than or equal to 3 of 4 FABQ items and 0 if there is a response to less than 3 of 4 FABQ items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>fabq_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"fabqphysclactvtywrsscl"</span>,</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"fabqphysclactvtybckhrmscl"</span>,</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"fabqphysactvtyshldntdoscl"</span>,</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"fabqphysactvtycnntdoscl"</span></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>fabq <span class="ot">&lt;-</span> fabq <span class="sc">%&gt;%</span></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fabq_not_na =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(fabq_vector))))) <span class="sc">%&gt;%</span></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">fabq_diff =</span> <span class="fu">case_when</span>(</span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>      fabq_not_na <span class="sc">&gt;=</span> <span class="dv">3</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb70-15"><a href="#cb70-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb70-16"><a href="#cb70-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb70-17"><a href="#cb70-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fabq_diff =</span> <span class="fu">as.factor</span>(fabq_diff))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will now replace missing values with the rounded mean of remaining items if fabq_diff = 1 i.e if less than or equal to 1 FABQ item is missing and calculate the total score by taking a sum of all the items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>fabq <span class="ot">&lt;-</span> fabq <span class="sc">%&gt;%</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">raw_fabq_score =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(fabq_vector)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_fabq =</span> <span class="fu">case_when</span>(</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>      fabq_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(fabq_vector)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(fabq_vector), <span class="sc">~</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(.), mean_fabq, .))) <span class="sc">%&gt;%</span></span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_fabq_score =</span> <span class="fu">case_when</span>(</span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a>      fabq_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(fabq_vector)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb71-16"><a href="#cb71-16" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check missingness pattern after imputation</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  fabq,</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(fabq),</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-62-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>check distributions of fabq scores before (raw_fabq_score) and after imputation (imputed_fabq_score)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>fabq_plot <span class="ot">&lt;-</span> fabq <span class="sc">%&gt;%</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">between</span>(fabq_not_na, <span class="dv">3</span>, <span class="dv">4</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(guid, raw_fabq_score, imputed_fabq_score) <span class="sc">%&gt;%</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"raw_fabq_score"</span>, <span class="st">"imputed_fabq_score"</span>),</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"score"</span>,</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"score_name"</span></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(fabq_plot, <span class="fu">aes</span>(<span class="at">x =</span> score_name, <span class="at">y =</span> score, <span class="at">fill =</span> score_name)) <span class="sc">+</span></span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">25</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-63-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Remove intermediate field names not needed</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>fabq <span class="ot">&lt;-</span> fabq <span class="sc">%&gt;%</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>fabq_not_na, <span class="sc">-</span>mean_fabq)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="new-field-names-7" class="level4" data-number="D.2.8.3">
<h4 data-number="D.2.8.3" class="anchored" data-anchor-id="new-field-names-7"><span class="header-section-number">D.2.8.3</span> New field name(s)</h4>
<p>Add the field names “fabq_diff” and “imputed_fabq_score” to the data dictionary</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create field names</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>fabq_diff_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"fabq_diff"</span>,</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"fearavoidance_beliefs_questionnaire_v03_fabq"</span>,</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"factor"</span>,</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"1, if there is a response to more than or equal to 3 of 4 FABQ items|0, if there is a response to less than 3 of 4 FABQ items"</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>fabq_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"imputed_fabq_score"</span>,</span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"fearavoidance_beliefs_questionnaire_v03_fabq"</span>,</span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"A higher score indicates a higher degree of fear-avoidance beliefs"</span>,</span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_note =</span> <span class="st">"The missing responses are first replaced with the average score of the completed items and then a total score is calculated by adding the scores for all 4 items"</span></span>
<span id="cb75-15"><a href="#cb75-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb75-16"><a href="#cb75-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-17"><a href="#cb75-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-18"><a href="#cb75-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding new rows to the data dictionary</span></span>
<span id="cb75-19"><a href="#cb75-19" aria-hidden="true" tabindex="-1"></a><span class="co"># adding fabq_diff</span></span>
<span id="cb75-20"><a href="#cb75-20" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb75-21"><a href="#cb75-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb75-22"><a href="#cb75-22" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>fabq_diff_new_row,</span>
<span id="cb75-23"><a href="#cb75-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"fabqphysclactvtybckhrmscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb75-24"><a href="#cb75-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb75-25"><a href="#cb75-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-26"><a href="#cb75-26" aria-hidden="true" tabindex="-1"></a><span class="co"># imputed fabq score</span></span>
<span id="cb75-27"><a href="#cb75-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-28"><a href="#cb75-28" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb75-29"><a href="#cb75-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb75-30"><a href="#cb75-30" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>fabq_score_new_row,</span>
<span id="cb75-31"><a href="#cb75-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"fabqphysclactvtybckhrmscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb75-32"><a href="#cb75-32" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="save-6" class="level4" data-number="D.2.8.4">
<h4 data-number="D.2.8.4" class="anchored" data-anchor-id="save-6"><span class="header-section-number">D.2.8.4</span> Save:</h4>
<p>Save “fabq” and updated data dictionary as .csv files in the folder named “reformatted_fabq”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  fabq,</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"reformatted_fabq.csv"</span></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>  psy_soc_dict,</span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb76-15"><a href="#cb76-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb76-16"><a href="#cb76-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"updated_psy_soc_dictionary.csv"</span></span>
<span id="cb76-17"><a href="#cb76-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb76-18"><a href="#cb76-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="pain-catastrophizing-scale-pcs6" class="level3 page-columns page-full" data-number="D.2.9">
<h3 data-number="D.2.9" class="anchored" data-anchor-id="pain-catastrophizing-scale-pcs6"><span class="header-section-number">D.2.9</span> Pain Catastrophizing Scale (PCS6)</h3>
<p>The PCS-6 comprises six questions, each item is rated on a scale of 0 to 4, where 0 indicates “not at all” and 4 indicates “all the time.” The questionnaire also measures three sub-scales that evaluate rumination, magnification, and helplessness. A total score is calculated by adding the scores for all the 6 items and ranges from 0-24, the three sub scale scores can be calculated separately as well[<span class="citation" data-cites="Darnall2017a">Darnall et al. (<a href="references.html#ref-Darnall2017a" role="doc-biblioref">2017</a>)</span>]<span class="citation" data-cites="McWilliams2015">(<a href="references.html#ref-McWilliams2015" role="doc-biblioref">McWilliams et al., 2015</a>)</span>. A higher score indicates higher degree catastrophizing.</p>
<div class="no-row-height column-margin column-container"><div id="ref-Darnall2017a" class="csl-entry" role="listitem">
Darnall, B. D., Sturgeon, J. A., Cook, K. F., Taub, C. J., Roy, A., Burns, J. W., Sullivan, M., &amp; Mackey, S. C. (2017). Development and Validation of a Daily Pain Catastrophizing Scale. <em>The Journal of Pain</em>, <em>18</em>(9), 1139–1149. <a href="https://doi.org/10.1016/j.jpain.2017.05.003">https://doi.org/10.1016/j.jpain.2017.05.003</a>
</div><div id="ref-McWilliams2015" class="csl-entry" role="listitem">
McWilliams, L. A., Kowal, J., &amp; Wilson, K. G. (2015). Development and evaluation of short forms of the Pain Catastrophizing Scale and the Pain Self-efficacy Questionnaire. <em>European Journal of Pain</em>, <em>19</em>(9), 1342–1349. <a href="https://doi.org/10.1002/ejp.665">https://doi.org/10.1002/ejp.665</a>
</div></div><section id="read-in-data-5" class="level4" data-number="D.2.9.1">
<h4 data-number="D.2.9.1" class="anchored" data-anchor-id="read-in-data-5"><span class="header-section-number">D.2.9.1</span> Read in Data:</h4>
<p>Read in psy_soc1 dataframe and select field names from the PCS-6 data and keep completed forms, we will call “pcs”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>pcs <span class="ot">&lt;-</span> <span class="fu">applyFilter</span>(<span class="st">"pcq"</span>, pain_catastrophizing_questionnaire_pcs6_complete)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="missing-data-7" class="level4" data-number="D.2.9.2">
<h4 data-number="D.2.9.2" class="anchored" data-anchor-id="missing-data-7"><span class="header-section-number">D.2.9.2</span> Missing Data:</h4>
<p>Missing data pattern in pcs.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  pcs <span class="sc">%&gt;%</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>pcqtotalscoreval),</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(pcs),</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-68-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Handling missing data:</p>
<p>In case of missing values, a total score can still be calculated if responses to 5 of 6 items are available (0.29 x 6 = 1.74). The missing responses are first replaced with the average score of the completed items and then a total score is calculated by adding the scores for all the 6 items(refer to section 1.c).</p>
<p>Two of the the observations have complete data missing, we will remove these observations. We will create a variable “pcs_diff” and assign a value of 1 if there is a response to more than or equal to 5 of 6 PCS items and 0 if there is a response to less than 5 of 6 PCS items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>pcs_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pcqpainawfulovrwhlmscl"</span>,</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pcqfeelcantwithstandscl"</span>,</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pcqafraidpainworsescl"</span>,</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pcqhurtscl"</span>,</span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pcqpainstopscl"</span>,</span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pcqseriousscl"</span></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a>pcs <span class="ot">&lt;-</span> pcs <span class="sc">%&gt;%</span></span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pcs_not_na =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(pcs_vector))))) <span class="sc">%&gt;%</span></span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">pcs_diff =</span> <span class="fu">case_when</span>(</span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a>      pcs_not_na <span class="sc">&gt;=</span> <span class="dv">5</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb79-16"><a href="#cb79-16" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb79-17"><a href="#cb79-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb79-18"><a href="#cb79-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb79-19"><a href="#cb79-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb79-20"><a href="#cb79-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pcs_diff =</span> <span class="fu">as.factor</span>(pcs_diff)) <span class="sc">%&gt;%</span></span>
<span id="cb79-21"><a href="#cb79-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pcs_not_na <span class="sc">!=</span> <span class="dv">0</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will now replace missing values with the rounded mean of remaining items if pcs_diff = 1 i.e if 1 pcs item is missing, and calculate the total score by taking a sum of all the items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>pcs <span class="ot">&lt;-</span> pcs <span class="sc">%&gt;%</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">raw_pcs_score =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(pcs_vector)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_pcs =</span> <span class="fu">case_when</span>(</span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>      pcs_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span></span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(pcs_vector)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(pcs_vector), <span class="sc">~</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(.), mean_pcs, .))) <span class="sc">%&gt;%</span></span>
<span id="cb80-12"><a href="#cb80-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb80-13"><a href="#cb80-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_pcs_score =</span> <span class="fu">case_when</span>(</span>
<span id="cb80-14"><a href="#cb80-14" aria-hidden="true" tabindex="-1"></a>      pcs_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(pcs_vector)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb80-15"><a href="#cb80-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb80-16"><a href="#cb80-16" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check missingness pattern after imputation</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>  pcs <span class="sc">%&gt;%</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>pcqtotalscoreval, <span class="sc">-</span>raw_pcs_score, <span class="sc">-</span>imputed_pcs_score),</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(pcs),</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-71-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>check distributions of PCS scores before (raw_pcs_score) and after imputation (imputed_pcs_score)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>pcs_plot <span class="ot">&lt;-</span> pcs <span class="sc">%&gt;%</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">between</span>(pcs_not_na, <span class="dv">5</span>, <span class="dv">6</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(guid, raw_pcs_score, imputed_pcs_score) <span class="sc">%&gt;%</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"raw_pcs_score"</span>, <span class="st">"imputed_pcs_score"</span>),</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"score"</span>,</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"score_name"</span></span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pcs_plot, <span class="fu">aes</span>(<span class="at">x =</span> score_name, <span class="at">y =</span> score, <span class="at">fill =</span> score_name)) <span class="sc">+</span></span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">25</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-72-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Remove intermediate field names not needed</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>pcs <span class="ot">&lt;-</span> pcs <span class="sc">%&gt;%</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>pcs_not_na, <span class="sc">-</span>mean_pcs, <span class="sc">-</span>raw_pcs_score)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="new-field-names-8" class="level4" data-number="D.2.9.3">
<h4 data-number="D.2.9.3" class="anchored" data-anchor-id="new-field-names-8"><span class="header-section-number">D.2.9.3</span> New field name(s)</h4>
<p>Add the field names “pcs_diff” and “imputed_pcs_score”to the data dictionary</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create field names</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>pcs_diff_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"pcs_diff"</span>,</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"pain_catastrophizing_questionnaire_pcs6"</span>,</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"factor"</span>,</span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"1, if there is a response to more than or equal to 5 of 6 PCS items|0, if there is a response to less than 5 of 6 PCS items"</span></span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a>pcs_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"imputed_pcs_score"</span>,</span>
<span id="cb84-11"><a href="#cb84-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"pain_catastrophizing_questionnaire_pcs6"</span>,</span>
<span id="cb84-12"><a href="#cb84-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb84-13"><a href="#cb84-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"A higher score indicates a higher degree of catastrophizing"</span>,</span>
<span id="cb84-14"><a href="#cb84-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_note =</span> <span class="st">"The missing responses are first replaced with the average score of the completed items and then a total score is calculated by adding the scores for all the items"</span></span>
<span id="cb84-15"><a href="#cb84-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb84-16"><a href="#cb84-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-17"><a href="#cb84-17" aria-hidden="true" tabindex="-1"></a><span class="co"># adding pcs_diff</span></span>
<span id="cb84-18"><a href="#cb84-18" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb84-19"><a href="#cb84-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb84-20"><a href="#cb84-20" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>pcs_diff_new_row,</span>
<span id="cb84-21"><a href="#cb84-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"pcqtotalscoreval"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb84-22"><a href="#cb84-22" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb84-23"><a href="#cb84-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-24"><a href="#cb84-24" aria-hidden="true" tabindex="-1"></a><span class="co"># imputed pcs score</span></span>
<span id="cb84-25"><a href="#cb84-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-26"><a href="#cb84-26" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb84-27"><a href="#cb84-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb84-28"><a href="#cb84-28" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>pcs_score_new_row,</span>
<span id="cb84-29"><a href="#cb84-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"pcqtotalscoreval"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb84-30"><a href="#cb84-30" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="save-7" class="level4" data-number="D.2.9.4">
<h4 data-number="D.2.9.4" class="anchored" data-anchor-id="save-7"><span class="header-section-number">D.2.9.4</span> Save:</h4>
<p>Save “pcs” and updated data dictionary as .csv files in the folder named “reformatted_pcs”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>  pcs,</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"reformatted_pcs.csv"</span></span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true" tabindex="-1"></a>  psy_soc_dict,</span>
<span id="cb85-12"><a href="#cb85-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb85-13"><a href="#cb85-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb85-14"><a href="#cb85-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb85-15"><a href="#cb85-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb85-16"><a href="#cb85-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"updated_psy_soc_dictionary.csv"</span></span>
<span id="cb85-17"><a href="#cb85-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb85-18"><a href="#cb85-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="symptom-severity-index-v1.0-ssi" class="level3 page-columns page-full" data-number="D.2.10">
<h3 data-number="D.2.10" class="anchored" data-anchor-id="symptom-severity-index-v1.0-ssi"><span class="header-section-number">D.2.10</span> Symptom Severity Index v1.0 (SSI)</h3>
<p>The SSI measures the severity of fatigue, cognitive dysfunction, and unrefreshed sleep over the past week using a Likert scale from 0 (no problem) to 3 (severe). If the sum of the scores of fatigue, waking unrefreshed, and cognitive symptoms is more than 0, an additional question (ssi_chronicyn) related to the duration of symptoms is asked. The questionnaire also comprises three additional questions for the history of lower abdomen pain, depression, and headache for at least three months (yes/no). The symptom severity scale (SSS) score is calculated by summing up the scores of fatigue, waking unrefreshed, and cognitive symptoms, which range from 0 to 9, and the sum (0-3) of additional symptoms experienced in the past six months. The final total score can be between 0 and 12.<span class="citation" data-cites="wolfe2016">(<a href="references.html#ref-wolfe2016" role="doc-biblioref">Wolfe et al., 2016</a>)</span>.</p>
<div class="no-row-height column-margin column-container"><div id="ref-wolfe2016" class="csl-entry" role="listitem">
Wolfe, F., Clauw, D. J., Fitzcharles, M.-A., Goldenberg, D. L., Häuser, W., Katz, R. L., Mease, P. J., Russell, A. S., Russell, I. J., &amp; Walitt, B. (2016). 2016 Revisions to the 2010/2011 fibromyalgia diagnostic criteria. <em>Seminars in Arthritis and Rheumatism</em>, <em>46</em>(3), 319–329. <a href="https://doi.org/10.1016/j.semarthrit.2016.08.012">https://doi.org/10.1016/j.semarthrit.2016.08.012</a>
</div></div><section id="read-in-data-6" class="level4" data-number="D.2.10.1">
<h4 data-number="D.2.10.1" class="anchored" data-anchor-id="read-in-data-6"><span class="header-section-number">D.2.10.1</span> Read in Data:</h4>
<p>Read in psy_soc1 dataframe and select field names from the SSI data and keep completed forms, we will call “ssi”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>ssi <span class="ot">&lt;-</span> <span class="fu">applyFilter</span>(<span class="st">"ssi"</span>, symptom_severity_index_v10_ssi_complete)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="missing-data-8" class="level4" data-number="D.2.10.2">
<h4 data-number="D.2.10.2" class="anchored" data-anchor-id="missing-data-8"><span class="header-section-number">D.2.10.2</span> Missing Data:</h4>
<p>Missing data pattern in SSI, we will exclude “ssi_chronicyn” since the response to this field name is conditional on the sum of fatigue, waking unrefreshed, and cognitive symptom scores being more than 0.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  ssi <span class="sc">%&gt;%</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>ssi_chronicyn),</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(ssi),</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-77-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Handling missing data:</p>
<p>Missing values for fatigue, cognitive dysfunction, or unrefreshed sleep cannot be imputed using row wise means since 28% X 3 = 0.87, resulting in the floor value for non integer values being 0. Additionally we will not impute missing values for history of lower abdomen pain, depression, and headache for at least three months (yes/no)(refer section 1.c).</p>
<p>Scoring:</p>
<p>We will calculate:</p>
<ul>
<li><p>A summed score for fatigue, cognitive dysfunction, or unrefreshed sleep if responses to all three items are available, ranging from 0-9, we will name this “ssi_symp_score”</p></li>
<li><p>A summed score for history of lower abdomen pain, depression, and headache for at least three months (yes/no), ranging from 0-3, we will name this “ssi_hist_score”</p></li>
<li><p>Finally we will calculate a total summed score ranging from 0-12 if responses to all items are available, we will name this “ssi_total_score”</p></li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>ssi_symptoms <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ssi_fatigue"</span>, <span class="st">"ssi_cognitive"</span>, <span class="st">"ssi_tired"</span>)</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>ssi_history <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ssi_abdpainyn"</span>, <span class="st">"ssi_depressyn"</span>, <span class="st">"ssi_headacheyn"</span>)</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>ssi_all <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ssi_symp_score"</span>, <span class="st">"ssi_hist_score"</span>)</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>ssi <span class="ot">&lt;-</span> ssi <span class="sc">%&gt;%</span></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">ssi_symp_score =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(ssi_symptoms)), <span class="at">na.rm =</span> <span class="cn">FALSE</span>)</span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">ssi_hist_score =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(ssi_history)), <span class="at">na.rm =</span> <span class="cn">FALSE</span>)</span>
<span id="cb88-11"><a href="#cb88-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb88-12"><a href="#cb88-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ssi_total_score =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(ssi_all)), <span class="at">na.rm =</span> <span class="cn">FALSE</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will now create a field name “ssi_diff”, and assign a value of 0 if both ssi_symp_score and ssi_hist_score are missing, 1 if only ssi_symp_score is available, 2 if only ssi_hist_score is available and 3 if both scores and invariably the total score is available. If the sum of the scores of fatigue, waking unrefreshed, and cognitive symptoms is more than 0, an additional question (ssi_chronicyn) related to the duration of symptoms is asked. We will create a field name “ssi_missing_chronic” and assign a value of 0 if “ssi_symp_score” &gt; 0 and “ssi_chronicyn” is missing, of 1 if “ssi_symp_score” &gt; 0 and “ssi_chronicyn” is not missing, 2 if “ssi_sym_score” = 0 or “ssi_sym_score” is missing and “ssi_chronicyn” is missing.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>ssi <span class="ot">&lt;-</span> ssi <span class="sc">%&gt;%</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">ssi_diff =</span> <span class="fu">case_when</span>(</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(ssi_symp_score) <span class="sc">&amp;</span> <span class="fu">is.na</span>(ssi_hist_score) <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(ssi_symp_score) <span class="sc">&amp;</span> <span class="fu">is.na</span>(ssi_hist_score) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(ssi_symp_score) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(ssi_hist_score) <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">3</span></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">ssi_missing_chronic =</span> <span class="fu">case_when</span>(</span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a>      ssi_symp_score <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(ssi_chronicyn) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb89-13"><a href="#cb89-13" aria-hidden="true" tabindex="-1"></a>      ssi_symp_score <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(ssi_chronicyn) <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb89-14"><a href="#cb89-14" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">2</span></span>
<span id="cb89-15"><a href="#cb89-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb89-16"><a href="#cb89-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb89-17"><a href="#cb89-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ssi_diff =</span> <span class="fu">as.factor</span>(ssi_diff)) <span class="sc">%&gt;%</span></span>
<span id="cb89-18"><a href="#cb89-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ssi_missing_chronic =</span> <span class="fu">as.factor</span>(ssi_missing_chronic))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="new-field-names-9" class="level4" data-number="D.2.10.3">
<h4 data-number="D.2.10.3" class="anchored" data-anchor-id="new-field-names-9"><span class="header-section-number">D.2.10.3</span> New field name(s)</h4>
<p>Add the field names “ssi_symp_score”, “ssi_hist_score”, “ssi_total_score”, “ssi_diff”, and “ssi_missing_chronic” to the data dictionary.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create field names</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>ssi_symp_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"ssi_symp_score"</span>,</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"symptom_severity_index_v10_ssi"</span>,</span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"Total score ranges from 0 to 9"</span>,</span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_note =</span> <span class="st">"Summed score for fatigue, cognitive dysfunction, or unrefreshed sleep if responses to all three items are available"</span></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>ssi_hist_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"ssi_hist_score"</span>,</span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"symptom_severity_index_v10_ssi"</span>,</span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb90-14"><a href="#cb90-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"Total score ranges from 0 to 3"</span>,</span>
<span id="cb90-15"><a href="#cb90-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_note =</span> <span class="st">"Summed score for history of lower abdomen pain, depression, and headache for at least three months (yes/no)"</span></span>
<span id="cb90-16"><a href="#cb90-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb90-17"><a href="#cb90-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-18"><a href="#cb90-18" aria-hidden="true" tabindex="-1"></a>ssi_total_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb90-19"><a href="#cb90-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"ssi_total_score"</span>,</span>
<span id="cb90-20"><a href="#cb90-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"symptom_severity_index_v10_ssi"</span>,</span>
<span id="cb90-21"><a href="#cb90-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb90-22"><a href="#cb90-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"Total score ranges from 0 to 12"</span>,</span>
<span id="cb90-23"><a href="#cb90-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_note =</span> <span class="st">"Summed score of all the items if responses to all items are available"</span></span>
<span id="cb90-24"><a href="#cb90-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb90-25"><a href="#cb90-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-26"><a href="#cb90-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-27"><a href="#cb90-27" aria-hidden="true" tabindex="-1"></a>ssi_diff_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb90-28"><a href="#cb90-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"ssi_diff"</span>,</span>
<span id="cb90-29"><a href="#cb90-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"symptom_severity_index_v10_ssi"</span>,</span>
<span id="cb90-30"><a href="#cb90-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"factor"</span>,</span>
<span id="cb90-31"><a href="#cb90-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, if both ssi_symp_score and ssi_hist_score are missing, 1 if only ssi_symp_score is available|2, if only ssi_hist_score is available | 3, if both scores and invariably the total score is available"</span></span>
<span id="cb90-32"><a href="#cb90-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb90-33"><a href="#cb90-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-34"><a href="#cb90-34" aria-hidden="true" tabindex="-1"></a>ssi_missing_chronic_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb90-35"><a href="#cb90-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"ssi_missing_chronic"</span>,</span>
<span id="cb90-36"><a href="#cb90-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"symptom_severity_index_v10_ssi"</span>,</span>
<span id="cb90-37"><a href="#cb90-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"factor"</span>,</span>
<span id="cb90-38"><a href="#cb90-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0 if ssi_symp_score &gt; 0 and ssi_chronicyn is missing| 1 if ssi_symp_score &gt; 0 and ssi_chronicyn is not missing,2 if ssi_sym_score = 0 or is missing and ssi_chronicyn is missing"</span></span>
<span id="cb90-39"><a href="#cb90-39" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb90-40"><a href="#cb90-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-41"><a href="#cb90-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-42"><a href="#cb90-42" aria-hidden="true" tabindex="-1"></a><span class="co"># adding new rows</span></span>
<span id="cb90-43"><a href="#cb90-43" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb90-44"><a href="#cb90-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb90-45"><a href="#cb90-45" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>ssi_symp_score_new_row,</span>
<span id="cb90-46"><a href="#cb90-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"ssi_headacheyn"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb90-47"><a href="#cb90-47" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb90-48"><a href="#cb90-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-49"><a href="#cb90-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-50"><a href="#cb90-50" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb90-51"><a href="#cb90-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb90-52"><a href="#cb90-52" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>ssi_hist_score_new_row,</span>
<span id="cb90-53"><a href="#cb90-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"ssi_headacheyn"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb90-54"><a href="#cb90-54" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb90-55"><a href="#cb90-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-56"><a href="#cb90-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-57"><a href="#cb90-57" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb90-58"><a href="#cb90-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb90-59"><a href="#cb90-59" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>ssi_total_score_new_row,</span>
<span id="cb90-60"><a href="#cb90-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"ssi_headacheyn"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb90-61"><a href="#cb90-61" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb90-62"><a href="#cb90-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-63"><a href="#cb90-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-64"><a href="#cb90-64" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb90-65"><a href="#cb90-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb90-66"><a href="#cb90-66" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>ssi_diff_new_row,</span>
<span id="cb90-67"><a href="#cb90-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"ssi_headacheyn"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb90-68"><a href="#cb90-68" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb90-69"><a href="#cb90-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-70"><a href="#cb90-70" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb90-71"><a href="#cb90-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb90-72"><a href="#cb90-72" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>ssi_missing_chronic_new_row,</span>
<span id="cb90-73"><a href="#cb90-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"ssi_headacheyn"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb90-74"><a href="#cb90-74" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="save-8" class="level4" data-number="D.2.10.4">
<h4 data-number="D.2.10.4" class="anchored" data-anchor-id="save-8"><span class="header-section-number">D.2.10.4</span> Save:</h4>
<p>Save “ssi” and updated data dictionary as .csv files in the folder named “reformatted_ssi”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  ssi,</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"reformatted_ssi.csv"</span></span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a>  psy_soc_dict,</span>
<span id="cb91-12"><a href="#cb91-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb91-13"><a href="#cb91-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb91-14"><a href="#cb91-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb91-15"><a href="#cb91-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb91-16"><a href="#cb91-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"updated_psy_soc_dictionary.csv"</span></span>
<span id="cb91-17"><a href="#cb91-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb91-18"><a href="#cb91-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="pain-detect-questionnaire-pd-q" class="level3 page-columns page-full" data-number="D.2.11">
<h3 data-number="D.2.11" class="anchored" data-anchor-id="pain-detect-questionnaire-pd-q"><span class="header-section-number">D.2.11</span> Pain Detect Questionnaire (PD-Q)</h3>
<p>The PD-Q consists of seven question to evaluate neuropathic pain, followed by two additional questions that focus on pain patterns to differentiate between neuropathic and nociceptive pain.</p>
<p>Each item in the initial seven questions is rated on a scale of 0 to 5, where 0 indicates “never” and 5 indicates “very strongly.” The total score is calculated by summing up the scores of the initial seven questions, which can range from 0 to 35, plus the sum of additional two questions. The final total score can be between 0 and 38<span class="citation" data-cites="Freynhagen2006">(<a href="references.html#ref-Freynhagen2006" role="doc-biblioref">Freynhagen et al., 2006</a>)</span>.</p>
<div class="no-row-height column-margin column-container"></div><section id="read-in-data-7" class="level4" data-number="D.2.11.1">
<h4 data-number="D.2.11.1" class="anchored" data-anchor-id="read-in-data-7"><span class="header-section-number">D.2.11.1</span> Read in Data:</h4>
<p>Read in psy_soc1 dataframe and select field names from the PD-Q data and keep completed forms, we will call “pdq”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>pdq <span class="ot">&lt;-</span> <span class="fu">applyFilter</span>(<span class="st">"pd"</span>, pain_detect_questionnaire_pdq_complete)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="missing-data-9" class="level4" data-number="D.2.11.2">
<h4 data-number="D.2.11.2" class="anchored" data-anchor-id="missing-data-9"><span class="header-section-number">D.2.11.2</span> Missing Data:</h4>
<p>Missing data pattern in pdq: Subjects with a total score of 0 on the initial 7 questions may not have responses to the questions related to pain patterns. We will account for this when visualizing missing data pattern.</p>
<p>There are rows where the sum of initial seven questions is 0 and there are responses to “pdqpaincourse” and “pdradiateregions”. Create a dataset “pdq_zero” and fill in missing values with “99” for the questions related to pain pattern (“pdqpaincourse” and “pdradiateregions”) if the sum of initial seven questions is 0 and if responses to “pdqpaincourse” and “pdradiateregions” are not available</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>pdq_seven <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pdburnsens"</span>,</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pdtinglsens"</span>,</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pdlttouch"</span>,</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pdsudpanatt"</span>,</span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pdbathwtr"</span>,</span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pdnumb"</span>,</span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pdslightpress"</span></span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a>pdq_zero <span class="ot">&lt;-</span> pdq <span class="sc">%&gt;%</span></span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">pdq_seven_score =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(pdq_seven)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb93-13"><a href="#cb93-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb93-14"><a href="#cb93-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb93-15"><a href="#cb93-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">pdqpaincourse =</span> <span class="fu">case_when</span>(</span>
<span id="cb93-16"><a href="#cb93-16" aria-hidden="true" tabindex="-1"></a>      pdq_seven_score <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(pdqpaincourse) <span class="sc">~</span> <span class="dv">99</span>,</span>
<span id="cb93-17"><a href="#cb93-17" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> pdqpaincourse,</span>
<span id="cb93-18"><a href="#cb93-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb93-19"><a href="#cb93-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb93-20"><a href="#cb93-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb93-21"><a href="#cb93-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">pdradiateregions =</span> <span class="fu">case_when</span>(</span>
<span id="cb93-22"><a href="#cb93-22" aria-hidden="true" tabindex="-1"></a>      pdq_seven_score <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(pdradiateregions) <span class="sc">~</span> <span class="dv">99</span>,</span>
<span id="cb93-23"><a href="#cb93-23" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> pdradiateregions,</span>
<span id="cb93-24"><a href="#cb93-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb93-25"><a href="#cb93-25" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Visualize missing data after accounting for missing responses to pdqpaincourse” and “pdradiateregions” if the sum of total score of the initial 7 items is 0.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>  pdq_zero,</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(pdq_zero),</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-84-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Handling missing data:</p>
<p>Missing values for the initial neuropathic pain related seven question can be imputed if the responses to 5 of 7 items are available (less than or equal to 29% missing data). The missing responses are first replaced with the average score of the completed items and then a total score is calculated by adding the scores for all the seven items. We will not impute missing values “pdqpaincourse” and “pdradiateregions” since these two follow up questions focus on pain patterns to differentiate between neuropathic and nociceptive pain (refer section 1.c).</p>
<p>We will create a variable “pdq_diff” and assign a value of 1 if there is a response to more than or equal to 5 of 7 Pdq items and 0 if there is a response to less than 5 of 7 Pdq items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>pdq_seven <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pdburnsens"</span>,</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pdtinglsens"</span>,</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pdlttouch"</span>,</span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pdsudpanatt"</span>,</span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pdbathwtr"</span>,</span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pdnumb"</span>,</span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pdslightpress"</span></span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a>pdq <span class="ot">&lt;-</span> pdq <span class="sc">%&gt;%</span></span>
<span id="cb95-11"><a href="#cb95-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pdq_not_na =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(.[, pdq_seven]))) <span class="sc">%&gt;%</span></span>
<span id="cb95-12"><a href="#cb95-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb95-13"><a href="#cb95-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">pdq_diff =</span> <span class="fu">case_when</span>(</span>
<span id="cb95-14"><a href="#cb95-14" aria-hidden="true" tabindex="-1"></a>      pdq_not_na <span class="sc">&gt;=</span> <span class="dv">5</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb95-15"><a href="#cb95-15" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb95-16"><a href="#cb95-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb95-17"><a href="#cb95-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb95-18"><a href="#cb95-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb95-19"><a href="#cb95-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pdq_diff =</span> <span class="fu">as.factor</span>(pdq_diff))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will now replace missing values with the rounded mean of remaining items if pdq_diff = 1 and calculate a score by taking a sum of the 7 neuropathic pain related items, we will call this “imputed_pdq_score.”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>pdq <span class="ot">&lt;-</span> pdq <span class="sc">%&gt;%</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">raw_pdq_score =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(pdq_seven)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_pdq =</span> <span class="fu">case_when</span>(</span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>      pdq_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span></span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(pdq_seven)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb96-10"><a href="#cb96-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb96-11"><a href="#cb96-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(pdq_seven), <span class="sc">~</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(.), mean_pdq, .))) <span class="sc">%&gt;%</span></span>
<span id="cb96-12"><a href="#cb96-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb96-13"><a href="#cb96-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_pdq_score =</span> <span class="fu">case_when</span>(</span>
<span id="cb96-14"><a href="#cb96-14" aria-hidden="true" tabindex="-1"></a>      pdq_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(pdq_seven)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb96-15"><a href="#cb96-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb96-16"><a href="#cb96-16" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check missingness pattern after imputation</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>pdq_zero_imputed <span class="ot">&lt;-</span> pdq_zero <span class="sc">%&gt;%</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pdq_not_na =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(.[, pdq_seven]))) <span class="sc">%&gt;%</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">pdq_diff =</span> <span class="fu">case_when</span>(</span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>      pdq_not_na <span class="sc">&gt;=</span> <span class="dv">5</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pdq_diff =</span> <span class="fu">as.factor</span>(pdq_diff)) <span class="sc">%&gt;%</span></span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb97-12"><a href="#cb97-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_pdq =</span> <span class="fu">case_when</span>(</span>
<span id="cb97-13"><a href="#cb97-13" aria-hidden="true" tabindex="-1"></a>      pdq_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span></span>
<span id="cb97-14"><a href="#cb97-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(pdq_seven)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb97-15"><a href="#cb97-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb97-16"><a href="#cb97-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb97-17"><a href="#cb97-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(pdq_seven), <span class="sc">~</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(.), mean_pdq, .))) <span class="sc">%&gt;%</span></span>
<span id="cb97-18"><a href="#cb97-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>pdq_seven_score, <span class="sc">-</span>pdq_diff, <span class="sc">-</span>pdq_not_na, <span class="sc">-</span>mean_pdq)</span>
<span id="cb97-19"><a href="#cb97-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-20"><a href="#cb97-20" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb97-21"><a href="#cb97-21" aria-hidden="true" tabindex="-1"></a>  pdq_zero_imputed,</span>
<span id="cb97-22"><a href="#cb97-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(pdq_zero_imputed),</span>
<span id="cb97-23"><a href="#cb97-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb97-24"><a href="#cb97-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb97-25"><a href="#cb97-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb97-26"><a href="#cb97-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb97-27"><a href="#cb97-27" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-87-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>check distributions of PDQ scores before (raw_pdq_score) and after imputation (imputed_pdq_score)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>pdq_plot <span class="ot">&lt;-</span> pdq <span class="sc">%&gt;%</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">between</span>(pdq_not_na, <span class="dv">5</span>, <span class="dv">7</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(guid, raw_pdq_score, imputed_pdq_score) <span class="sc">%&gt;%</span></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"raw_pdq_score"</span>, <span class="st">"imputed_pdq_score"</span>),</span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"score"</span>,</span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"score_name"</span></span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb98-9"><a href="#cb98-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-10"><a href="#cb98-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pdq_plot, <span class="fu">aes</span>(<span class="at">x =</span> score_name, <span class="at">y =</span> score, <span class="at">fill =</span> score_name)) <span class="sc">+</span></span>
<span id="cb98-11"><a href="#cb98-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">25</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-88-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Remove intermediate field names not needed</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>pdq <span class="ot">&lt;-</span> pdq <span class="sc">%&gt;%</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>pdq_not_na, <span class="sc">-</span>mean_pdq, <span class="sc">-</span>raw_pdq_score)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="scoring" class="level4 page-columns page-full" data-number="D.2.11.3">
<h4 data-number="D.2.11.3" class="anchored" data-anchor-id="scoring"><span class="header-section-number">D.2.11.3</span> Scoring:</h4>
<p><strong>The scoring for pain behavior pattern (</strong>pdqpaincourse) <strong>and the pain radiation (</strong>pdradiateregions) is as follows<span class="citation" data-cites="Freynhagen2006">(<a href="references.html#ref-Freynhagen2006" role="doc-biblioref">Freynhagen et al., 2006</a>)</span>[PainDETECT.pdf](https://www.oregon.gov/oha/HPA/dsi-pmc/PainCareToolbox/PainDETECT.pdf):</p>
<div class="no-row-height column-margin column-container"><div id="ref-Freynhagen2006" class="csl-entry" role="listitem">
Freynhagen, R., Baron, R., Gockel, U., &amp; Tölle, T. R. (2006). pain<span><em>DETECT</em></span>: a new screening questionnaire to identify neuropathic components in patients with back pain. <em>Current Medical Research and Opinion</em>, <em>22</em>(10), 1911–1920. <a href="https://doi.org/10.1185/030079906x132488">https://doi.org/10.1185/030079906x132488</a>
</div></div><p><img src="images/Screen Shot 2023-08-18 at 2.59.07 PM 3-02.png" class="img-fluid"></p>
<ul>
<li><p>First we will recode values for “pdqpaincourse” and “pdradiateregions” according to the above table</p></li>
<li><p>We will then combine “pdqpaincourse”, “pdradiateregions” scores and the “imputed_pdq_score” to get the total score.</p></li>
</ul>
<p>Recode values for “pdqpaincourse” and “pdradiateregions”, we will call these “pdqpaincourse_recoded” and “pdradiateregions_recoded”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>pdq <span class="ot">&lt;-</span> pdq <span class="sc">%&gt;%</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">pdqpaincourse_recoded =</span> <span class="fu">case_when</span>(</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>      pdqpaincourse <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>      pdqpaincourse <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>      pdqpaincourse <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>      pdqpaincourse <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> pdqpaincourse</span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">pdradiateregions_recoded =</span> <span class="fu">case_when</span>(</span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a>      pdradiateregions <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a>      pdradiateregions <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> pdradiateregions</span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Combine “pdqpaincourse_recoded”, “pdradiateregions_recoded” scores and the “imputed_pdq_score” to get the total score if all three scores are available, we will call this “pd_neuro_total_score”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>pd_neuro <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pdqpaincourse_recoded"</span>,</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pdradiateregions_recoded"</span>,</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"imputed_pdq_score"</span></span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>pdq <span class="ot">&lt;-</span> pdq <span class="sc">%&gt;%</span></span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">pd_neuro_total_score =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(pd_neuro)), <span class="at">na.rm =</span> <span class="cn">FALSE</span>)</span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pdqpaincourse_recoded =</span> <span class="fu">as.factor</span>(pdqpaincourse_recoded)) <span class="sc">%&gt;%</span></span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pdradiateregions_recoded =</span> <span class="fu">as.factor</span>(pdradiateregions_recoded))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="new-field-names-10" class="level4" data-number="D.2.11.4">
<h4 data-number="D.2.11.4" class="anchored" data-anchor-id="new-field-names-10"><span class="header-section-number">D.2.11.4</span> New field name(s)</h4>
<p>Add the field names “pdq_diff”,“pdqpaincourse_recoded”,“pdradiateregions_recoded”,“imputed_pdq_score”, and “pd_neuro_total_score” to the data dictionary</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create field names</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>pdq_diff_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"pdq_diff"</span>,</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"pain_detect_questionnaire_pdq"</span>,</span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"factor"</span>,</span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"1, if there is a response to more than or equal to 5 of 7 PDQ neuropathic pain related items| 0, if there is a response to less than 5 of 7 items"</span></span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a>pdq_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb102-10"><a href="#cb102-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"imputed_pdq_score"</span>,</span>
<span id="cb102-11"><a href="#cb102-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"pain_detect_questionnaire_pdq"</span>,</span>
<span id="cb102-12"><a href="#cb102-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb102-13"><a href="#cb102-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"Sum of the 7 neuropathic pain related items by replacing missing values with the rounded mean of remaining items if pdq_diff = 1"</span></span>
<span id="cb102-14"><a href="#cb102-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb102-15"><a href="#cb102-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-16"><a href="#cb102-16" aria-hidden="true" tabindex="-1"></a>pdq_course_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb102-17"><a href="#cb102-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"pdqpaincourse_recoded"</span>,</span>
<span id="cb102-18"><a href="#cb102-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"pain_detect_questionnaire_pdq"</span>,</span>
<span id="cb102-19"><a href="#cb102-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"factor"</span>,</span>
<span id="cb102-20"><a href="#cb102-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0,Persistent pain with slight fluctuations|-1,Persistent pain with pain attacks|1,Pain attacks without pain between them|1,Pain attacks with pain between them"</span></span>
<span id="cb102-21"><a href="#cb102-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb102-22"><a href="#cb102-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-23"><a href="#cb102-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-24"><a href="#cb102-24" aria-hidden="true" tabindex="-1"></a>pdq_radiate_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb102-25"><a href="#cb102-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"pdradiateregions_recoded"</span>,</span>
<span id="cb102-26"><a href="#cb102-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"pain_detect_questionnaire_pdq"</span>,</span>
<span id="cb102-27"><a href="#cb102-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"factor"</span>,</span>
<span id="cb102-28"><a href="#cb102-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0,No Radiating pains|2,Radiating pains"</span></span>
<span id="cb102-29"><a href="#cb102-29" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb102-30"><a href="#cb102-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-31"><a href="#cb102-31" aria-hidden="true" tabindex="-1"></a>pdq_neuro_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb102-32"><a href="#cb102-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"pd_neuro_total_score"</span>,</span>
<span id="cb102-33"><a href="#cb102-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"pain_detect_questionnaire_pdq"</span>,</span>
<span id="cb102-34"><a href="#cb102-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb102-35"><a href="#cb102-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"Sum of pdqpaincourse_recoded,pdradiateregions_recoded and the imputed_pdq_score if all three scores are available"</span></span>
<span id="cb102-36"><a href="#cb102-36" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb102-37"><a href="#cb102-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-38"><a href="#cb102-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-39"><a href="#cb102-39" aria-hidden="true" tabindex="-1"></a><span class="co"># adding rows</span></span>
<span id="cb102-40"><a href="#cb102-40" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb102-41"><a href="#cb102-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb102-42"><a href="#cb102-42" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>pdq_diff_new_row,</span>
<span id="cb102-43"><a href="#cb102-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"pdradiateregions"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb102-44"><a href="#cb102-44" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb102-45"><a href="#cb102-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-46"><a href="#cb102-46" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb102-47"><a href="#cb102-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb102-48"><a href="#cb102-48" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>pdq_score_new_row,</span>
<span id="cb102-49"><a href="#cb102-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"pdradiateregions"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb102-50"><a href="#cb102-50" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb102-51"><a href="#cb102-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-52"><a href="#cb102-52" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb102-53"><a href="#cb102-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb102-54"><a href="#cb102-54" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>pdq_course_new_row,</span>
<span id="cb102-55"><a href="#cb102-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"pdradiateregions"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb102-56"><a href="#cb102-56" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb102-57"><a href="#cb102-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-58"><a href="#cb102-58" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb102-59"><a href="#cb102-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb102-60"><a href="#cb102-60" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>pdq_radiate_new_row,</span>
<span id="cb102-61"><a href="#cb102-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"pdradiateregions"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb102-62"><a href="#cb102-62" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb102-63"><a href="#cb102-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-64"><a href="#cb102-64" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb102-65"><a href="#cb102-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb102-66"><a href="#cb102-66" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>pdq_neuro_score_new_row,</span>
<span id="cb102-67"><a href="#cb102-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"pdradiateregions"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb102-68"><a href="#cb102-68" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="save-9" class="level4" data-number="D.2.11.5">
<h4 data-number="D.2.11.5" class="anchored" data-anchor-id="save-9"><span class="header-section-number">D.2.11.5</span> Save:</h4>
<p>Save “pdq” and updated data dictionary as .csv files in the folder named “reformatted_pdq”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>  pdq,</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"reformatted_pdq.csv"</span></span>
<span id="cb103-8"><a href="#cb103-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb103-9"><a href="#cb103-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb103-10"><a href="#cb103-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb103-11"><a href="#cb103-11" aria-hidden="true" tabindex="-1"></a>  psy_soc_dict,</span>
<span id="cb103-12"><a href="#cb103-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb103-13"><a href="#cb103-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb103-14"><a href="#cb103-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb103-15"><a href="#cb103-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb103-16"><a href="#cb103-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"updated_psy_soc_dictionary.csv"</span></span>
<span id="cb103-17"><a href="#cb103-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb103-18"><a href="#cb103-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="patient-reported-outcomes-measurement-information-system-promis" class="level3 page-columns page-full" data-number="D.2.12">
<h3 data-number="D.2.12" class="anchored" data-anchor-id="patient-reported-outcomes-measurement-information-system-promis"><span class="header-section-number">D.2.12</span> Patient-Reported Outcomes Measurement Information System (PROMIS)</h3>
<p>PROMIS instruments are based on item response theory (IRT), where the responses to a set of items measure a latent trait<span class="citation" data-cites="cella2010">(<a href="references.html#ref-cella2010" role="doc-biblioref">Cella et al., 2010</a>)</span>. PROMIS instruments can be scored accurately using the HealthMeasures Scoring Service found <a href="https://www.assessmentcenter.net/ac_scoringservice">here</a>. The A2PCS uses the following PROMIS instruments:</p>
<div class="no-row-height column-margin column-container"><div id="ref-cella2010" class="csl-entry" role="listitem">
Cella, D., Riley, W., Stone, A., Rothrock, N., Reeve, B., Yount, S., Amtmann, D., Bode, R., Buysse, D., Choi, S., Cook, K., DeVellis, R., DeWalt, D., Fries, J. F., Gershon, R., Hahn, E. A., Lai, J.-S., Pilkonis, P., Revicki, D., … Hays, R. (2010). The Patient-Reported Outcomes Measurement Information System (PROMIS) developed and tested its first wave of adult self-reported health outcome item banks: 2005<span></span>2008. <em>Journal of Clinical Epidemiology</em>, <em>63</em>(11), 1179–1194. <a href="https://doi.org/10.1016/j.jclinepi.2010.04.011">https://doi.org/10.1016/j.jclinepi.2010.04.011</a>
</div></div><table class="caption-top table">
<thead>
<tr class="header">
<th>Form Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>PROMIS SF v1.2 - Physical Function 8b</td>
</tr>
<tr class="even">
<td>PROMIS SF v1.0 - Sleep Disturbance 6a (Sleep I)</td>
</tr>
<tr class="odd">
<td>PROMIS SF v1.0 - Fatigue 7a</td>
</tr>
<tr class="even">
<td>PROMIS SF v2.0 - Emotional Support 6a</td>
</tr>
<tr class="odd">
<td>PROMIS SF v2.0 - Instrumental Support 6a</td>
</tr>
</tbody>
</table>
</section>
<section id="pain-sleep-duration-sleep-ii" class="level3 page-columns page-full" data-number="D.2.13">
<h3 data-number="D.2.13" class="anchored" data-anchor-id="pain-sleep-duration-sleep-ii"><span class="header-section-number">D.2.13</span> Pain-Sleep Duration (Sleep II)</h3>
<p>The Sleep II form measures the average number of hours and minutes of sleep each night during the past month <span class="citation" data-cites="buysse_pittsburgh_1989">(<a href="references.html#ref-buysse_pittsburgh_1989" role="doc-biblioref">Buysse et al., 1989</a>)</span>.</p>
<div class="no-row-height column-margin column-container"><div id="ref-buysse_pittsburgh_1989" class="csl-entry" role="listitem">
Buysse, D. J., Reynolds, C. F., Monk, T. H., Berman, S. R., &amp; Kupfer, D. J. (1989). The Pittsburgh sleep quality index: A new instrument for psychiatric practice and research. <em>Psychiatry Research</em>, <em>28</em>(2), 193–213. <a href="https://doi.org/10.1016/0165-1781(89)90047-4">https://doi.org/10.1016/0165-1781(89)90047-4</a>
</div></div><section id="read-in-data-8" class="level4" data-number="D.2.13.1">
<h4 data-number="D.2.13.1" class="anchored" data-anchor-id="read-in-data-8"><span class="header-section-number">D.2.13.1</span> Read in Data:</h4>
<p>Read in psy_soc1 dataframe and select field names from the Sleep Duration data and keep completed forms, we will call “sleep_dur”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>sleep_dur <span class="ot">&lt;-</span> <span class="fu">applyFilter</span>(<span class="st">"sleep"</span>, painsleep_duration_sleep_ii_complete) <span class="sc">%&gt;%</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">retype</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="outliers" class="level4" data-number="D.2.13.2">
<h4 data-number="D.2.13.2" class="anchored" data-anchor-id="outliers"><span class="header-section-number">D.2.13.2</span> Outliers:</h4>
<p>Missing values for hours and minutes of sleep cannot be imputed. We will check the distribution of hours and minutes of sleep and check for outliers</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(sleep_dur<span class="sc">$</span>sleepnighthourmindurhrs, <span class="at">ylab =</span> <span class="st">"Sleep Hours"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-95-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(sleep_dur<span class="sc">$</span>sleepnighthourmindurmins, <span class="at">ylab =</span> <span class="st">"Sleep Minutes"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-95-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We will create a variable “sleep_outlier_hours” and assign a value of 0 if “sleepnighthourmindurhrs” is missing and “sleepnighthourmindurmins” is available, 1 if “sleepnighthourmindurhrs” is less than or equal to 23 (within range) and 2 if “sleepnighthourmindurhrs” is more than 23, and 4 if both “sleepnighthourmindurhrs” and “sleepnighthourmindurmins” are missing. We will not assign a value for missing “sleepnighthourmindurmins” for this variable since most people report sleep in hours, unless both “sleepnighthourmindurhrs” and “sleepnighthourmindurmins” are missing.</p>
<p>We will also create a variable “sleep_outlier_mins” and assign a value of 1 if “sleepnighthourmindurmins” is less than or equal to 59 (within range) and 2 if “sleepnighthourmindurmins” is more than 59 (out of range), and 3 if “sleepnighthourmindurmins” is missing.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>sleep_dur <span class="ot">&lt;-</span> sleep_dur <span class="sc">%&gt;%</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">sleep_outlier_hours =</span> <span class="fu">case_when</span>(</span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(sleepnighthourmindurhrs) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(sleepnighthourmindurmins) <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>      sleepnighthourmindurhrs <span class="sc">&lt;=</span> <span class="dv">23</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>      sleepnighthourmindurhrs <span class="sc">&gt;</span> <span class="dv">23</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(sleepnighthourmindurhrs) <span class="sc">&amp;</span> <span class="fu">is.na</span>(sleepnighthourmindurmins) <span class="sc">~</span> <span class="dv">4</span></span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb107-10"><a href="#cb107-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sleep_outlier_hours =</span> <span class="fu">as.factor</span>(sleep_outlier_hours))</span>
<span id="cb107-11"><a href="#cb107-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-12"><a href="#cb107-12" aria-hidden="true" tabindex="-1"></a>sleep_dur <span class="ot">&lt;-</span> sleep_dur <span class="sc">%&gt;%</span></span>
<span id="cb107-13"><a href="#cb107-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb107-14"><a href="#cb107-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">sleep_outlier_mins =</span> <span class="fu">case_when</span>(</span>
<span id="cb107-15"><a href="#cb107-15" aria-hidden="true" tabindex="-1"></a>      sleepnighthourmindurmins <span class="sc">&lt;=</span> <span class="dv">59</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb107-16"><a href="#cb107-16" aria-hidden="true" tabindex="-1"></a>      sleepnighthourmindurmins <span class="sc">&gt;</span> <span class="dv">59</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb107-17"><a href="#cb107-17" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">3</span></span>
<span id="cb107-18"><a href="#cb107-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb107-19"><a href="#cb107-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb107-20"><a href="#cb107-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sleep_outlier_mins =</span> <span class="fu">as.factor</span>(sleep_outlier_mins))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="new-field-names-11" class="level4" data-number="D.2.13.3">
<h4 data-number="D.2.13.3" class="anchored" data-anchor-id="new-field-names-11"><span class="header-section-number">D.2.13.3</span> New field name(s)</h4>
<p>Add the field names “sleep_outlier_hours” and “sleep_outlier_mins” to the data dictionary</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create field names</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>sleep_hour_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"sleep_outlier_hours"</span>,</span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"painsleep_duration_sleep_ii"</span>,</span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"factor"</span>,</span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, if sleepnighthourmindurhrs is missing and sleepnighthourmindurmins is available|1 if sleepnighthourmindurhrs is less than or equal to 23 (within range)|2,if sleepnighthourmindurhrs is more than 23 | 4, if both sleepnighthourmindurhrs and sleepnighthourmindurmins are missing"</span></span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-9"><a href="#cb108-9" aria-hidden="true" tabindex="-1"></a>sleep_mins_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb108-10"><a href="#cb108-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"sleep_outlier_mins"</span>,</span>
<span id="cb108-11"><a href="#cb108-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"painsleep_duration_sleep_ii"</span>,</span>
<span id="cb108-12"><a href="#cb108-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"factor"</span>,</span>
<span id="cb108-13"><a href="#cb108-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"1 if sleepnighthourmindurmins is less than or equal to 59 (within range)|2, if sleepnighthourmindurmins is more than 59 (out of range)| 3 if sleepnighthourmindurmins is missing"</span></span>
<span id="cb108-14"><a href="#cb108-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb108-15"><a href="#cb108-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-16"><a href="#cb108-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-17"><a href="#cb108-17" aria-hidden="true" tabindex="-1"></a><span class="co"># adding rows</span></span>
<span id="cb108-18"><a href="#cb108-18" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb108-19"><a href="#cb108-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb108-20"><a href="#cb108-20" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>sleep_hour_new_row,</span>
<span id="cb108-21"><a href="#cb108-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"sleepnighthourmindur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb108-22"><a href="#cb108-22" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb108-23"><a href="#cb108-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-24"><a href="#cb108-24" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb108-25"><a href="#cb108-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb108-26"><a href="#cb108-26" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>sleep_mins_new_row,</span>
<span id="cb108-27"><a href="#cb108-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"sleepnighthourmindur"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb108-28"><a href="#cb108-28" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="save-10" class="level4" data-number="D.2.13.4">
<h4 data-number="D.2.13.4" class="anchored" data-anchor-id="save-10"><span class="header-section-number">D.2.13.4</span> Save:</h4>
<p>Save “sleep_dur” and updated data dictionary as .csv files in the folder named “reformatted_sleep_dur”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>  sleep_dur,</span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"reformatted_sleep_dur.csv"</span></span>
<span id="cb109-8"><a href="#cb109-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb109-9"><a href="#cb109-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb109-10"><a href="#cb109-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb109-11"><a href="#cb109-11" aria-hidden="true" tabindex="-1"></a>  psy_soc_dict,</span>
<span id="cb109-12"><a href="#cb109-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb109-13"><a href="#cb109-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb109-14"><a href="#cb109-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb109-15"><a href="#cb109-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb109-16"><a href="#cb109-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"updated_psy_soc_dictionary.csv"</span></span>
<span id="cb109-17"><a href="#cb109-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb109-18"><a href="#cb109-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="pain-resilience-scale-prs" class="level3 page-columns page-full" data-number="D.2.14">
<h3 data-number="D.2.14" class="anchored" data-anchor-id="pain-resilience-scale-prs"><span class="header-section-number">D.2.14</span> Pain Resilience Scale (PRS)</h3>
<p>PRS is a 14-item scale that measures resilience during intense or prolonged pain<span class="citation" data-cites="Slepian2016">(<a href="references.html#ref-Slepian2016" role="doc-biblioref">Slepian et al., 2016</a>)</span>.</p>
<div class="no-row-height column-margin column-container"></div><p>Each item is rated on a scale of 0 to 4, where 0 indicates “not at all” and 4 indicates “all the time.” The total score is calculated by summing up all 14 items, which can range from 0 to 56. Higher scores indicate greater pain related resilience. PRS also contains two sub scales<span class="citation" data-cites="Slepian2016">(<a href="references.html#ref-Slepian2016" role="doc-biblioref">Slepian et al., 2016</a>)</span></p>
<ul>
<li><p>Behavioral Perseverance = sum of items 1-5</p></li>
<li><p>Cognitive/Affective positivity = sum of items 6-14</p></li>
</ul>
<section id="read-in-data-9" class="level4" data-number="D.2.14.1">
<h4 data-number="D.2.14.1" class="anchored" data-anchor-id="read-in-data-9"><span class="header-section-number">D.2.14.1</span> Read in Data:</h4>
<p>Read in psy_soc1 dataframe and select field names from the PRS forms and keep completed forms, we will call this “prs”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>prs <span class="ot">&lt;-</span> <span class="fu">applyFilter</span>(<span class="st">"prs"</span>, pain_resilience_scale_prs_complete)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="behavioral-perseverance-items-1-5-handling-missing-data-and-scoring" class="level4" data-number="D.2.14.2">
<h4 data-number="D.2.14.2" class="anchored" data-anchor-id="behavioral-perseverance-items-1-5-handling-missing-data-and-scoring"><span class="header-section-number">D.2.14.2</span> Behavioral Perseverance (items 1-5): Handling missing data and scoring</h4>
<p>Missing data pattern in Behavioral Perseverance.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>  prs <span class="sc">%&gt;%</span></span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(</span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a>      prsbackoutscl,</span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a>      prsworkgoalsscl,</span>
<span id="cb111-6"><a href="#cb111-6" aria-hidden="true" tabindex="-1"></a>      prspushthroughscl,</span>
<span id="cb111-7"><a href="#cb111-7" aria-hidden="true" tabindex="-1"></a>      prscontworkscl,</span>
<span id="cb111-8"><a href="#cb111-8" aria-hidden="true" tabindex="-1"></a>      prsstayactivescl</span>
<span id="cb111-9"><a href="#cb111-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb111-10"><a href="#cb111-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(prs),</span>
<span id="cb111-11"><a href="#cb111-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb111-12"><a href="#cb111-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb111-13"><a href="#cb111-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb111-14"><a href="#cb111-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb111-15"><a href="#cb111-15" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-100-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Missing values can be imputed if the responses to 4 of 5 items are available (less than or equal to 29% missing data).</p>
<p>The missing responses are first replaced with the average score of the completed items and then a total score is calculated by adding the scores for all the seven items</p>
<p>We will create a variable “prs_bhv_diff” and assign a value of 1 if there is a response to more than or equal to 4 of 5 behavioral perseverance items and 0 if there is a response to less than 4 of 5 items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>prs_bhv_five <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsbackoutscl"</span>,</span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsworkgoalsscl"</span>,</span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prspushthroughscl"</span>,</span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prscontworkscl"</span>,</span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsstayactivescl"</span></span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb112-8"><a href="#cb112-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-9"><a href="#cb112-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-10"><a href="#cb112-10" aria-hidden="true" tabindex="-1"></a>prs <span class="ot">&lt;-</span> prs <span class="sc">%&gt;%</span></span>
<span id="cb112-11"><a href="#cb112-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prs_bhv_not_na =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(prs_bhv_five))))) <span class="sc">%&gt;%</span></span>
<span id="cb112-12"><a href="#cb112-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb112-13"><a href="#cb112-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">prs_bhv_diff =</span> <span class="fu">case_when</span>(</span>
<span id="cb112-14"><a href="#cb112-14" aria-hidden="true" tabindex="-1"></a>      prs_bhv_not_na <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb112-15"><a href="#cb112-15" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb112-16"><a href="#cb112-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb112-17"><a href="#cb112-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb112-18"><a href="#cb112-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb112-19"><a href="#cb112-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prs_bhv_diff =</span> <span class="fu">as.factor</span>(prs_bhv_diff))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will now replace missing values with the rounded mean of remaining items if prs_bhv_diff = 1 and calculate a behavioral perseverance score by taking a sum of 5 associated item, we will call this “imputed_bhv_score.”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>prs <span class="ot">&lt;-</span> prs <span class="sc">%&gt;%</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">raw_bhv_score =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(prs_bhv_five)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_bhv_prs =</span> <span class="fu">case_when</span>(</span>
<span id="cb113-7"><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a>      prs_bhv_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span></span>
<span id="cb113-8"><a href="#cb113-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(prs_bhv_five)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb113-9"><a href="#cb113-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb113-10"><a href="#cb113-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb113-11"><a href="#cb113-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(prs_bhv_five), <span class="sc">~</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(.), mean_bhv_prs, .))) <span class="sc">%&gt;%</span></span>
<span id="cb113-12"><a href="#cb113-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb113-13"><a href="#cb113-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_bhv_score =</span> <span class="fu">case_when</span>(</span>
<span id="cb113-14"><a href="#cb113-14" aria-hidden="true" tabindex="-1"></a>      prs_bhv_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(prs_bhv_five)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb113-15"><a href="#cb113-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb113-16"><a href="#cb113-16" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check missingness pattern after imputation</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>  prs <span class="sc">%&gt;%</span></span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(</span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a>      prsbackoutscl,</span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a>      prsworkgoalsscl,</span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a>      prspushthroughscl,</span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a>      prscontworkscl,</span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a>      prsstayactivescl</span>
<span id="cb114-9"><a href="#cb114-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb114-10"><a href="#cb114-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(prs),</span>
<span id="cb114-11"><a href="#cb114-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb114-12"><a href="#cb114-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb114-13"><a href="#cb114-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb114-14"><a href="#cb114-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb114-15"><a href="#cb114-15" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-103-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>check distributions of behavioral perseverance scores before (raw_bhv_score) and after imputation (imputed_bhv_score)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>prs_bhv_plot <span class="ot">&lt;-</span> prs <span class="sc">%&gt;%</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">between</span>(prs_bhv_not_na, <span class="dv">4</span>, <span class="dv">5</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(guid, raw_bhv_score, imputed_bhv_score) <span class="sc">%&gt;%</span></span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"raw_bhv_score"</span>, <span class="st">"imputed_bhv_score"</span>),</span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"score"</span>,</span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"score_name"</span></span>
<span id="cb115-8"><a href="#cb115-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb115-9"><a href="#cb115-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-10"><a href="#cb115-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(prs_bhv_plot, <span class="fu">aes</span>(<span class="at">x =</span> score_name, <span class="at">y =</span> score, <span class="at">fill =</span> score_name)) <span class="sc">+</span></span>
<span id="cb115-11"><a href="#cb115-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">25</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-104-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Remove intermediate field names not needed</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>prs <span class="ot">&lt;-</span> prs <span class="sc">%&gt;%</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>prs_bhv_not_na, <span class="sc">-</span>mean_bhv_prs, <span class="sc">-</span>raw_bhv_score)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="cognitiveaffective-positivity-handling-missing-data-and-scoring" class="level4" data-number="D.2.14.3">
<h4 data-number="D.2.14.3" class="anchored" data-anchor-id="cognitiveaffective-positivity-handling-missing-data-and-scoring"><span class="header-section-number">D.2.14.3</span> Cognitive/Affective positivity: Handling missing data and scoring</h4>
<p>Missing Data Pattern</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>  prs <span class="sc">%&gt;%</span></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(</span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>      prsfocuspositivescl,</span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a>      prsposattitudescl,</span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a>      prsnotaffecthappyscl,</span>
<span id="cb117-7"><a href="#cb117-7" aria-hidden="true" tabindex="-1"></a>      prsfindjoyscl,</span>
<span id="cb117-8"><a href="#cb117-8" aria-hidden="true" tabindex="-1"></a>      prshopefulscl,</span>
<span id="cb117-9"><a href="#cb117-9" aria-hidden="true" tabindex="-1"></a>      prsnotgetdownscl,</span>
<span id="cb117-10"><a href="#cb117-10" aria-hidden="true" tabindex="-1"></a>      prsnotupsetscl,</span>
<span id="cb117-11"><a href="#cb117-11" aria-hidden="true" tabindex="-1"></a>      prsavoidnegativescl,</span>
<span id="cb117-12"><a href="#cb117-12" aria-hidden="true" tabindex="-1"></a>      prsstayrelaxscl</span>
<span id="cb117-13"><a href="#cb117-13" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb117-14"><a href="#cb117-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(prs),</span>
<span id="cb117-15"><a href="#cb117-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb117-16"><a href="#cb117-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb117-17"><a href="#cb117-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb117-18"><a href="#cb117-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb117-19"><a href="#cb117-19" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-106-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Missing values can be imputed if the responses to 7 of 9 items are available (less than or equal to 29% missing data).</p>
<p>The missing responses are first replaced with the average score of the completed items and then a total score is calculated by adding the scores for all the seven items</p>
<p>We will create a variable “prs_cog_diff” and assign a value of 1 if there is a response to more than or equal to 7 of 9 Cognitive/Affective positivity items and 0 if there is a response to less than 7 of 9 items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>prs_cog_nine <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsfocuspositivescl"</span>,</span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsposattitudescl"</span>,</span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsnotaffecthappyscl"</span>,</span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsfindjoyscl"</span>,</span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prshopefulscl"</span>,</span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsnotgetdownscl"</span>,</span>
<span id="cb118-8"><a href="#cb118-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsnotupsetscl"</span>,</span>
<span id="cb118-9"><a href="#cb118-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsavoidnegativescl"</span>,</span>
<span id="cb118-10"><a href="#cb118-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsstayrelaxscl"</span></span>
<span id="cb118-11"><a href="#cb118-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb118-12"><a href="#cb118-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-13"><a href="#cb118-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-14"><a href="#cb118-14" aria-hidden="true" tabindex="-1"></a>prs <span class="ot">&lt;-</span> prs <span class="sc">%&gt;%</span></span>
<span id="cb118-15"><a href="#cb118-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prs_cog_not_na =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(.[, prs_cog_nine]))) <span class="sc">%&gt;%</span></span>
<span id="cb118-16"><a href="#cb118-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb118-17"><a href="#cb118-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">prs_cog_diff =</span> <span class="fu">case_when</span>(</span>
<span id="cb118-18"><a href="#cb118-18" aria-hidden="true" tabindex="-1"></a>      prs_cog_not_na <span class="sc">&gt;=</span> <span class="dv">7</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb118-19"><a href="#cb118-19" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb118-20"><a href="#cb118-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb118-21"><a href="#cb118-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb118-22"><a href="#cb118-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb118-23"><a href="#cb118-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prs_cog_diff =</span> <span class="fu">as.factor</span>(prs_cog_diff))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will now replace missing values with the rounded mean of remaining items if prs_cog_diff = 1 and calculate a Cognitive/Affective positivity score by taking a sum of 9 associated item, we will call this “imputed_prs_cog_score.”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>prs <span class="ot">&lt;-</span> prs <span class="sc">%&gt;%</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">raw_prs_cog_score =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(prs_cog_nine)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_cog_prs =</span> <span class="fu">case_when</span>(</span>
<span id="cb119-7"><a href="#cb119-7" aria-hidden="true" tabindex="-1"></a>      prs_cog_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span></span>
<span id="cb119-8"><a href="#cb119-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(prs_cog_nine)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb119-9"><a href="#cb119-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb119-10"><a href="#cb119-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb119-11"><a href="#cb119-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(prs_cog_nine), <span class="sc">~</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(.), mean_cog_prs, .))) <span class="sc">%&gt;%</span></span>
<span id="cb119-12"><a href="#cb119-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb119-13"><a href="#cb119-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_prs_cog_score =</span> <span class="fu">case_when</span>(</span>
<span id="cb119-14"><a href="#cb119-14" aria-hidden="true" tabindex="-1"></a>      prs_cog_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(prs_cog_nine)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb119-15"><a href="#cb119-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb119-16"><a href="#cb119-16" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check missingness pattern after imputation</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>  prs <span class="sc">%&gt;%</span></span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>      prsfocuspositivescl,</span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>      prsposattitudescl,</span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a>      prsnotaffecthappyscl,</span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a>      prsfindjoyscl,</span>
<span id="cb120-8"><a href="#cb120-8" aria-hidden="true" tabindex="-1"></a>      prshopefulscl,</span>
<span id="cb120-9"><a href="#cb120-9" aria-hidden="true" tabindex="-1"></a>      prsnotgetdownscl,</span>
<span id="cb120-10"><a href="#cb120-10" aria-hidden="true" tabindex="-1"></a>      prsnotupsetscl,</span>
<span id="cb120-11"><a href="#cb120-11" aria-hidden="true" tabindex="-1"></a>      prsavoidnegativescl,</span>
<span id="cb120-12"><a href="#cb120-12" aria-hidden="true" tabindex="-1"></a>      prsstayrelaxscl</span>
<span id="cb120-13"><a href="#cb120-13" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb120-14"><a href="#cb120-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(prs),</span>
<span id="cb120-15"><a href="#cb120-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb120-16"><a href="#cb120-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb120-17"><a href="#cb120-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb120-18"><a href="#cb120-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb120-19"><a href="#cb120-19" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-109-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Check distributions Cognitive/Affective positivity scores before (raw_prs_cog_score) and after imputation (imputed_prs_cog_score)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>prs_cog_plot <span class="ot">&lt;-</span> prs <span class="sc">%&gt;%</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">between</span>(prs_cog_not_na, <span class="dv">7</span>, <span class="dv">9</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(guid, raw_prs_cog_score, imputed_prs_cog_score) <span class="sc">%&gt;%</span></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"raw_prs_cog_score"</span>, <span class="st">"imputed_prs_cog_score"</span>),</span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"score"</span>,</span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"score_name"</span></span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-10"><a href="#cb121-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(prs_cog_plot, <span class="fu">aes</span>(<span class="at">x =</span> score_name, <span class="at">y =</span> score, <span class="at">fill =</span> score_name)) <span class="sc">+</span></span>
<span id="cb121-11"><a href="#cb121-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">25</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-110-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Remove intermediate field names not needed</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>prs <span class="ot">&lt;-</span> prs <span class="sc">%&gt;%</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>prs_cog_not_na, <span class="sc">-</span>mean_cog_prs, <span class="sc">-</span>raw_prs_cog_score)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="total-prs-score-handling-missing-data-and-scoring" class="level4 page-columns page-full" data-number="D.2.14.4">
<h4 data-number="D.2.14.4" class="anchored" data-anchor-id="total-prs-score-handling-missing-data-and-scoring"><span class="header-section-number">D.2.14.4</span> Total PRS Score: Handling missing data and scoring</h4>
<p>Missing data pattern in prs.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>  prs <span class="sc">%&gt;%</span></span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(</span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a>      prsbackoutscl,</span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a>      prsworkgoalsscl,</span>
<span id="cb123-6"><a href="#cb123-6" aria-hidden="true" tabindex="-1"></a>      prspushthroughscl,</span>
<span id="cb123-7"><a href="#cb123-7" aria-hidden="true" tabindex="-1"></a>      prscontworkscl,</span>
<span id="cb123-8"><a href="#cb123-8" aria-hidden="true" tabindex="-1"></a>      prsstayactivescl,</span>
<span id="cb123-9"><a href="#cb123-9" aria-hidden="true" tabindex="-1"></a>      prsfocuspositivescl,</span>
<span id="cb123-10"><a href="#cb123-10" aria-hidden="true" tabindex="-1"></a>      prsposattitudescl,</span>
<span id="cb123-11"><a href="#cb123-11" aria-hidden="true" tabindex="-1"></a>      prsnotaffecthappyscl,</span>
<span id="cb123-12"><a href="#cb123-12" aria-hidden="true" tabindex="-1"></a>      prsfindjoyscl,</span>
<span id="cb123-13"><a href="#cb123-13" aria-hidden="true" tabindex="-1"></a>      prshopefulscl,</span>
<span id="cb123-14"><a href="#cb123-14" aria-hidden="true" tabindex="-1"></a>      prsnotgetdownscl,</span>
<span id="cb123-15"><a href="#cb123-15" aria-hidden="true" tabindex="-1"></a>      prsnotupsetscl,</span>
<span id="cb123-16"><a href="#cb123-16" aria-hidden="true" tabindex="-1"></a>      prsavoidnegativescl,</span>
<span id="cb123-17"><a href="#cb123-17" aria-hidden="true" tabindex="-1"></a>      prsstayrelaxscl</span>
<span id="cb123-18"><a href="#cb123-18" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb123-19"><a href="#cb123-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(prs),</span>
<span id="cb123-20"><a href="#cb123-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb123-21"><a href="#cb123-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb123-22"><a href="#cb123-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb123-23"><a href="#cb123-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb123-24"><a href="#cb123-24" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-112-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Handling missing data for total PRS score:</p>
<p>Missing values can be imputed if the responses to 10 of 14 items are available (less than or equal to 29% missing data).</p>
<p>Since the correlation between Behavioral Perseverance and Cognitive/Affective positivity is 0.76<span class="citation" data-cites="Slepian2016">(<a href="references.html#ref-Slepian2016" role="doc-biblioref">Slepian et al., 2016</a>)</span> average score of the completed items can be used to impute missing values.</p>
<div class="no-row-height column-margin column-container"><div id="ref-Slepian2016" class="csl-entry" role="listitem">
Slepian, P. M., Ankawi, B., Himawan, L. K., &amp; France, C. R. (2016). Development and Initial Validation of the Pain Resilience Scale. <em>The Journal of Pain</em>, <em>17</em>(4), 462–472. <a href="https://doi.org/10.1016/j.jpain.2015.12.010">https://doi.org/10.1016/j.jpain.2015.12.010</a>
</div></div><p><img src="images/Screen Shot 2023-08-22 at 11.57.31 AM 3-01.png" class="img-fluid"></p>
<p>The missing responses are first replaced with the average score of the completed items and then a total score is calculated by adding the scores for all the seven items</p>
<p>We will create a variable “prs_diff” and assign a value of 1 if there is a response to more than or equal to 10 of 14 PRS items and 0 if there is a response to less than 10 of 14 PRS items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>prs_fourteen <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsbackoutscl"</span>,</span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsworkgoalsscl"</span>,</span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prspushthroughscl"</span>,</span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prscontworkscl"</span>,</span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsstayactivescl"</span>,</span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsfocuspositivescl"</span>,</span>
<span id="cb124-8"><a href="#cb124-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsposattitudescl"</span>,</span>
<span id="cb124-9"><a href="#cb124-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsnotaffecthappyscl"</span>,</span>
<span id="cb124-10"><a href="#cb124-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsfindjoyscl"</span>,</span>
<span id="cb124-11"><a href="#cb124-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prshopefulscl"</span>,</span>
<span id="cb124-12"><a href="#cb124-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsnotgetdownscl"</span>,</span>
<span id="cb124-13"><a href="#cb124-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsnotupsetscl"</span>,</span>
<span id="cb124-14"><a href="#cb124-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsavoidnegativescl"</span>,</span>
<span id="cb124-15"><a href="#cb124-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"prsstayrelaxscl"</span></span>
<span id="cb124-16"><a href="#cb124-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb124-17"><a href="#cb124-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-18"><a href="#cb124-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-19"><a href="#cb124-19" aria-hidden="true" tabindex="-1"></a>prs <span class="ot">&lt;-</span> prs <span class="sc">%&gt;%</span></span>
<span id="cb124-20"><a href="#cb124-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prs_not_na =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(.[, prs_fourteen]))) <span class="sc">%&gt;%</span></span>
<span id="cb124-21"><a href="#cb124-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb124-22"><a href="#cb124-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">prs_diff =</span> <span class="fu">case_when</span>(</span>
<span id="cb124-23"><a href="#cb124-23" aria-hidden="true" tabindex="-1"></a>      prs_not_na <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb124-24"><a href="#cb124-24" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb124-25"><a href="#cb124-25" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb124-26"><a href="#cb124-26" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb124-27"><a href="#cb124-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb124-28"><a href="#cb124-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prs_diff =</span> <span class="fu">as.factor</span>(prs_diff))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will now replace missing values with the rounded mean of remaining items if prs_diff = 1 and calculate a total score by taking a sum of all fourteen items, we will call this “imputed_prs_score.”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>prs <span class="ot">&lt;-</span> prs <span class="sc">%&gt;%</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">raw_prs_score =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(prs_fourteen)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb125-5"><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_prs =</span> <span class="fu">case_when</span>(</span>
<span id="cb125-7"><a href="#cb125-7" aria-hidden="true" tabindex="-1"></a>      prs_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span></span>
<span id="cb125-8"><a href="#cb125-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(prs_fourteen)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb125-9"><a href="#cb125-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb125-10"><a href="#cb125-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb125-11"><a href="#cb125-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(prs_fourteen), <span class="sc">~</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(.), mean_prs, .))) <span class="sc">%&gt;%</span></span>
<span id="cb125-12"><a href="#cb125-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb125-13"><a href="#cb125-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_prs_score =</span> <span class="fu">case_when</span>(</span>
<span id="cb125-14"><a href="#cb125-14" aria-hidden="true" tabindex="-1"></a>      prs_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(prs_fourteen)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb125-15"><a href="#cb125-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb125-16"><a href="#cb125-16" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check missingness pattern after imputation</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>  prs <span class="sc">%&gt;%</span></span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(</span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a>      <span class="sc">-</span><span class="fu">ends_with</span>(<span class="st">"score"</span>),</span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a>      <span class="sc">-</span>mean_prs,</span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a>      prs_not_na,</span>
<span id="cb126-7"><a href="#cb126-7" aria-hidden="true" tabindex="-1"></a>      <span class="sc">-</span>prs_diff,</span>
<span id="cb126-8"><a href="#cb126-8" aria-hidden="true" tabindex="-1"></a>      <span class="sc">-</span>pain_resilience_scale_prs_complete</span>
<span id="cb126-9"><a href="#cb126-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb126-10"><a href="#cb126-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(prs),</span>
<span id="cb126-11"><a href="#cb126-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb126-12"><a href="#cb126-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb126-13"><a href="#cb126-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb126-14"><a href="#cb126-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb126-15"><a href="#cb126-15" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-115-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>check distributions of total PRS scores before (raw_prs_score) and after imputation (imputed_prs_score)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>prs_plot <span class="ot">&lt;-</span> prs <span class="sc">%&gt;%</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">between</span>(prs_not_na, <span class="dv">10</span>, <span class="dv">14</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(guid, raw_prs_score, imputed_prs_score) <span class="sc">%&gt;%</span></span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"raw_prs_score"</span>, <span class="st">"imputed_prs_score"</span>),</span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"score"</span>,</span>
<span id="cb127-7"><a href="#cb127-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"score_name"</span></span>
<span id="cb127-8"><a href="#cb127-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb127-9"><a href="#cb127-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-10"><a href="#cb127-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(prs_plot, <span class="fu">aes</span>(<span class="at">x =</span> score_name, <span class="at">y =</span> score, <span class="at">fill =</span> score_name)) <span class="sc">+</span></span>
<span id="cb127-11"><a href="#cb127-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">25</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-116-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Remove intermediate field names not needed</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>prs <span class="ot">&lt;-</span> prs <span class="sc">%&gt;%</span></span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>prs_not_na, <span class="sc">-</span>mean_prs, <span class="sc">-</span>raw_prs_score)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="new-field-names-12" class="level4" data-number="D.2.14.5">
<h4 data-number="D.2.14.5" class="anchored" data-anchor-id="new-field-names-12"><span class="header-section-number">D.2.14.5</span> New field name(s)</h4>
<p>Add the following field names to the data dictionary:</p>
<p>“prs_diff”,“prs_cog_diff”,“prs_bhv_diff”,“imputed_bhv_score”,“imputed_prs_cog_score”,“imputed_prs_score”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create field names</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>prs_diff_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"prs_diff"</span>,</span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"pain_resilience_scale_prs"</span>,</span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"factor"</span>,</span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"1,if there is a response to more than or equal to 10 of 14 PRS items | 0, if there is a response to less than 10 of 14 items"</span></span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb129-8"><a href="#cb129-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-9"><a href="#cb129-9" aria-hidden="true" tabindex="-1"></a>prs_cog_diff_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb129-10"><a href="#cb129-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"prs_cog_diff"</span>,</span>
<span id="cb129-11"><a href="#cb129-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"pain_resilience_scale_prs"</span>,</span>
<span id="cb129-12"><a href="#cb129-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"factor"</span>,</span>
<span id="cb129-13"><a href="#cb129-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"1, if there is a response to more than or equal to 7 of 9 Cognitive/Affective positivity related items | 0, if there is a response to less than 7 of 9 items"</span></span>
<span id="cb129-14"><a href="#cb129-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb129-15"><a href="#cb129-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-16"><a href="#cb129-16" aria-hidden="true" tabindex="-1"></a>prs_bhv_diff_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb129-17"><a href="#cb129-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"prs_bhv_diff"</span>,</span>
<span id="cb129-18"><a href="#cb129-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"pain_resilience_scale_prs"</span>,</span>
<span id="cb129-19"><a href="#cb129-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"factor"</span>,</span>
<span id="cb129-20"><a href="#cb129-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"1,If there is a response to more than or equal to 4 of 5 behavioral perseverance related items| 0, if there is a response to less than 4 of 5 items"</span></span>
<span id="cb129-21"><a href="#cb129-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb129-22"><a href="#cb129-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-23"><a href="#cb129-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-24"><a href="#cb129-24" aria-hidden="true" tabindex="-1"></a>prs_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb129-25"><a href="#cb129-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"imputed_prs_score"</span>,</span>
<span id="cb129-26"><a href="#cb129-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"pain_resilience_scale_prs"</span>,</span>
<span id="cb129-27"><a href="#cb129-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb129-28"><a href="#cb129-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"sum of all  fourteen PRS items. Replacing missing values with the rounded mean of remaining items if prs_diff = 1"</span></span>
<span id="cb129-29"><a href="#cb129-29" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb129-30"><a href="#cb129-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-31"><a href="#cb129-31" aria-hidden="true" tabindex="-1"></a>prs_cog_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb129-32"><a href="#cb129-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"imputed_prs_cog_score"</span>,</span>
<span id="cb129-33"><a href="#cb129-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"pain_resilience_scale_prs"</span>,</span>
<span id="cb129-34"><a href="#cb129-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb129-35"><a href="#cb129-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"sum of all  nine Cognitive/Affective positivity items. Replacing missing values with the rounded mean of remaining items if prs_cog_diff = 1"</span></span>
<span id="cb129-36"><a href="#cb129-36" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb129-37"><a href="#cb129-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-38"><a href="#cb129-38" aria-hidden="true" tabindex="-1"></a>prs_bhv_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb129-39"><a href="#cb129-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"imputed_bhv_score"</span>,</span>
<span id="cb129-40"><a href="#cb129-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"pain_resilience_scale_prs"</span>,</span>
<span id="cb129-41"><a href="#cb129-41" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb129-42"><a href="#cb129-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"sum of five behavioral perseverance items. Replacing missing values with the rounded mean of remaining items if prs_bhv_diff = 1"</span></span>
<span id="cb129-43"><a href="#cb129-43" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb129-44"><a href="#cb129-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-45"><a href="#cb129-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-46"><a href="#cb129-46" aria-hidden="true" tabindex="-1"></a><span class="co"># adding rows</span></span>
<span id="cb129-47"><a href="#cb129-47" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb129-48"><a href="#cb129-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb129-49"><a href="#cb129-49" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>prs_diff_new_row,</span>
<span id="cb129-50"><a href="#cb129-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"prscognitivescore"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb129-51"><a href="#cb129-51" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb129-52"><a href="#cb129-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-53"><a href="#cb129-53" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb129-54"><a href="#cb129-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb129-55"><a href="#cb129-55" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>prs_cog_diff_new_row,</span>
<span id="cb129-56"><a href="#cb129-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"prscognitivescore"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb129-57"><a href="#cb129-57" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb129-58"><a href="#cb129-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-59"><a href="#cb129-59" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb129-60"><a href="#cb129-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb129-61"><a href="#cb129-61" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>prs_bhv_diff_new_row,</span>
<span id="cb129-62"><a href="#cb129-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"prscognitivescore"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb129-63"><a href="#cb129-63" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb129-64"><a href="#cb129-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-65"><a href="#cb129-65" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb129-66"><a href="#cb129-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb129-67"><a href="#cb129-67" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>prs_score_new_row,</span>
<span id="cb129-68"><a href="#cb129-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"prscognitivescore"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb129-69"><a href="#cb129-69" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb129-70"><a href="#cb129-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-71"><a href="#cb129-71" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb129-72"><a href="#cb129-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb129-73"><a href="#cb129-73" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>prs_cog_score_new_row,</span>
<span id="cb129-74"><a href="#cb129-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"prscognitivescore"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb129-75"><a href="#cb129-75" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb129-76"><a href="#cb129-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-77"><a href="#cb129-77" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb129-78"><a href="#cb129-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb129-79"><a href="#cb129-79" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>prs_bhv_score_new_row,</span>
<span id="cb129-80"><a href="#cb129-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"prscognitivescore"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb129-81"><a href="#cb129-81" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="save-11" class="level4" data-number="D.2.14.6">
<h4 data-number="D.2.14.6" class="anchored" data-anchor-id="save-11"><span class="header-section-number">D.2.14.6</span> Save:</h4>
<p>Save “prs” and updated data dictionary as .csv files in the folder named “reformatted_prs”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>  prs,</span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb130-7"><a href="#cb130-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"reformatted_prs.csv"</span></span>
<span id="cb130-8"><a href="#cb130-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb130-9"><a href="#cb130-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb130-10"><a href="#cb130-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb130-11"><a href="#cb130-11" aria-hidden="true" tabindex="-1"></a>  psy_soc_dict,</span>
<span id="cb130-12"><a href="#cb130-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb130-13"><a href="#cb130-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb130-14"><a href="#cb130-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb130-15"><a href="#cb130-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb130-16"><a href="#cb130-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"updated_psy_soc_dictionary.csv"</span></span>
<span id="cb130-17"><a href="#cb130-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb130-18"><a href="#cb130-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="multidimensional-inventory-of-subjective-cognitive-impairment-v1.0-misci" class="level3 page-columns page-full" data-number="D.2.15">
<h3 data-number="D.2.15" class="anchored" data-anchor-id="multidimensional-inventory-of-subjective-cognitive-impairment-v1.0-misci"><span class="header-section-number">D.2.15</span> Multidimensional Inventory of Subjective Cognitive Impairment v1.0 (MISCI)</h3>
<p>Multidimensional Inventory of Subjective Cognitive Impairment (MISCI) is used to evaluate cognitive function in Fibromyalgia patients. The MISCI comprises ten items based on a Likert scale ranging from 1-5. The initial six items evaluate perceived cognitive abilities and are positively phrased, while the remaining four items assess cognitive difficulties and are negatively phrased. Therefore, items 7-10 should be reverse-coded before being added to the responses of the other items to calculate the total score. The total score can range from 10-50, where higher scores indicate better perceived cognitive functioning <span class="citation" data-cites="kratz2015">(<a href="references.html#ref-kratz2015" role="doc-biblioref">Kratz et al., 2015</a>)</span>.</p>
<div class="no-row-height column-margin column-container"><div id="ref-kratz2015" class="csl-entry" role="listitem">
Kratz, A. L., Schilling, S. G., Goesling, J., &amp; Williams, D. A. (2015). Development and Initial Validation of a Brief Self-Report Measure of Cognitive Dysfunction in Fibromyalgia. <em>The Journal of Pain</em>, <em>16</em>(6), 527–536. <a href="https://doi.org/10.1016/j.jpain.2015.02.008">https://doi.org/10.1016/j.jpain.2015.02.008</a>
</div></div><section id="read-in-data-10" class="level4" data-number="D.2.15.1">
<h4 data-number="D.2.15.1" class="anchored" data-anchor-id="read-in-data-10"><span class="header-section-number">D.2.15.1</span> Read in Data:</h4>
<p>Read in psy_soc1 dataframe and select field names from the MISCI form and keep completed forms, we will call “misci”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>misci <span class="ot">&lt;-</span> <span class="fu">applyFilter</span>(</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"misci"</span>,</span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>  multidimensional_inventory_of_subjective_cognitive_complete</span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will reverse code the last four items which assess cognitive difficulties. For example, cognitive difficulty related question such as “trouble planning out steps of a task” is rated on a scale of 1 to 5 where 1 is “never” and 5 is “very often”. We will reverse code this to indicate 5 as “never” and 1 as “very often”. The structure will look as follows:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Original</th>
<th>Reverse coded</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>5</td>
</tr>
<tr class="even">
<td>2</td>
<td>4</td>
</tr>
<tr class="odd">
<td>3</td>
<td>3</td>
</tr>
<tr class="even">
<td>4</td>
<td>2</td>
</tr>
<tr class="odd">
<td>5</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Reverse code last 4 items: We can accomplish this by subtracting the original values from 6.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>misci <span class="ot">&lt;-</span> misci <span class="sc">%&gt;%</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">miscishiftactivscl_reverse =</span> <span class="dv">6</span> <span class="sc">-</span> miscishiftactivscl) <span class="sc">%&gt;%</span></span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">misciplanningscl_reverse =</span> <span class="dv">6</span> <span class="sc">-</span> misciplanningscl) <span class="sc">%&gt;%</span></span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">misciexpressscl_reverse =</span> <span class="dv">6</span> <span class="sc">-</span> misciexpressscl) <span class="sc">%&gt;%</span></span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">miscirightwordsscl_reverse =</span> <span class="dv">6</span> <span class="sc">-</span> miscirightwordsscl)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="missing-data-10" class="level4" data-number="D.2.15.2">
<h4 data-number="D.2.15.2" class="anchored" data-anchor-id="missing-data-10"><span class="header-section-number">D.2.15.2</span> <strong>Missing Data</strong></h4>
<p>Missing data pattern in “misci”.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>misci_ten <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"miscithinkclrscl"</span>,</span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"miscimindsharpscl"</span>,</span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"miscirememberscl"</span>,</span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"miscilearnscl"</span>,</span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"misciconcentratescl"</span>,</span>
<span id="cb133-7"><a href="#cb133-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"misciattentionscl"</span>,</span>
<span id="cb133-8"><a href="#cb133-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"miscishiftactivscl_reverse"</span>,</span>
<span id="cb133-9"><a href="#cb133-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"misciplanningscl_reverse"</span>,</span>
<span id="cb133-10"><a href="#cb133-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"misciexpressscl_reverse"</span>,</span>
<span id="cb133-11"><a href="#cb133-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"miscirightwordsscl_reverse"</span></span>
<span id="cb133-12"><a href="#cb133-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb133-13"><a href="#cb133-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-14"><a href="#cb133-14" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb133-15"><a href="#cb133-15" aria-hidden="true" tabindex="-1"></a>  misci <span class="sc">%&gt;%</span></span>
<span id="cb133-16"><a href="#cb133-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">all_of</span>(misci_ten)),</span>
<span id="cb133-17"><a href="#cb133-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(misci),</span>
<span id="cb133-18"><a href="#cb133-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb133-19"><a href="#cb133-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb133-20"><a href="#cb133-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb133-21"><a href="#cb133-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb133-22"><a href="#cb133-22" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-122-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Missing values can be imputed if the responses to 8 of 10 items are available (less than or equal to 29% missing data).</p>
<p>We will create a variable “misci_diff” and assign a value of 1 if there is a response to more than or equal to 8 of 10 items and 0 if there is a response to less than 8 of 10 items. The missing responses are first replaced with the average score of the completed items and then a total score is calculated by adding the scores for all the ten items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>misci <span class="ot">&lt;-</span> misci <span class="sc">%&gt;%</span></span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">misci_not_na =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(.[, misci_ten]))) <span class="sc">%&gt;%</span></span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">misci_diff =</span> <span class="fu">case_when</span>(</span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true" tabindex="-1"></a>      misci_not_na <span class="sc">&gt;=</span> <span class="dv">8</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb134-6"><a href="#cb134-6" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb134-7"><a href="#cb134-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb134-8"><a href="#cb134-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb134-9"><a href="#cb134-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb134-10"><a href="#cb134-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">misci_diff =</span> <span class="fu">as.factor</span>(misci_diff))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will now replace missing values with the rounded mean of remaining items if misci_diff = 1 and calculate the total score by taking a sum of all ten items, we will call this “imputed_misci_score.”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>misci <span class="ot">&lt;-</span> misci <span class="sc">%&gt;%</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">raw_misci_score =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(misci_ten)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_misci =</span> <span class="fu">case_when</span>(</span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a>      misci_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span></span>
<span id="cb135-8"><a href="#cb135-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(misci_ten)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb135-9"><a href="#cb135-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb135-10"><a href="#cb135-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb135-11"><a href="#cb135-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(misci_ten), <span class="sc">~</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(.), mean_misci, .))) <span class="sc">%&gt;%</span></span>
<span id="cb135-12"><a href="#cb135-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb135-13"><a href="#cb135-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_misci_score =</span> <span class="fu">case_when</span>(</span>
<span id="cb135-14"><a href="#cb135-14" aria-hidden="true" tabindex="-1"></a>      misci_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(misci_ten)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb135-15"><a href="#cb135-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb135-16"><a href="#cb135-16" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check missingness pattern after imputation</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>  misci <span class="sc">%&gt;%</span></span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">all_of</span>(misci_ten)),</span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(misci),</span>
<span id="cb136-5"><a href="#cb136-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb136-6"><a href="#cb136-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb136-7"><a href="#cb136-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb136-8"><a href="#cb136-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb136-9"><a href="#cb136-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-125-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>check distributions of misci total scores before (raw_misci_score) and after imputation (imputed_misci_score)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>misci_plot <span class="ot">&lt;-</span> misci <span class="sc">%&gt;%</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(misci_diff <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(guid, raw_misci_score, imputed_misci_score) <span class="sc">%&gt;%</span></span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb137-5"><a href="#cb137-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"raw_misci_score"</span>, <span class="st">"imputed_misci_score"</span>),</span>
<span id="cb137-6"><a href="#cb137-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"score"</span>,</span>
<span id="cb137-7"><a href="#cb137-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"score_name"</span></span>
<span id="cb137-8"><a href="#cb137-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb137-9"><a href="#cb137-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-10"><a href="#cb137-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(misci_plot, <span class="fu">aes</span>(<span class="at">x =</span> score_name, <span class="at">y =</span> score, <span class="at">fill =</span> score_name)) <span class="sc">+</span></span>
<span id="cb137-11"><a href="#cb137-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">25</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-126-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Remove intermediate field names not needed</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>misci <span class="ot">&lt;-</span> misci <span class="sc">%&gt;%</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>misci_not_na, <span class="sc">-</span>mean_misci, <span class="sc">-</span>raw_misci_score)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="new-field-names-13" class="level4" data-number="D.2.15.3">
<h4 data-number="D.2.15.3" class="anchored" data-anchor-id="new-field-names-13"><span class="header-section-number">D.2.15.3</span> New field name(s)</h4>
<p>Add the following field names to the data dictionary:</p>
<p>“misci_diff”, “imputed_misci_score”, “miscishiftactivscl_reverse”, “misciplanningscl_reverse”, “misciexpressscl_reverse” and “miscirightwordsscl_reverse”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create field names</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a>misci_diff_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"misci_diff"</span>,</span>
<span id="cb139-5"><a href="#cb139-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"multidimensional_inventory_of_subjective_cognitive"</span>,</span>
<span id="cb139-6"><a href="#cb139-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"factor"</span>,</span>
<span id="cb139-7"><a href="#cb139-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"1, if there is a response to more than or equal to 8 of 10 MISCI items | 0, if there is a response to less than 8 of 10 items"</span></span>
<span id="cb139-8"><a href="#cb139-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb139-9"><a href="#cb139-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-10"><a href="#cb139-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-11"><a href="#cb139-11" aria-hidden="true" tabindex="-1"></a>misci_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb139-12"><a href="#cb139-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"imputed_misci_score"</span>,</span>
<span id="cb139-13"><a href="#cb139-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"multidimensional_inventory_of_subjective_cognitive"</span>,</span>
<span id="cb139-14"><a href="#cb139-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb139-15"><a href="#cb139-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"sum of all ten misci items. Replacing missing values with the rounded mean of remaining items if misci_diff = 1"</span></span>
<span id="cb139-16"><a href="#cb139-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb139-17"><a href="#cb139-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-18"><a href="#cb139-18" aria-hidden="true" tabindex="-1"></a>miscishiftactivscl_reverse_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb139-19"><a href="#cb139-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"miscishiftactivscl_reverse"</span>,</span>
<span id="cb139-20"><a href="#cb139-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"multidimensional_inventory_of_subjective_cognitive"</span>,</span>
<span id="cb139-21"><a href="#cb139-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb139-22"><a href="#cb139-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded miscishiftactivscl"</span></span>
<span id="cb139-23"><a href="#cb139-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb139-24"><a href="#cb139-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-25"><a href="#cb139-25" aria-hidden="true" tabindex="-1"></a>misciplanningscl_reverse_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb139-26"><a href="#cb139-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"misciplanningscl_reverse"</span>,</span>
<span id="cb139-27"><a href="#cb139-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"multidimensional_inventory_of_subjective_cognitive"</span>,</span>
<span id="cb139-28"><a href="#cb139-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb139-29"><a href="#cb139-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded misciplanningscl"</span></span>
<span id="cb139-30"><a href="#cb139-30" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb139-31"><a href="#cb139-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-32"><a href="#cb139-32" aria-hidden="true" tabindex="-1"></a>misciexpressscl_reverse_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb139-33"><a href="#cb139-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"misciexpressscl_reverse"</span>,</span>
<span id="cb139-34"><a href="#cb139-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"multidimensional_inventory_of_subjective_cognitive"</span>,</span>
<span id="cb139-35"><a href="#cb139-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb139-36"><a href="#cb139-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded misciexpressscl"</span></span>
<span id="cb139-37"><a href="#cb139-37" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb139-38"><a href="#cb139-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-39"><a href="#cb139-39" aria-hidden="true" tabindex="-1"></a>miscirightwordsscl_reverse_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb139-40"><a href="#cb139-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"miscirightwordsscl_reverse"</span>,</span>
<span id="cb139-41"><a href="#cb139-41" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"multidimensional_inventory_of_subjective_cognitive"</span>,</span>
<span id="cb139-42"><a href="#cb139-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb139-43"><a href="#cb139-43" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded miscirightwordsscl"</span></span>
<span id="cb139-44"><a href="#cb139-44" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb139-45"><a href="#cb139-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-46"><a href="#cb139-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-47"><a href="#cb139-47" aria-hidden="true" tabindex="-1"></a><span class="co"># adding rows</span></span>
<span id="cb139-48"><a href="#cb139-48" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb139-49"><a href="#cb139-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb139-50"><a href="#cb139-50" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>misci_diff_new_row,</span>
<span id="cb139-51"><a href="#cb139-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"miscitotalscore"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb139-52"><a href="#cb139-52" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb139-53"><a href="#cb139-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-54"><a href="#cb139-54" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb139-55"><a href="#cb139-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb139-56"><a href="#cb139-56" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>misci_score_new_row,</span>
<span id="cb139-57"><a href="#cb139-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"miscitotalscore"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb139-58"><a href="#cb139-58" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb139-59"><a href="#cb139-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-60"><a href="#cb139-60" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb139-61"><a href="#cb139-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb139-62"><a href="#cb139-62" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>miscishiftactivscl_reverse_new_row,</span>
<span id="cb139-63"><a href="#cb139-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"miscitotalscore"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb139-64"><a href="#cb139-64" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb139-65"><a href="#cb139-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-66"><a href="#cb139-66" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb139-67"><a href="#cb139-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb139-68"><a href="#cb139-68" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>misciplanningscl_reverse_new_row,</span>
<span id="cb139-69"><a href="#cb139-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"miscitotalscore"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb139-70"><a href="#cb139-70" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb139-71"><a href="#cb139-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-72"><a href="#cb139-72" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb139-73"><a href="#cb139-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb139-74"><a href="#cb139-74" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>misciexpressscl_reverse_new_row,</span>
<span id="cb139-75"><a href="#cb139-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"miscitotalscore"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb139-76"><a href="#cb139-76" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb139-77"><a href="#cb139-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-78"><a href="#cb139-78" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb139-79"><a href="#cb139-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb139-80"><a href="#cb139-80" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>miscirightwordsscl_reverse_new_row,</span>
<span id="cb139-81"><a href="#cb139-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"miscitotalscore"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb139-82"><a href="#cb139-82" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="save-12" class="level4" data-number="D.2.15.4">
<h4 data-number="D.2.15.4" class="anchored" data-anchor-id="save-12"><span class="header-section-number">D.2.15.4</span> Save:</h4>
<p>Save “misci” and updated data dictionary as .csv files in the folder named “reformatted_misci”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a>  misci,</span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"Psychosocial"</span>, <span class="st">"Reformatted"</span>, <span class="st">"reformatted_misci.csv"</span>)</span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb140-5"><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb140-6"><a href="#cb140-6" aria-hidden="true" tabindex="-1"></a>  psy_soc_dict,</span>
<span id="cb140-7"><a href="#cb140-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb140-8"><a href="#cb140-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb140-9"><a href="#cb140-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb140-10"><a href="#cb140-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb140-11"><a href="#cb140-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"updated_psy_soc_dictionary.csv"</span></span>
<span id="cb140-12"><a href="#cb140-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb140-13"><a href="#cb140-13" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="the-big-five-inventory-bfi-2-s" class="level3 page-columns page-full" data-number="D.2.16">
<h3 data-number="D.2.16" class="anchored" data-anchor-id="the-big-five-inventory-bfi-2-s"><span class="header-section-number">D.2.16</span> The Big Five Inventory (BFI-2-S)</h3>
<p>The BFI-2-S is is used to evaluate five personality domains and 15 specific facet traits within the five domains. Altogether, the BFI-2-S comprises thirty items based on a Likert scale ranging from 1-5, where 1 is “disagree strongly” and 5 is “agree strongly”. Some items are negatively phrased and should be reverse coded for scoring <span class="citation" data-cites="soto_short_2017">(<a href="references.html#ref-soto_short_2017" role="doc-biblioref">Soto &amp; John, 2017</a>)</span>.</p>
<div class="no-row-height column-margin column-container"><div id="ref-soto_short_2017" class="csl-entry" role="listitem">
Soto, C. J., &amp; John, O. P. (2017). Short and extra-short forms of the Big Five Inventory<span></span>2: The BFI-2-S and BFI-2-XS. <em>Journal of Research in Personality</em>, <em>68</em>, 69–81. <a href="https://doi.org/10.1016/j.jrp.2017.02.004">https://doi.org/10.1016/j.jrp.2017.02.004</a>
</div></div><p>Following table shows the five domains and the specific facet traits:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 49%">
</colgroup>
<thead>
<tr class="header">
<th>Domains (bold) and domain specific facets</th>
<th>Items (R: Items should be reverse coded)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Extraversion</strong></td>
<td></td>
</tr>
<tr class="even">
<td>Sociability</td>
<td>1R, 16</td>
</tr>
<tr class="odd">
<td>Assertiveness</td>
<td>6, 21R</td>
</tr>
<tr class="even">
<td>Energy Level</td>
<td>11, 26R</td>
</tr>
<tr class="odd">
<td><strong>Agreeableness</strong></td>
<td></td>
</tr>
<tr class="even">
<td>Compassion</td>
<td>2, 17R</td>
</tr>
<tr class="odd">
<td>Respectfulness</td>
<td>7R, 22</td>
</tr>
<tr class="even">
<td>Trust</td>
<td>12, 27R</td>
</tr>
<tr class="odd">
<td><strong>Conscientiousness</strong></td>
<td></td>
</tr>
<tr class="even">
<td>Organization</td>
<td>3R, 18</td>
</tr>
<tr class="odd">
<td>Productiveness</td>
<td>8R, 23</td>
</tr>
<tr class="even">
<td>Responsibility</td>
<td>13, 28R</td>
</tr>
<tr class="odd">
<td><strong>Negative Emotionality</strong></td>
<td></td>
</tr>
<tr class="even">
<td>Anxiety</td>
<td>4, 19R</td>
</tr>
<tr class="odd">
<td>Depression</td>
<td>9, 24R</td>
</tr>
<tr class="even">
<td>Emotional Volatility</td>
<td>14R, 29</td>
</tr>
<tr class="odd">
<td><strong>Open-Mindedness</strong></td>
<td></td>
</tr>
<tr class="even">
<td>Aesthetic Sensitivity</td>
<td>5, 20R</td>
</tr>
<tr class="odd">
<td>Intellectual Curiosity</td>
<td>10R, 25</td>
</tr>
<tr class="even">
<td>Creative Imagination</td>
<td>15, 30R</td>
</tr>
</tbody>
</table>
<section id="read-in-data-11" class="level4" data-number="D.2.16.1">
<h4 data-number="D.2.16.1" class="anchored" data-anchor-id="read-in-data-11"><span class="header-section-number">D.2.16.1</span> Read in Data:</h4>
<p>Read in psy_soc1 dataframe and select field names from the BFI-2-S form and keep completed forms, we will call this “bfi”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> <span class="fu">applyFilter</span>(<span class="st">"bfi"</span>, the_big_five_inventory_bfi2s_complete)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will reverse code the items denoted by “R” in the table. For example, Sociability related question such as “Tends to be quiet” is rated on a scale of 1 to 5 where 1 is “Disagree strongly” and 5 is “Agree strongly”. We will reverse code this to indicate 5 as “Disagree strongly” and 1 as “Agree strongly”. The structure will look as follows:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Original</th>
<th>Reverse coded</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>5</td>
</tr>
<tr class="even">
<td>2</td>
<td>4</td>
</tr>
<tr class="odd">
<td>3</td>
<td>3</td>
</tr>
<tr class="even">
<td>4</td>
<td>2</td>
</tr>
<tr class="odd">
<td>5</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Reverse code the items denoted by “R”: We can accomplish this by subtracting the original values from 6.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">.cols =</span> <span class="fu">c</span>(</span>
<span id="cb142-5"><a href="#cb142-5" aria-hidden="true" tabindex="-1"></a>        bfi2squietscl,</span>
<span id="cb142-6"><a href="#cb142-6" aria-hidden="true" tabindex="-1"></a>        bfi2stakechargescl,</span>
<span id="cb142-7"><a href="#cb142-7" aria-hidden="true" tabindex="-1"></a>        bfi2slessactivescl,</span>
<span id="cb142-8"><a href="#cb142-8" aria-hidden="true" tabindex="-1"></a>        bfi2suncaringscl,</span>
<span id="cb142-9"><a href="#cb142-9" aria-hidden="true" tabindex="-1"></a>        bfi2srudescl,</span>
<span id="cb142-10"><a href="#cb142-10" aria-hidden="true" tabindex="-1"></a>        bfi2sfaultwithothersscl,</span>
<span id="cb142-11"><a href="#cb142-11" aria-hidden="true" tabindex="-1"></a>        bfi2sdisorganizedscl,</span>
<span id="cb142-12"><a href="#cb142-12" aria-hidden="true" tabindex="-1"></a>        bfi2sdifficultstartscl,</span>
<span id="cb142-13"><a href="#cb142-13" aria-hidden="true" tabindex="-1"></a>        bfi2scarelessscl,</span>
<span id="cb142-14"><a href="#cb142-14" aria-hidden="true" tabindex="-1"></a>        bfi2srelaxedscl,</span>
<span id="cb142-15"><a href="#cb142-15" aria-hidden="true" tabindex="-1"></a>        bfi2ssecurescl,</span>
<span id="cb142-16"><a href="#cb142-16" aria-hidden="true" tabindex="-1"></a>        bfi2sstableemotionscl,</span>
<span id="cb142-17"><a href="#cb142-17" aria-hidden="true" tabindex="-1"></a>        bfi2sfewartinterestscl,</span>
<span id="cb142-18"><a href="#cb142-18" aria-hidden="true" tabindex="-1"></a>        bfi2sllittleinterestscl,</span>
<span id="cb142-19"><a href="#cb142-19" aria-hidden="true" tabindex="-1"></a>        bfi2slittlecreativityscl</span>
<span id="cb142-20"><a href="#cb142-20" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb142-21"><a href="#cb142-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">.fns =</span> \(x) <span class="dv">6</span> <span class="sc">-</span> x,</span>
<span id="cb142-22"><a href="#cb142-22" aria-hidden="true" tabindex="-1"></a>      <span class="at">.names =</span> <span class="st">"{.col}_reverse"</span></span>
<span id="cb142-23"><a href="#cb142-23" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb142-24"><a href="#cb142-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb142-25"><a href="#cb142-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-26"><a href="#cb142-26" aria-hidden="true" tabindex="-1"></a><span class="co"># credit: P.Sadil</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="extraversion" class="level4" data-number="D.2.16.2">
<h4 data-number="D.2.16.2" class="anchored" data-anchor-id="extraversion"><span class="header-section-number">D.2.16.2</span> Extraversion</h4>
<section id="missing-data-11" class="level5" data-number="D.2.16.2.1">
<h5 data-number="D.2.16.2.1" class="anchored" data-anchor-id="missing-data-11"><span class="header-section-number">D.2.16.2.1</span> <strong>Missing Data</strong></h5>
<p>Missing data pattern in Extraversion domain specific items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>extra_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2squietscl_reverse"</span>,</span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2soutgoingscl"</span>,</span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2sdominantscl"</span>,</span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2stakechargescl_reverse"</span>,</span>
<span id="cb143-6"><a href="#cb143-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2senergyscl"</span>,</span>
<span id="cb143-7"><a href="#cb143-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2slessactivescl_reverse"</span></span>
<span id="cb143-8"><a href="#cb143-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb143-9"><a href="#cb143-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-10"><a href="#cb143-10" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb143-11"><a href="#cb143-11" aria-hidden="true" tabindex="-1"></a>  bfi <span class="sc">%&gt;%</span></span>
<span id="cb143-12"><a href="#cb143-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">all_of</span>(extra_vector)),</span>
<span id="cb143-13"><a href="#cb143-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(bfi),</span>
<span id="cb143-14"><a href="#cb143-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb143-15"><a href="#cb143-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb143-16"><a href="#cb143-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb143-17"><a href="#cb143-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb143-18"><a href="#cb143-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-132-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Scale score is calculated by taking the mean of the domain specific items. We will calculate raw scale score (without imputed items)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">raw_extraversion_score =</span> <span class="fu">round</span>(<span class="fu">rowMeans</span>(</span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(., <span class="fu">all_of</span>(extra_vector)),</span>
<span id="cb144-5"><a href="#cb144-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb144-6"><a href="#cb144-6" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb144-7"><a href="#cb144-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>For missing items, response to the closest item can be used. For instance if “Tends to be quiet” is missing, the value from “Is outgoing, sociable” can be used to replace the missing value or vice versa <a href="https://www.ocf.berkeley.edu/~johnlab/bfi.htm">Berkeley personality lab</a>.</p>
<p>Replace missing items with the closest matching item.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2squietscl_reverse =</span> <span class="fu">ifelse</span>(</span>
<span id="cb145-4"><a href="#cb145-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2squietscl_reverse),</span>
<span id="cb145-5"><a href="#cb145-5" aria-hidden="true" tabindex="-1"></a>      bfi2soutgoingscl,</span>
<span id="cb145-6"><a href="#cb145-6" aria-hidden="true" tabindex="-1"></a>      bfi2squietscl_reverse</span>
<span id="cb145-7"><a href="#cb145-7" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb145-8"><a href="#cb145-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2soutgoingscl =</span> <span class="fu">ifelse</span>(</span>
<span id="cb145-9"><a href="#cb145-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2soutgoingscl),</span>
<span id="cb145-10"><a href="#cb145-10" aria-hidden="true" tabindex="-1"></a>      bfi2squietscl_reverse,</span>
<span id="cb145-11"><a href="#cb145-11" aria-hidden="true" tabindex="-1"></a>      bfi2soutgoingscl</span>
<span id="cb145-12"><a href="#cb145-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb145-13"><a href="#cb145-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb145-14"><a href="#cb145-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb145-15"><a href="#cb145-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2sdominantscl =</span> <span class="fu">ifelse</span>(</span>
<span id="cb145-16"><a href="#cb145-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2sdominantscl),</span>
<span id="cb145-17"><a href="#cb145-17" aria-hidden="true" tabindex="-1"></a>      bfi2stakechargescl_reverse,</span>
<span id="cb145-18"><a href="#cb145-18" aria-hidden="true" tabindex="-1"></a>      bfi2sdominantscl</span>
<span id="cb145-19"><a href="#cb145-19" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb145-20"><a href="#cb145-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2stakechargescl_reverse =</span> <span class="fu">ifelse</span>(</span>
<span id="cb145-21"><a href="#cb145-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2stakechargescl_reverse),</span>
<span id="cb145-22"><a href="#cb145-22" aria-hidden="true" tabindex="-1"></a>      bfi2sdominantscl,</span>
<span id="cb145-23"><a href="#cb145-23" aria-hidden="true" tabindex="-1"></a>      bfi2stakechargescl_reverse</span>
<span id="cb145-24"><a href="#cb145-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb145-25"><a href="#cb145-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb145-26"><a href="#cb145-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb145-27"><a href="#cb145-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2senergyscl =</span> <span class="fu">ifelse</span>(</span>
<span id="cb145-28"><a href="#cb145-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2senergyscl),</span>
<span id="cb145-29"><a href="#cb145-29" aria-hidden="true" tabindex="-1"></a>      bfi2slessactivescl_reverse,</span>
<span id="cb145-30"><a href="#cb145-30" aria-hidden="true" tabindex="-1"></a>      bfi2senergyscl</span>
<span id="cb145-31"><a href="#cb145-31" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb145-32"><a href="#cb145-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2slessactivescl_reverse =</span> <span class="fu">ifelse</span>(</span>
<span id="cb145-33"><a href="#cb145-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2slessactivescl_reverse),</span>
<span id="cb145-34"><a href="#cb145-34" aria-hidden="true" tabindex="-1"></a>      bfi2senergyscl,</span>
<span id="cb145-35"><a href="#cb145-35" aria-hidden="true" tabindex="-1"></a>      bfi2slessactivescl_reverse</span>
<span id="cb145-36"><a href="#cb145-36" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb145-37"><a href="#cb145-37" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check missingness pattern after imputation</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>  bfi <span class="sc">%&gt;%</span></span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">all_of</span>(extra_vector)),</span>
<span id="cb146-4"><a href="#cb146-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(bfi),</span>
<span id="cb146-5"><a href="#cb146-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb146-6"><a href="#cb146-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb146-7"><a href="#cb146-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb146-8"><a href="#cb146-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb146-9"><a href="#cb146-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-135-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We will now calculate the imputed scale score</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_extraversion_score =</span> <span class="fu">round</span>(<span class="fu">rowMeans</span>(</span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(., <span class="fu">all_of</span>(extra_vector)),</span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>check distributions of extraversion scores before (raw_extraversion_score) and after imputation (imputed_extraversion_score)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>bfi_ext_plot <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(guid, raw_extraversion_score, imputed_extraversion_score) <span class="sc">%&gt;%</span></span>
<span id="cb148-3"><a href="#cb148-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb148-4"><a href="#cb148-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"raw_extraversion_score"</span>, <span class="st">"imputed_extraversion_score"</span>),</span>
<span id="cb148-5"><a href="#cb148-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"score"</span>,</span>
<span id="cb148-6"><a href="#cb148-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"score_name"</span></span>
<span id="cb148-7"><a href="#cb148-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb148-8"><a href="#cb148-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">score_name =</span> <span class="fu">as.factor</span>(score_name)) <span class="sc">%&gt;%</span></span>
<span id="cb148-9"><a href="#cb148-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">score =</span> <span class="fu">as.factor</span>(score)) <span class="sc">%&gt;%</span></span>
<span id="cb148-10"><a href="#cb148-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(score_name, score) <span class="sc">%&gt;%</span></span>
<span id="cb148-11"><a href="#cb148-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span></span>
<span id="cb148-12"><a href="#cb148-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb148-13"><a href="#cb148-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">score_count =</span> n)</span>
<span id="cb148-14"><a href="#cb148-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb148-15"><a href="#cb148-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(bfi_ext_plot, <span class="fu">aes</span>(<span class="at">x =</span> score, <span class="at">y =</span> score_count, <span class="at">fill =</span> score_name)) <span class="sc">+</span></span>
<span id="cb148-16"><a href="#cb148-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb148-17"><a href="#cb148-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">70</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-137-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Remove intermediate field names not needed</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>raw_extraversion_score)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="agreeableness" class="level4" data-number="D.2.16.3">
<h4 data-number="D.2.16.3" class="anchored" data-anchor-id="agreeableness"><span class="header-section-number">D.2.16.3</span> <strong>Agreeableness</strong></h4>
<section id="missing-data-12" class="level5" data-number="D.2.16.3.1">
<h5 data-number="D.2.16.3.1" class="anchored" data-anchor-id="missing-data-12"><span class="header-section-number">D.2.16.3.1</span> <strong>Missing Data</strong></h5>
<p>Missing data pattern in agreeableness domain specific items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>agree_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2scompassionatescl"</span>,</span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2suncaringscl_reverse"</span>,</span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2srudescl_reverse"</span>,</span>
<span id="cb150-5"><a href="#cb150-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2srespectfulscl"</span>,</span>
<span id="cb150-6"><a href="#cb150-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2sassumingbestscl"</span>,</span>
<span id="cb150-7"><a href="#cb150-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2sfaultwithothersscl_reverse"</span></span>
<span id="cb150-8"><a href="#cb150-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb150-9"><a href="#cb150-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-10"><a href="#cb150-10" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb150-11"><a href="#cb150-11" aria-hidden="true" tabindex="-1"></a>  bfi <span class="sc">%&gt;%</span></span>
<span id="cb150-12"><a href="#cb150-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">all_of</span>(agree_vector)),</span>
<span id="cb150-13"><a href="#cb150-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(bfi),</span>
<span id="cb150-14"><a href="#cb150-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb150-15"><a href="#cb150-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb150-16"><a href="#cb150-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb150-17"><a href="#cb150-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb150-18"><a href="#cb150-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-139-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Scale score is calculated by taking the mean of the domain specific items. We will calculate raw scale score (without imputed items)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb151-3"><a href="#cb151-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">raw_agreeableness_score =</span> <span class="fu">round</span>(<span class="fu">rowMeans</span>(</span>
<span id="cb151-4"><a href="#cb151-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(., <span class="fu">all_of</span>(agree_vector)),</span>
<span id="cb151-5"><a href="#cb151-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb151-6"><a href="#cb151-6" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb151-7"><a href="#cb151-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>For missing items, response to the closest item can be used <a href="https://www.ocf.berkeley.edu/~johnlab/bfi.htm">Berkeley personality lab</a>.</p>
<p>Replace missing items with the closest matching item.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2scompassionatescl =</span> <span class="fu">ifelse</span>(</span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2scompassionatescl),</span>
<span id="cb152-5"><a href="#cb152-5" aria-hidden="true" tabindex="-1"></a>      bfi2suncaringscl_reverse,</span>
<span id="cb152-6"><a href="#cb152-6" aria-hidden="true" tabindex="-1"></a>      bfi2scompassionatescl</span>
<span id="cb152-7"><a href="#cb152-7" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb152-8"><a href="#cb152-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2suncaringscl_reverse =</span> <span class="fu">ifelse</span>(</span>
<span id="cb152-9"><a href="#cb152-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2suncaringscl_reverse),</span>
<span id="cb152-10"><a href="#cb152-10" aria-hidden="true" tabindex="-1"></a>      bfi2scompassionatescl,</span>
<span id="cb152-11"><a href="#cb152-11" aria-hidden="true" tabindex="-1"></a>      bfi2suncaringscl_reverse</span>
<span id="cb152-12"><a href="#cb152-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb152-13"><a href="#cb152-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb152-14"><a href="#cb152-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb152-15"><a href="#cb152-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2srudescl_reverse =</span> <span class="fu">ifelse</span>(</span>
<span id="cb152-16"><a href="#cb152-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2srudescl_reverse),</span>
<span id="cb152-17"><a href="#cb152-17" aria-hidden="true" tabindex="-1"></a>      bfi2srespectfulscl,</span>
<span id="cb152-18"><a href="#cb152-18" aria-hidden="true" tabindex="-1"></a>      bfi2srudescl_reverse</span>
<span id="cb152-19"><a href="#cb152-19" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb152-20"><a href="#cb152-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2srespectfulscl =</span> <span class="fu">ifelse</span>(</span>
<span id="cb152-21"><a href="#cb152-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2srespectfulscl),</span>
<span id="cb152-22"><a href="#cb152-22" aria-hidden="true" tabindex="-1"></a>      bfi2srudescl_reverse,</span>
<span id="cb152-23"><a href="#cb152-23" aria-hidden="true" tabindex="-1"></a>      bfi2srespectfulscl</span>
<span id="cb152-24"><a href="#cb152-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb152-25"><a href="#cb152-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb152-26"><a href="#cb152-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb152-27"><a href="#cb152-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2sassumingbestscl =</span> <span class="fu">ifelse</span>(</span>
<span id="cb152-28"><a href="#cb152-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2sassumingbestscl),</span>
<span id="cb152-29"><a href="#cb152-29" aria-hidden="true" tabindex="-1"></a>      bfi2sfaultwithothersscl_reverse,</span>
<span id="cb152-30"><a href="#cb152-30" aria-hidden="true" tabindex="-1"></a>      bfi2sassumingbestscl</span>
<span id="cb152-31"><a href="#cb152-31" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb152-32"><a href="#cb152-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2sfaultwithothersscl_reverse =</span> <span class="fu">ifelse</span>(</span>
<span id="cb152-33"><a href="#cb152-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2sfaultwithothersscl_reverse),</span>
<span id="cb152-34"><a href="#cb152-34" aria-hidden="true" tabindex="-1"></a>      bfi2sassumingbestscl,</span>
<span id="cb152-35"><a href="#cb152-35" aria-hidden="true" tabindex="-1"></a>      bfi2sfaultwithothersscl_reverse</span>
<span id="cb152-36"><a href="#cb152-36" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb152-37"><a href="#cb152-37" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check missingness pattern after imputation</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a>  bfi <span class="sc">%&gt;%</span></span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">all_of</span>(agree_vector)),</span>
<span id="cb153-4"><a href="#cb153-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(bfi),</span>
<span id="cb153-5"><a href="#cb153-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb153-6"><a href="#cb153-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb153-7"><a href="#cb153-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb153-8"><a href="#cb153-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb153-9"><a href="#cb153-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-142-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We will now calculate the imputed scale score</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_agreeableness_score =</span> <span class="fu">round</span>(<span class="fu">rowMeans</span>(</span>
<span id="cb154-4"><a href="#cb154-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(., <span class="fu">all_of</span>(agree_vector)),</span>
<span id="cb154-5"><a href="#cb154-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb154-6"><a href="#cb154-6" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb154-7"><a href="#cb154-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>check distributions of agreeableness scores before (raw_agreeableness_score) and after imputation (imputed_agreeableness_score)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a>bfi_agree_plot <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(guid, raw_agreeableness_score, imputed_agreeableness_score) <span class="sc">%&gt;%</span></span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"raw_agreeableness_score"</span>, <span class="st">"imputed_agreeableness_score"</span>),</span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"score"</span>,</span>
<span id="cb155-6"><a href="#cb155-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"score_name"</span></span>
<span id="cb155-7"><a href="#cb155-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb155-8"><a href="#cb155-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">score_name =</span> <span class="fu">as.factor</span>(score_name)) <span class="sc">%&gt;%</span></span>
<span id="cb155-9"><a href="#cb155-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">score =</span> <span class="fu">as.factor</span>(score)) <span class="sc">%&gt;%</span></span>
<span id="cb155-10"><a href="#cb155-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(score_name, score) <span class="sc">%&gt;%</span></span>
<span id="cb155-11"><a href="#cb155-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span></span>
<span id="cb155-12"><a href="#cb155-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb155-13"><a href="#cb155-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">score_count =</span> n)</span>
<span id="cb155-14"><a href="#cb155-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-15"><a href="#cb155-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(bfi_agree_plot, <span class="fu">aes</span>(<span class="at">x =</span> score, <span class="at">y =</span> score_count, <span class="at">fill =</span> score_name)) <span class="sc">+</span></span>
<span id="cb155-16"><a href="#cb155-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb155-17"><a href="#cb155-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">70</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-144-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Remove intermediate field names not needed</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>raw_agreeableness_score)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="conscientiousness" class="level4" data-number="D.2.16.4">
<h4 data-number="D.2.16.4" class="anchored" data-anchor-id="conscientiousness"><span class="header-section-number">D.2.16.4</span> <strong>Conscientiousness</strong></h4>
<section id="missing-data-13" class="level5" data-number="D.2.16.4.1">
<h5 data-number="D.2.16.4.1" class="anchored" data-anchor-id="missing-data-13"><span class="header-section-number">D.2.16.4.1</span> <strong>Missing Data</strong></h5>
<p>Missing data pattern in conscientiousness domain specific items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a>cons_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2sdisorganizedscl_reverse"</span>,</span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2stidyscl"</span>,</span>
<span id="cb157-4"><a href="#cb157-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2sdifficultstartscl_reverse"</span>,</span>
<span id="cb157-5"><a href="#cb157-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2spersistentscl"</span>,</span>
<span id="cb157-6"><a href="#cb157-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2sreliablescl"</span>,</span>
<span id="cb157-7"><a href="#cb157-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2scarelessscl_reverse"</span></span>
<span id="cb157-8"><a href="#cb157-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb157-9"><a href="#cb157-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-10"><a href="#cb157-10" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb157-11"><a href="#cb157-11" aria-hidden="true" tabindex="-1"></a>  bfi <span class="sc">%&gt;%</span></span>
<span id="cb157-12"><a href="#cb157-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">all_of</span>(cons_vector)),</span>
<span id="cb157-13"><a href="#cb157-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(bfi),</span>
<span id="cb157-14"><a href="#cb157-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb157-15"><a href="#cb157-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb157-16"><a href="#cb157-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb157-17"><a href="#cb157-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb157-18"><a href="#cb157-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-146-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Scale score is calculated by taking the mean of the domain specific items. We will calculate raw scale score (without imputed items)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">raw_cons_score =</span> <span class="fu">round</span>(<span class="fu">rowMeans</span>(</span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(., <span class="fu">all_of</span>(cons_vector)),</span>
<span id="cb158-5"><a href="#cb158-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb158-6"><a href="#cb158-6" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb158-7"><a href="#cb158-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>For missing items response to the closest item can be used.<a href="https://www.ocf.berkeley.edu/~johnlab/bfi.htm">Berkeley personality lab</a>.</p>
<p>Replace missing items with the closest matching item.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb159-3"><a href="#cb159-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2sdisorganizedscl_reverse =</span> <span class="fu">ifelse</span>(</span>
<span id="cb159-4"><a href="#cb159-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2sdisorganizedscl_reverse),</span>
<span id="cb159-5"><a href="#cb159-5" aria-hidden="true" tabindex="-1"></a>      bfi2stidyscl,</span>
<span id="cb159-6"><a href="#cb159-6" aria-hidden="true" tabindex="-1"></a>      bfi2sdisorganizedscl_reverse</span>
<span id="cb159-7"><a href="#cb159-7" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb159-8"><a href="#cb159-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2stidyscl =</span> <span class="fu">ifelse</span>(</span>
<span id="cb159-9"><a href="#cb159-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2stidyscl),</span>
<span id="cb159-10"><a href="#cb159-10" aria-hidden="true" tabindex="-1"></a>      bfi2sdisorganizedscl_reverse,</span>
<span id="cb159-11"><a href="#cb159-11" aria-hidden="true" tabindex="-1"></a>      bfi2stidyscl</span>
<span id="cb159-12"><a href="#cb159-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb159-13"><a href="#cb159-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb159-14"><a href="#cb159-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb159-15"><a href="#cb159-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2sdifficultstartscl_reverse =</span> <span class="fu">ifelse</span>(</span>
<span id="cb159-16"><a href="#cb159-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2sdifficultstartscl_reverse),</span>
<span id="cb159-17"><a href="#cb159-17" aria-hidden="true" tabindex="-1"></a>      bfi2spersistentscl,</span>
<span id="cb159-18"><a href="#cb159-18" aria-hidden="true" tabindex="-1"></a>      bfi2sdifficultstartscl_reverse</span>
<span id="cb159-19"><a href="#cb159-19" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb159-20"><a href="#cb159-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2spersistentscl =</span> <span class="fu">ifelse</span>(</span>
<span id="cb159-21"><a href="#cb159-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2spersistentscl),</span>
<span id="cb159-22"><a href="#cb159-22" aria-hidden="true" tabindex="-1"></a>      bfi2sdifficultstartscl_reverse,</span>
<span id="cb159-23"><a href="#cb159-23" aria-hidden="true" tabindex="-1"></a>      bfi2spersistentscl</span>
<span id="cb159-24"><a href="#cb159-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb159-25"><a href="#cb159-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb159-26"><a href="#cb159-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb159-27"><a href="#cb159-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2sreliablescl =</span> <span class="fu">ifelse</span>(</span>
<span id="cb159-28"><a href="#cb159-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2sreliablescl),</span>
<span id="cb159-29"><a href="#cb159-29" aria-hidden="true" tabindex="-1"></a>      bfi2scarelessscl_reverse,</span>
<span id="cb159-30"><a href="#cb159-30" aria-hidden="true" tabindex="-1"></a>      bfi2sreliablescl</span>
<span id="cb159-31"><a href="#cb159-31" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb159-32"><a href="#cb159-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2scarelessscl_reverse =</span> <span class="fu">ifelse</span>(</span>
<span id="cb159-33"><a href="#cb159-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2scarelessscl_reverse),</span>
<span id="cb159-34"><a href="#cb159-34" aria-hidden="true" tabindex="-1"></a>      bfi2sreliablescl,</span>
<span id="cb159-35"><a href="#cb159-35" aria-hidden="true" tabindex="-1"></a>      bfi2scarelessscl_reverse</span>
<span id="cb159-36"><a href="#cb159-36" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb159-37"><a href="#cb159-37" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check missingness pattern after imputation</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>  bfi <span class="sc">%&gt;%</span></span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">all_of</span>(cons_vector)),</span>
<span id="cb160-4"><a href="#cb160-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(bfi),</span>
<span id="cb160-5"><a href="#cb160-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb160-6"><a href="#cb160-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb160-7"><a href="#cb160-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb160-8"><a href="#cb160-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb160-9"><a href="#cb160-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-149-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We will now calculate the imputed scale score</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_cons_score =</span> <span class="fu">round</span>(<span class="fu">rowMeans</span>(</span>
<span id="cb161-4"><a href="#cb161-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(., <span class="fu">all_of</span>(cons_vector)),</span>
<span id="cb161-5"><a href="#cb161-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb161-6"><a href="#cb161-6" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb161-7"><a href="#cb161-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check distributions of conscientiousness scores before (raw_cons_score) and after imputation (imputed_cons_score)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>bfi_cons_plot <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(guid, raw_cons_score, imputed_cons_score) <span class="sc">%&gt;%</span></span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb162-4"><a href="#cb162-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"raw_cons_score"</span>, <span class="st">"imputed_cons_score"</span>),</span>
<span id="cb162-5"><a href="#cb162-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"score"</span>,</span>
<span id="cb162-6"><a href="#cb162-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"score_name"</span></span>
<span id="cb162-7"><a href="#cb162-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb162-8"><a href="#cb162-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">score_name =</span> <span class="fu">as.factor</span>(score_name)) <span class="sc">%&gt;%</span></span>
<span id="cb162-9"><a href="#cb162-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">score =</span> <span class="fu">as.factor</span>(score)) <span class="sc">%&gt;%</span></span>
<span id="cb162-10"><a href="#cb162-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(score_name, score) <span class="sc">%&gt;%</span></span>
<span id="cb162-11"><a href="#cb162-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span></span>
<span id="cb162-12"><a href="#cb162-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb162-13"><a href="#cb162-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">score_count =</span> n)</span>
<span id="cb162-14"><a href="#cb162-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-15"><a href="#cb162-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(bfi_cons_plot, <span class="fu">aes</span>(<span class="at">x =</span> score, <span class="at">y =</span> score_count, <span class="at">fill =</span> score_name)) <span class="sc">+</span></span>
<span id="cb162-16"><a href="#cb162-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb162-17"><a href="#cb162-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">70</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-151-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Remove intermediate field names not needed</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>raw_cons_score)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="negative-emotionality" class="level4" data-number="D.2.16.5">
<h4 data-number="D.2.16.5" class="anchored" data-anchor-id="negative-emotionality"><span class="header-section-number">D.2.16.5</span> <strong>Negative Emotionality</strong></h4>
<section id="missing-data-14" class="level5" data-number="D.2.16.5.1">
<h5 data-number="D.2.16.5.1" class="anchored" data-anchor-id="missing-data-14"><span class="header-section-number">D.2.16.5.1</span> <strong>Missing Data</strong></h5>
<p>Missing data pattern in negative emotionality domain specific items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>emotion_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2sworriesscl"</span>,</span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2srelaxedscl_reverse"</span>,</span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2sdepressedscl"</span>,</span>
<span id="cb164-5"><a href="#cb164-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2ssecurescl_reverse"</span>,</span>
<span id="cb164-6"><a href="#cb164-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2stemperamentalscl"</span>,</span>
<span id="cb164-7"><a href="#cb164-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2sstableemotionscl_reverse"</span></span>
<span id="cb164-8"><a href="#cb164-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb164-9"><a href="#cb164-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-10"><a href="#cb164-10" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb164-11"><a href="#cb164-11" aria-hidden="true" tabindex="-1"></a>  bfi <span class="sc">%&gt;%</span></span>
<span id="cb164-12"><a href="#cb164-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">all_of</span>(emotion_vector)),</span>
<span id="cb164-13"><a href="#cb164-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(bfi),</span>
<span id="cb164-14"><a href="#cb164-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb164-15"><a href="#cb164-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb164-16"><a href="#cb164-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb164-17"><a href="#cb164-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb164-18"><a href="#cb164-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-153-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Scale score is calculated by taking the mean of the domain specific items. We will calculate raw scale score (without imputed items)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb165-3"><a href="#cb165-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">raw_emotional_score =</span> <span class="fu">round</span>(<span class="fu">rowMeans</span>(</span>
<span id="cb165-4"><a href="#cb165-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(., <span class="fu">all_of</span>(emotion_vector)),</span>
<span id="cb165-5"><a href="#cb165-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb165-6"><a href="#cb165-6" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb165-7"><a href="#cb165-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>For missing items response to the closest item can be used <a href="https://www.ocf.berkeley.edu/~johnlab/bfi.htm">Berkeley personality lab</a>.</p>
<p>Replace missing items with the closest matching item.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb166-3"><a href="#cb166-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2sworriesscl =</span> <span class="fu">ifelse</span>(</span>
<span id="cb166-4"><a href="#cb166-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2sworriesscl),</span>
<span id="cb166-5"><a href="#cb166-5" aria-hidden="true" tabindex="-1"></a>      bfi2srelaxedscl_reverse,</span>
<span id="cb166-6"><a href="#cb166-6" aria-hidden="true" tabindex="-1"></a>      bfi2sworriesscl</span>
<span id="cb166-7"><a href="#cb166-7" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb166-8"><a href="#cb166-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2srelaxedscl_reverse =</span> <span class="fu">ifelse</span>(</span>
<span id="cb166-9"><a href="#cb166-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2srelaxedscl_reverse),</span>
<span id="cb166-10"><a href="#cb166-10" aria-hidden="true" tabindex="-1"></a>      bfi2sworriesscl,</span>
<span id="cb166-11"><a href="#cb166-11" aria-hidden="true" tabindex="-1"></a>      bfi2srelaxedscl_reverse</span>
<span id="cb166-12"><a href="#cb166-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb166-13"><a href="#cb166-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb166-14"><a href="#cb166-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb166-15"><a href="#cb166-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2sdepressedscl =</span> <span class="fu">ifelse</span>(</span>
<span id="cb166-16"><a href="#cb166-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2sdepressedscl),</span>
<span id="cb166-17"><a href="#cb166-17" aria-hidden="true" tabindex="-1"></a>      bfi2ssecurescl_reverse,</span>
<span id="cb166-18"><a href="#cb166-18" aria-hidden="true" tabindex="-1"></a>      bfi2sdepressedscl</span>
<span id="cb166-19"><a href="#cb166-19" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb166-20"><a href="#cb166-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2ssecurescl_reverse =</span> <span class="fu">ifelse</span>(</span>
<span id="cb166-21"><a href="#cb166-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2ssecurescl_reverse),</span>
<span id="cb166-22"><a href="#cb166-22" aria-hidden="true" tabindex="-1"></a>      bfi2sdepressedscl,</span>
<span id="cb166-23"><a href="#cb166-23" aria-hidden="true" tabindex="-1"></a>      bfi2ssecurescl_reverse</span>
<span id="cb166-24"><a href="#cb166-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb166-25"><a href="#cb166-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb166-26"><a href="#cb166-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb166-27"><a href="#cb166-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2stemperamentalscl =</span> <span class="fu">ifelse</span>(</span>
<span id="cb166-28"><a href="#cb166-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2stemperamentalscl),</span>
<span id="cb166-29"><a href="#cb166-29" aria-hidden="true" tabindex="-1"></a>      bfi2sstableemotionscl_reverse,</span>
<span id="cb166-30"><a href="#cb166-30" aria-hidden="true" tabindex="-1"></a>      bfi2stemperamentalscl</span>
<span id="cb166-31"><a href="#cb166-31" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb166-32"><a href="#cb166-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2sstableemotionscl_reverse =</span> <span class="fu">ifelse</span>(</span>
<span id="cb166-33"><a href="#cb166-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2sstableemotionscl_reverse),</span>
<span id="cb166-34"><a href="#cb166-34" aria-hidden="true" tabindex="-1"></a>      bfi2stemperamentalscl,</span>
<span id="cb166-35"><a href="#cb166-35" aria-hidden="true" tabindex="-1"></a>      bfi2sstableemotionscl_reverse</span>
<span id="cb166-36"><a href="#cb166-36" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb166-37"><a href="#cb166-37" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check missingness pattern after imputation</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>  bfi <span class="sc">%&gt;%</span></span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">all_of</span>(emotion_vector)),</span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(bfi),</span>
<span id="cb167-5"><a href="#cb167-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb167-6"><a href="#cb167-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb167-7"><a href="#cb167-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb167-8"><a href="#cb167-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb167-9"><a href="#cb167-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-156-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We will now calculate the imputed scale score</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_emotional_score =</span> <span class="fu">round</span>(<span class="fu">rowMeans</span>(</span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(., <span class="fu">all_of</span>(emotion_vector)),</span>
<span id="cb168-5"><a href="#cb168-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb168-6"><a href="#cb168-6" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb168-7"><a href="#cb168-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check distributions negative emotionality scores before (raw_emotional_score) and after imputation (imputed_emotional_score).</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>bfi_emo_plot <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(guid, raw_emotional_score, imputed_emotional_score) <span class="sc">%&gt;%</span></span>
<span id="cb169-3"><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb169-4"><a href="#cb169-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"raw_emotional_score"</span>, <span class="st">"imputed_emotional_score"</span>),</span>
<span id="cb169-5"><a href="#cb169-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"score"</span>,</span>
<span id="cb169-6"><a href="#cb169-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"score_name"</span></span>
<span id="cb169-7"><a href="#cb169-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb169-8"><a href="#cb169-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">score_name =</span> <span class="fu">as.factor</span>(score_name)) <span class="sc">%&gt;%</span></span>
<span id="cb169-9"><a href="#cb169-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">score =</span> <span class="fu">as.factor</span>(score)) <span class="sc">%&gt;%</span></span>
<span id="cb169-10"><a href="#cb169-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(score_name, score) <span class="sc">%&gt;%</span></span>
<span id="cb169-11"><a href="#cb169-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span></span>
<span id="cb169-12"><a href="#cb169-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb169-13"><a href="#cb169-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">score_count =</span> n)</span>
<span id="cb169-14"><a href="#cb169-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-15"><a href="#cb169-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(bfi_emo_plot, <span class="fu">aes</span>(<span class="at">x =</span> score, <span class="at">y =</span> score_count, <span class="at">fill =</span> score_name)) <span class="sc">+</span></span>
<span id="cb169-16"><a href="#cb169-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb169-17"><a href="#cb169-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">70</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-158-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Remove intermediate field names not needed</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>raw_emotional_score)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="open-mindedness" class="level4" data-number="D.2.16.6">
<h4 data-number="D.2.16.6" class="anchored" data-anchor-id="open-mindedness"><span class="header-section-number">D.2.16.6</span> <strong>Open-Mindedness</strong></h4>
<section id="missing-data-15" class="level5" data-number="D.2.16.6.1">
<h5 data-number="D.2.16.6.1" class="anchored" data-anchor-id="missing-data-15"><span class="header-section-number">D.2.16.6.1</span> <strong>Missing Data</strong></h5>
<p>Missing data pattern in open-mindedness domain specific items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a>open_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2sfascinatedscl"</span>,</span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2sfewartinterestscl_reverse"</span>,</span>
<span id="cb171-4"><a href="#cb171-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2sllittleinterestscl_reverse"</span>,</span>
<span id="cb171-5"><a href="#cb171-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2sthinkerscl"</span>,</span>
<span id="cb171-6"><a href="#cb171-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2soriginalscl"</span>,</span>
<span id="cb171-7"><a href="#cb171-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bfi2slittlecreativityscl_reverse"</span></span>
<span id="cb171-8"><a href="#cb171-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb171-9"><a href="#cb171-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-10"><a href="#cb171-10" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb171-11"><a href="#cb171-11" aria-hidden="true" tabindex="-1"></a>  bfi <span class="sc">%&gt;%</span></span>
<span id="cb171-12"><a href="#cb171-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">all_of</span>(open_vector)),</span>
<span id="cb171-13"><a href="#cb171-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(bfi),</span>
<span id="cb171-14"><a href="#cb171-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb171-15"><a href="#cb171-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb171-16"><a href="#cb171-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb171-17"><a href="#cb171-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb171-18"><a href="#cb171-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-160-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Scale score is calculated by taking the mean of the domain specific items. We will calculate raw scale score (without imputed items)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb172-3"><a href="#cb172-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">raw_open_score =</span> <span class="fu">round</span>(<span class="fu">rowMeans</span>(</span>
<span id="cb172-4"><a href="#cb172-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(., <span class="fu">all_of</span>(open_vector)),</span>
<span id="cb172-5"><a href="#cb172-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb172-6"><a href="#cb172-6" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb172-7"><a href="#cb172-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>For missing items response to the closest item can be used.<a href="https://www.ocf.berkeley.edu/~johnlab/bfi.htm">Berkeley personality lab</a>.</p>
<p>Replace missing items with the closest matching item.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb173-3"><a href="#cb173-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2sfascinatedscl =</span> <span class="fu">ifelse</span>(</span>
<span id="cb173-4"><a href="#cb173-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2sfascinatedscl),</span>
<span id="cb173-5"><a href="#cb173-5" aria-hidden="true" tabindex="-1"></a>      bfi2sfewartinterestscl_reverse,</span>
<span id="cb173-6"><a href="#cb173-6" aria-hidden="true" tabindex="-1"></a>      bfi2sfascinatedscl</span>
<span id="cb173-7"><a href="#cb173-7" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb173-8"><a href="#cb173-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2sfewartinterestscl_reverse =</span> <span class="fu">ifelse</span>(</span>
<span id="cb173-9"><a href="#cb173-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2sfewartinterestscl_reverse),</span>
<span id="cb173-10"><a href="#cb173-10" aria-hidden="true" tabindex="-1"></a>      bfi2sfascinatedscl,</span>
<span id="cb173-11"><a href="#cb173-11" aria-hidden="true" tabindex="-1"></a>      bfi2sfewartinterestscl_reverse</span>
<span id="cb173-12"><a href="#cb173-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb173-13"><a href="#cb173-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb173-14"><a href="#cb173-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb173-15"><a href="#cb173-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2sllittleinterestscl_reverse =</span> <span class="fu">ifelse</span>(</span>
<span id="cb173-16"><a href="#cb173-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2sllittleinterestscl_reverse),</span>
<span id="cb173-17"><a href="#cb173-17" aria-hidden="true" tabindex="-1"></a>      bfi2sthinkerscl,</span>
<span id="cb173-18"><a href="#cb173-18" aria-hidden="true" tabindex="-1"></a>      bfi2sllittleinterestscl_reverse</span>
<span id="cb173-19"><a href="#cb173-19" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb173-20"><a href="#cb173-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2sthinkerscl =</span> <span class="fu">ifelse</span>(</span>
<span id="cb173-21"><a href="#cb173-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2sthinkerscl),</span>
<span id="cb173-22"><a href="#cb173-22" aria-hidden="true" tabindex="-1"></a>      bfi2sllittleinterestscl_reverse,</span>
<span id="cb173-23"><a href="#cb173-23" aria-hidden="true" tabindex="-1"></a>      bfi2sthinkerscl</span>
<span id="cb173-24"><a href="#cb173-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb173-25"><a href="#cb173-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb173-26"><a href="#cb173-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb173-27"><a href="#cb173-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2soriginalscl =</span> <span class="fu">ifelse</span>(</span>
<span id="cb173-28"><a href="#cb173-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2soriginalscl),</span>
<span id="cb173-29"><a href="#cb173-29" aria-hidden="true" tabindex="-1"></a>      bfi2slittlecreativityscl_reverse,</span>
<span id="cb173-30"><a href="#cb173-30" aria-hidden="true" tabindex="-1"></a>      bfi2soriginalscl</span>
<span id="cb173-31"><a href="#cb173-31" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb173-32"><a href="#cb173-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">bfi2slittlecreativityscl_reverse =</span> <span class="fu">ifelse</span>(</span>
<span id="cb173-33"><a href="#cb173-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(bfi2slittlecreativityscl_reverse),</span>
<span id="cb173-34"><a href="#cb173-34" aria-hidden="true" tabindex="-1"></a>      bfi2soriginalscl,</span>
<span id="cb173-35"><a href="#cb173-35" aria-hidden="true" tabindex="-1"></a>      bfi2slittlecreativityscl_reverse</span>
<span id="cb173-36"><a href="#cb173-36" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb173-37"><a href="#cb173-37" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check missingness pattern after imputation</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a>  bfi <span class="sc">%&gt;%</span></span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">all_of</span>(open_vector)),</span>
<span id="cb174-4"><a href="#cb174-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(bfi),</span>
<span id="cb174-5"><a href="#cb174-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb174-6"><a href="#cb174-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb174-7"><a href="#cb174-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb174-8"><a href="#cb174-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb174-9"><a href="#cb174-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-163-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We will now calculate the imputed scale score</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb175-2"><a href="#cb175-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb175-3"><a href="#cb175-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_open_score =</span> <span class="fu">round</span>(<span class="fu">rowMeans</span>(</span>
<span id="cb175-4"><a href="#cb175-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(., <span class="fu">all_of</span>(open_vector)),</span>
<span id="cb175-5"><a href="#cb175-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb175-6"><a href="#cb175-6" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb175-7"><a href="#cb175-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check distributions of open-mindedness scores before (raw_open_score) and after imputation (imputed_open_score)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a>bfi_open_plot <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(guid, raw_open_score, imputed_open_score) <span class="sc">%&gt;%</span></span>
<span id="cb176-3"><a href="#cb176-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb176-4"><a href="#cb176-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"raw_open_score"</span>, <span class="st">"imputed_open_score"</span>),</span>
<span id="cb176-5"><a href="#cb176-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"score"</span>,</span>
<span id="cb176-6"><a href="#cb176-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"score_name"</span></span>
<span id="cb176-7"><a href="#cb176-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb176-8"><a href="#cb176-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">score_name =</span> <span class="fu">as.factor</span>(score_name)) <span class="sc">%&gt;%</span></span>
<span id="cb176-9"><a href="#cb176-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">score =</span> <span class="fu">as.factor</span>(score)) <span class="sc">%&gt;%</span></span>
<span id="cb176-10"><a href="#cb176-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(score_name, score) <span class="sc">%&gt;%</span></span>
<span id="cb176-11"><a href="#cb176-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span></span>
<span id="cb176-12"><a href="#cb176-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb176-13"><a href="#cb176-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">score_count =</span> n)</span>
<span id="cb176-14"><a href="#cb176-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-15"><a href="#cb176-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(bfi_open_plot, <span class="fu">aes</span>(<span class="at">x =</span> score, <span class="at">y =</span> score_count, <span class="at">fill =</span> score_name)) <span class="sc">+</span></span>
<span id="cb176-16"><a href="#cb176-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb176-17"><a href="#cb176-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">70</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-165-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Remove intermediate field names not needed</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb177-2"><a href="#cb177-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>raw_open_score)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="new-field-names-14" class="level4" data-number="D.2.16.7">
<h4 data-number="D.2.16.7" class="anchored" data-anchor-id="new-field-names-14"><span class="header-section-number">D.2.16.7</span> New field name(s)</h4>
<p>Add the following field names to the data dictionary:</p>
<p>“imputed_extraversion_score”, “imputed_agreeableness_score”, “imputed_cons_score”, “imputed_emotional_score”, “imputed_open_score”, “bfi2squietscl_reverse”, “bfi2stakechargescl_reverse”, “bfi2slessactivescl_reverse”, “bfi2suncaringscl_reverse”, “bfi2srudescl_reverse”, “bfi2sfaultwithothersscl_reverse”, “bfi2sdisorganizedscl_reverse”, “bfi2sdifficultstartscl_reverse”, “bfi2scarelessscl_reverse”, “bfi2srelaxedscl_reverse”, “bfi2ssecurescl_reverse”, “bfi2sstableemotionscl_reverse”, “bfi2sfewartinterestscl_reverse”, “bfi2sllittleinterestscl_reverse”, and “bfi2slittlecreativityscl_reverse”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb178"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create field names</span></span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-3"><a href="#cb178-3" aria-hidden="true" tabindex="-1"></a>extra_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-4"><a href="#cb178-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"imputed_extraversion_score"</span>,</span>
<span id="cb178-5"><a href="#cb178-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-6"><a href="#cb178-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-7"><a href="#cb178-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"Mean of Extraversion domain items. Replacing missing values with the value of the closest matching item (similar meaning)"</span></span>
<span id="cb178-8"><a href="#cb178-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-9"><a href="#cb178-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-10"><a href="#cb178-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-11"><a href="#cb178-11" aria-hidden="true" tabindex="-1"></a>agree_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-12"><a href="#cb178-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"imputed_agreeableness_score"</span>,</span>
<span id="cb178-13"><a href="#cb178-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-14"><a href="#cb178-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-15"><a href="#cb178-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"Mean of Agreeableness domain items. Replacing missing values with the value of the closest matching item (similar meaning)"</span></span>
<span id="cb178-16"><a href="#cb178-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-17"><a href="#cb178-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-18"><a href="#cb178-18" aria-hidden="true" tabindex="-1"></a>cons_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-19"><a href="#cb178-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"imputed_cons_score"</span>,</span>
<span id="cb178-20"><a href="#cb178-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-21"><a href="#cb178-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-22"><a href="#cb178-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"Mean of conscientiousness domain items. Replacing missing values with the value of the closest matching item (similar meaning)"</span></span>
<span id="cb178-23"><a href="#cb178-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-24"><a href="#cb178-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-25"><a href="#cb178-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-26"><a href="#cb178-26" aria-hidden="true" tabindex="-1"></a>emo_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-27"><a href="#cb178-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"imputed_emotional_score"</span>,</span>
<span id="cb178-28"><a href="#cb178-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-29"><a href="#cb178-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-30"><a href="#cb178-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"Mean of negative emotionality domain items. Replacing missing values with the value of the closest matching item (similar meaning)"</span></span>
<span id="cb178-31"><a href="#cb178-31" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-32"><a href="#cb178-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-33"><a href="#cb178-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-34"><a href="#cb178-34" aria-hidden="true" tabindex="-1"></a>open_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-35"><a href="#cb178-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"imputed_open_score"</span>,</span>
<span id="cb178-36"><a href="#cb178-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-37"><a href="#cb178-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-38"><a href="#cb178-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"Mean of open-mindedness domain items. Replacing missing values with the value of the closest matching item (similar meaning)"</span></span>
<span id="cb178-39"><a href="#cb178-39" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-40"><a href="#cb178-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-41"><a href="#cb178-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-42"><a href="#cb178-42" aria-hidden="true" tabindex="-1"></a>bfi2squietscl_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-43"><a href="#cb178-43" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"bfi2squietscl_reverse"</span>,</span>
<span id="cb178-44"><a href="#cb178-44" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-45"><a href="#cb178-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-46"><a href="#cb178-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded bfi2squietscl"</span></span>
<span id="cb178-47"><a href="#cb178-47" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-48"><a href="#cb178-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-49"><a href="#cb178-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-50"><a href="#cb178-50" aria-hidden="true" tabindex="-1"></a>bfi2stakechargescl_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-51"><a href="#cb178-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"bfi2stakechargescl_reverse"</span>,</span>
<span id="cb178-52"><a href="#cb178-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-53"><a href="#cb178-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-54"><a href="#cb178-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded bfi2stakechargescl"</span></span>
<span id="cb178-55"><a href="#cb178-55" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-56"><a href="#cb178-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-57"><a href="#cb178-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-58"><a href="#cb178-58" aria-hidden="true" tabindex="-1"></a>bfi2slessactivescl_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-59"><a href="#cb178-59" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"bfi2slessactivescl_reverse"</span>,</span>
<span id="cb178-60"><a href="#cb178-60" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-61"><a href="#cb178-61" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-62"><a href="#cb178-62" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded bfi2slessactivescl"</span></span>
<span id="cb178-63"><a href="#cb178-63" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-64"><a href="#cb178-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-65"><a href="#cb178-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-66"><a href="#cb178-66" aria-hidden="true" tabindex="-1"></a>bfi2suncaringscl_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-67"><a href="#cb178-67" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"bfi2suncaringscl_reverse"</span>,</span>
<span id="cb178-68"><a href="#cb178-68" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-69"><a href="#cb178-69" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-70"><a href="#cb178-70" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded bfi2suncaringscl"</span></span>
<span id="cb178-71"><a href="#cb178-71" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-72"><a href="#cb178-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-73"><a href="#cb178-73" aria-hidden="true" tabindex="-1"></a>bfi2srudescl_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-74"><a href="#cb178-74" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"bfi2srudescl_reverse"</span>,</span>
<span id="cb178-75"><a href="#cb178-75" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-76"><a href="#cb178-76" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-77"><a href="#cb178-77" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded bfi2srudescl"</span></span>
<span id="cb178-78"><a href="#cb178-78" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-79"><a href="#cb178-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-80"><a href="#cb178-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-81"><a href="#cb178-81" aria-hidden="true" tabindex="-1"></a>bfi2sfaultwithothersscl_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-82"><a href="#cb178-82" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"bfi2sfaultwithothersscl_reverse"</span>,</span>
<span id="cb178-83"><a href="#cb178-83" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-84"><a href="#cb178-84" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-85"><a href="#cb178-85" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded bfi2sfaultwithothersscl"</span></span>
<span id="cb178-86"><a href="#cb178-86" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-87"><a href="#cb178-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-88"><a href="#cb178-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-89"><a href="#cb178-89" aria-hidden="true" tabindex="-1"></a>bfi2sdisorganizedscl_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-90"><a href="#cb178-90" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"bfi2sdisorganizedscl_reverse"</span>,</span>
<span id="cb178-91"><a href="#cb178-91" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-92"><a href="#cb178-92" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-93"><a href="#cb178-93" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded bfi2sdisorganizedscl"</span></span>
<span id="cb178-94"><a href="#cb178-94" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-95"><a href="#cb178-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-96"><a href="#cb178-96" aria-hidden="true" tabindex="-1"></a>bfi2sdifficultstartscl_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-97"><a href="#cb178-97" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"bfi2sdifficultstartscl_reverse"</span>,</span>
<span id="cb178-98"><a href="#cb178-98" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-99"><a href="#cb178-99" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-100"><a href="#cb178-100" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded bfi2sdifficultstartscl"</span></span>
<span id="cb178-101"><a href="#cb178-101" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-102"><a href="#cb178-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-103"><a href="#cb178-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-104"><a href="#cb178-104" aria-hidden="true" tabindex="-1"></a>bfi2scarelessscl_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-105"><a href="#cb178-105" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"bfi2scarelessscl_reverse"</span>,</span>
<span id="cb178-106"><a href="#cb178-106" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-107"><a href="#cb178-107" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-108"><a href="#cb178-108" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded bfi2scarelessscl"</span></span>
<span id="cb178-109"><a href="#cb178-109" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-110"><a href="#cb178-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-111"><a href="#cb178-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-112"><a href="#cb178-112" aria-hidden="true" tabindex="-1"></a>bfi2srelaxedscl_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-113"><a href="#cb178-113" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"bfi2srelaxedscl_reverse"</span>,</span>
<span id="cb178-114"><a href="#cb178-114" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-115"><a href="#cb178-115" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-116"><a href="#cb178-116" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded bfi2srelaxedscl"</span></span>
<span id="cb178-117"><a href="#cb178-117" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-118"><a href="#cb178-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-119"><a href="#cb178-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-120"><a href="#cb178-120" aria-hidden="true" tabindex="-1"></a>bfi2ssecurescl_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-121"><a href="#cb178-121" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"bfi2ssecurescl_reverse"</span>,</span>
<span id="cb178-122"><a href="#cb178-122" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-123"><a href="#cb178-123" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-124"><a href="#cb178-124" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded bfi2ssecurescl"</span></span>
<span id="cb178-125"><a href="#cb178-125" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-126"><a href="#cb178-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-127"><a href="#cb178-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-128"><a href="#cb178-128" aria-hidden="true" tabindex="-1"></a>bfi2sstableemotionscl_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-129"><a href="#cb178-129" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"bfi2sstableemotionscl_reverse"</span>,</span>
<span id="cb178-130"><a href="#cb178-130" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-131"><a href="#cb178-131" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-132"><a href="#cb178-132" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded bfi2sstableemotionscl"</span></span>
<span id="cb178-133"><a href="#cb178-133" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-134"><a href="#cb178-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-135"><a href="#cb178-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-136"><a href="#cb178-136" aria-hidden="true" tabindex="-1"></a>bfi2sfewartinterestscl_reverse_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-137"><a href="#cb178-137" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"bfi2sfewartinterestscl_reverse"</span>,</span>
<span id="cb178-138"><a href="#cb178-138" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-139"><a href="#cb178-139" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-140"><a href="#cb178-140" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded bfi2sfewartinterestscl"</span></span>
<span id="cb178-141"><a href="#cb178-141" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-142"><a href="#cb178-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-143"><a href="#cb178-143" aria-hidden="true" tabindex="-1"></a>bfi2sllittleinterestscl_reverse_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-144"><a href="#cb178-144" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"bfi2sllittleinterestscl_reverse"</span>,</span>
<span id="cb178-145"><a href="#cb178-145" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-146"><a href="#cb178-146" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-147"><a href="#cb178-147" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded bfi2sllittleinterestscl"</span></span>
<span id="cb178-148"><a href="#cb178-148" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-149"><a href="#cb178-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-150"><a href="#cb178-150" aria-hidden="true" tabindex="-1"></a>bfi2slittlecreativityscl_reverse_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb178-151"><a href="#cb178-151" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"bfi2slittlecreativityscl_reverse"</span>,</span>
<span id="cb178-152"><a href="#cb178-152" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"the_big_five_inventory_bfi2s"</span>,</span>
<span id="cb178-153"><a href="#cb178-153" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb178-154"><a href="#cb178-154" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"reverse coded bfi2slittlecreativityscl"</span></span>
<span id="cb178-155"><a href="#cb178-155" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="co"># adding rows</span></span>
<span id="cb179-2"><a href="#cb179-2" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-3"><a href="#cb179-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-4"><a href="#cb179-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>extra_score_new_row,</span>
<span id="cb179-5"><a href="#cb179-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-6"><a href="#cb179-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-7"><a href="#cb179-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-8"><a href="#cb179-8" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-9"><a href="#cb179-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-10"><a href="#cb179-10" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>agree_score_new_row,</span>
<span id="cb179-11"><a href="#cb179-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-12"><a href="#cb179-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-13"><a href="#cb179-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-14"><a href="#cb179-14" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-15"><a href="#cb179-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-16"><a href="#cb179-16" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>cons_score_new_row,</span>
<span id="cb179-17"><a href="#cb179-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-18"><a href="#cb179-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-19"><a href="#cb179-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-20"><a href="#cb179-20" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-21"><a href="#cb179-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-22"><a href="#cb179-22" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>emo_score_new_row,</span>
<span id="cb179-23"><a href="#cb179-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-24"><a href="#cb179-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-25"><a href="#cb179-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-26"><a href="#cb179-26" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-27"><a href="#cb179-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-28"><a href="#cb179-28" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>open_score_new_row,</span>
<span id="cb179-29"><a href="#cb179-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-30"><a href="#cb179-30" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-31"><a href="#cb179-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-32"><a href="#cb179-32" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-33"><a href="#cb179-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-34"><a href="#cb179-34" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>bfi2squietscl_new_row,</span>
<span id="cb179-35"><a href="#cb179-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-36"><a href="#cb179-36" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-37"><a href="#cb179-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-38"><a href="#cb179-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-39"><a href="#cb179-39" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-40"><a href="#cb179-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-41"><a href="#cb179-41" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>bfi2stakechargescl_new_row,</span>
<span id="cb179-42"><a href="#cb179-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-43"><a href="#cb179-43" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-44"><a href="#cb179-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-45"><a href="#cb179-45" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-46"><a href="#cb179-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-47"><a href="#cb179-47" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>bfi2slessactivescl_new_row,</span>
<span id="cb179-48"><a href="#cb179-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-49"><a href="#cb179-49" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-50"><a href="#cb179-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-51"><a href="#cb179-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-52"><a href="#cb179-52" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-53"><a href="#cb179-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-54"><a href="#cb179-54" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>bfi2suncaringscl_new_row,</span>
<span id="cb179-55"><a href="#cb179-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-56"><a href="#cb179-56" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-57"><a href="#cb179-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-58"><a href="#cb179-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-59"><a href="#cb179-59" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-60"><a href="#cb179-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-61"><a href="#cb179-61" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>bfi2srudescl_new_row,</span>
<span id="cb179-62"><a href="#cb179-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-63"><a href="#cb179-63" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-64"><a href="#cb179-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-65"><a href="#cb179-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-66"><a href="#cb179-66" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-67"><a href="#cb179-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-68"><a href="#cb179-68" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>bfi2sfaultwithothersscl_new_row,</span>
<span id="cb179-69"><a href="#cb179-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-70"><a href="#cb179-70" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-71"><a href="#cb179-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-72"><a href="#cb179-72" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-73"><a href="#cb179-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-74"><a href="#cb179-74" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>bfi2sdisorganizedscl_new_row,</span>
<span id="cb179-75"><a href="#cb179-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-76"><a href="#cb179-76" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-77"><a href="#cb179-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-78"><a href="#cb179-78" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-79"><a href="#cb179-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-80"><a href="#cb179-80" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>bfi2sdifficultstartscl_new_row,</span>
<span id="cb179-81"><a href="#cb179-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-82"><a href="#cb179-82" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-83"><a href="#cb179-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-84"><a href="#cb179-84" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-85"><a href="#cb179-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-86"><a href="#cb179-86" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>bfi2scarelessscl_new_row,</span>
<span id="cb179-87"><a href="#cb179-87" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-88"><a href="#cb179-88" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-89"><a href="#cb179-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-90"><a href="#cb179-90" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-91"><a href="#cb179-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-92"><a href="#cb179-92" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>bfi2srelaxedscl_new_row,</span>
<span id="cb179-93"><a href="#cb179-93" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-94"><a href="#cb179-94" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-95"><a href="#cb179-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-96"><a href="#cb179-96" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-97"><a href="#cb179-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-98"><a href="#cb179-98" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>bfi2ssecurescl_new_row,</span>
<span id="cb179-99"><a href="#cb179-99" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-100"><a href="#cb179-100" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-101"><a href="#cb179-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-102"><a href="#cb179-102" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-103"><a href="#cb179-103" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-104"><a href="#cb179-104" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>bfi2sstableemotionscl_new_row,</span>
<span id="cb179-105"><a href="#cb179-105" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-106"><a href="#cb179-106" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-107"><a href="#cb179-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-108"><a href="#cb179-108" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-109"><a href="#cb179-109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-110"><a href="#cb179-110" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>bfi2sfewartinterestscl_reverse_new_row,</span>
<span id="cb179-111"><a href="#cb179-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-112"><a href="#cb179-112" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-113"><a href="#cb179-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-114"><a href="#cb179-114" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-115"><a href="#cb179-115" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-116"><a href="#cb179-116" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>bfi2sllittleinterestscl_reverse_new_row,</span>
<span id="cb179-117"><a href="#cb179-117" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-118"><a href="#cb179-118" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb179-119"><a href="#cb179-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-120"><a href="#cb179-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-121"><a href="#cb179-121" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb179-122"><a href="#cb179-122" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb179-123"><a href="#cb179-123" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>bfi2slittlecreativityscl_reverse_new_row,</span>
<span id="cb179-124"><a href="#cb179-124" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"bfi2slittlecreativityscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb179-125"><a href="#cb179-125" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="save-13" class="level4" data-number="D.2.16.8">
<h4 data-number="D.2.16.8" class="anchored" data-anchor-id="save-13"><span class="header-section-number">D.2.16.8</span> Save:</h4>
<p>Save “bfi” and updated data dictionary as .csv files in the folder named “reformatted_bfi”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb180"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb180-2"><a href="#cb180-2" aria-hidden="true" tabindex="-1"></a>  bfi,</span>
<span id="cb180-3"><a href="#cb180-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb180-4"><a href="#cb180-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb180-5"><a href="#cb180-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb180-6"><a href="#cb180-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb180-7"><a href="#cb180-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"reformatted_bfi.csv"</span></span>
<span id="cb180-8"><a href="#cb180-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb180-9"><a href="#cb180-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb180-10"><a href="#cb180-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb180-11"><a href="#cb180-11" aria-hidden="true" tabindex="-1"></a>  psy_soc_dict,</span>
<span id="cb180-12"><a href="#cb180-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb180-13"><a href="#cb180-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb180-14"><a href="#cb180-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb180-15"><a href="#cb180-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb180-16"><a href="#cb180-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"updated_psy_soc_dictionary.csv"</span></span>
<span id="cb180-17"><a href="#cb180-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb180-18"><a href="#cb180-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="danish-thoracic-surgery-questionnaire-v0.2" class="level3 page-columns page-full" data-number="D.2.17">
<h3 data-number="D.2.17" class="anchored" data-anchor-id="danish-thoracic-surgery-questionnaire-v0.2"><span class="header-section-number">D.2.17</span> Danish Thoracic Surgery Questionnaire v0.2</h3>
<p>The Danish Thoracic Surgery Questionnaire comprises 17 items to assess functional impairment experienced post thoracotomy. each item is rated on a scale of 0 to 4, where 0 indicates no impairment due to pain and 4 indicates complete impairement due to pain. There is an additional indicator “I never do this activity” for each item. The total score is calculated as the sum of all seventeen items[<span class="citation" data-cites="ringsted2013">Ringsted et al. (<a href="references.html#ref-ringsted2013" role="doc-biblioref">2013</a>)</span>]<span class="citation" data-cites="bayman2017">(<a href="references.html#ref-bayman2017" role="doc-biblioref">Bayman, 2017</a>)</span></p>
<div class="no-row-height column-margin column-container"><div id="ref-ringsted2013" class="csl-entry" role="listitem">
Ringsted, T. K., Wildgaard, K., Kreiner, S., &amp; Kehlet, H. (2013). Pain-related Impairment of Daily Activities After Thoracic Surgery. <em>The Clinical Journal of Pain</em>, <em>29</em>(9), 791–799. <a href="https://doi.org/10.1097/ajp.0b013e318278d4e2">https://doi.org/10.1097/ajp.0b013e318278d4e2</a>
</div><div id="ref-bayman2017" class="csl-entry" role="listitem">
Bayman, E. O. (2017). Pain-Related Limitations in Daily Activities Following Thoracic Surgery in a United States Population. <em>Pain Physician</em>, <em>3</em>(20;3), E367–E378. <a href="https://doi.org/10.36076/ppj.2017.e378">https://doi.org/10.36076/ppj.2017.e378</a>
</div></div><section id="read-in-data-12" class="level4" data-number="D.2.17.1">
<h4 data-number="D.2.17.1" class="anchored" data-anchor-id="read-in-data-12"><span class="header-section-number">D.2.17.1</span> Read in Data:</h4>
<p>Read in psy_soc1 dataframe and select field names from the The Danish Thoracic Surgery Questionnaire data and keep completed forms. Keeping completed forms will subset to the thoracotomy cohort by default, we will call “dts”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a>dts <span class="ot">&lt;-</span> <span class="fu">applyFilter</span>(<span class="st">"dts"</span>, danish_thoracic_surgery_questionnaire_v02_complete)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="missing-data-16" class="level4" data-number="D.2.17.2">
<h4 data-number="D.2.17.2" class="anchored" data-anchor-id="missing-data-16"><span class="header-section-number">D.2.17.2</span> Missing Data:</h4>
<p>Missing data pattern in dts.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb182"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb182-2"><a href="#cb182-2" aria-hidden="true" tabindex="-1"></a>  dts,</span>
<span id="cb182-3"><a href="#cb182-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(dts),</span>
<span id="cb182-4"><a href="#cb182-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb182-5"><a href="#cb182-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb182-6"><a href="#cb182-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb182-7"><a href="#cb182-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb182-8"><a href="#cb182-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-171-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Handling missing data:</p>
<p>In case of missing values, a total score can be calculated if responses to 13 of 17 items are available (0.29 x 17 = 4.93). The missing responses are first replaced with the average score of the completed items and then a total score is calculated by adding the scores for all the 17 items(refer to section 1.c).</p>
<p>We will create a variable “dts_diff” and assign a value of 1 if there is a response to more than or equal to 13 of 17 DTS items and 0 if there is a response to less than 13 of 17 DTS items.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a>dts_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb183-2"><a href="#cb183-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dtsrunningscl"</span>,</span>
<span id="cb183-3"><a href="#cb183-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dtscarryingscl"</span>,</span>
<span id="cb183-4"><a href="#cb183-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dtswashingscl"</span>,</span>
<span id="cb183-5"><a href="#cb183-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dtscleaningscl"</span>,</span>
<span id="cb183-6"><a href="#cb183-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dtswalkingscl"</span>,</span>
<span id="cb183-7"><a href="#cb183-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dtsstairsscl"</span>,</span>
<span id="cb183-8"><a href="#cb183-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dtskneelingscl"</span>,</span>
<span id="cb183-9"><a href="#cb183-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dtsstandingscl"</span>,</span>
<span id="cb183-10"><a href="#cb183-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dtsoutofbedscl"</span>,</span>
<span id="cb183-11"><a href="#cb183-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dtsswimmingscl"</span>,</span>
<span id="cb183-12"><a href="#cb183-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dtscyclingscl"</span>,</span>
<span id="cb183-13"><a href="#cb183-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dtsdrivingscl"</span>,</span>
<span id="cb183-14"><a href="#cb183-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dtslyingopsidescl"</span>,</span>
<span id="cb183-15"><a href="#cb183-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dtscoughingscl"</span>,</span>
<span id="cb183-16"><a href="#cb183-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dtssittingscl"</span>,</span>
<span id="cb183-17"><a href="#cb183-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dtswatchtvscl"</span>,</span>
<span id="cb183-18"><a href="#cb183-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dtssleepscl"</span></span>
<span id="cb183-19"><a href="#cb183-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb183-20"><a href="#cb183-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-21"><a href="#cb183-21" aria-hidden="true" tabindex="-1"></a>dts <span class="ot">&lt;-</span> dts <span class="sc">%&gt;%</span></span>
<span id="cb183-22"><a href="#cb183-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dts_not_na =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(.[, dts_vector]))) <span class="sc">%&gt;%</span></span>
<span id="cb183-23"><a href="#cb183-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb183-24"><a href="#cb183-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">dts_diff =</span> <span class="fu">case_when</span>(</span>
<span id="cb183-25"><a href="#cb183-25" aria-hidden="true" tabindex="-1"></a>      dts_not_na <span class="sc">&gt;=</span> <span class="dv">13</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb183-26"><a href="#cb183-26" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb183-27"><a href="#cb183-27" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb183-28"><a href="#cb183-28" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb183-29"><a href="#cb183-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb183-30"><a href="#cb183-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dts_diff =</span> <span class="fu">as.factor</span>(dts_diff))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will now replace missing values with the rounded mean of remaining items if dts_diff = 1 i.e if 13 of 17 items are available and calculate the total score by taking a sum of all the items. We will exclude responses indicated by a “96” i.e.&nbsp;“I never do this activity” from all calculations.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb184"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a>dts <span class="ot">&lt;-</span> dts <span class="sc">%&gt;%</span></span>
<span id="cb184-2"><a href="#cb184-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb184-3"><a href="#cb184-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">raw_dts_score =</span> <span class="fu">rowSums</span>(</span>
<span id="cb184-4"><a href="#cb184-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(., <span class="fu">all_of</span>(dts_vector)) <span class="sc">*</span> (<span class="fu">select</span>(., <span class="fu">all_of</span>(dts_vector)) <span class="sc">!=</span> <span class="dv">96</span>),</span>
<span id="cb184-5"><a href="#cb184-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb184-6"><a href="#cb184-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb184-7"><a href="#cb184-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb184-8"><a href="#cb184-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb184-9"><a href="#cb184-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_dts =</span> <span class="fu">case_when</span>(</span>
<span id="cb184-10"><a href="#cb184-10" aria-hidden="true" tabindex="-1"></a>      dts_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span></span>
<span id="cb184-11"><a href="#cb184-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">rowMeans</span>(</span>
<span id="cb184-12"><a href="#cb184-12" aria-hidden="true" tabindex="-1"></a>          <span class="fu">select</span>(., <span class="fu">all_of</span>(dts_vector)) <span class="sc">*</span> (<span class="fu">select</span>(., <span class="fu">all_of</span>(dts_vector)) <span class="sc">!=</span> <span class="dv">96</span>),</span>
<span id="cb184-13"><a href="#cb184-13" aria-hidden="true" tabindex="-1"></a>          <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb184-14"><a href="#cb184-14" aria-hidden="true" tabindex="-1"></a>        ))</span>
<span id="cb184-15"><a href="#cb184-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb184-16"><a href="#cb184-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb184-17"><a href="#cb184-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(dts_vector), <span class="sc">~</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(.), mean_dts, .))) <span class="sc">%&gt;%</span></span>
<span id="cb184-18"><a href="#cb184-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb184-19"><a href="#cb184-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">imputed_dts_score =</span> <span class="fu">case_when</span>(</span>
<span id="cb184-20"><a href="#cb184-20" aria-hidden="true" tabindex="-1"></a>      dts_diff <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span></span>
<span id="cb184-21"><a href="#cb184-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rowSums</span>(</span>
<span id="cb184-22"><a href="#cb184-22" aria-hidden="true" tabindex="-1"></a>          <span class="fu">select</span>(., <span class="fu">all_of</span>(dts_vector)) <span class="sc">*</span> (<span class="fu">select</span>(., <span class="fu">all_of</span>(dts_vector)) <span class="sc">!=</span> <span class="dv">96</span>),</span>
<span id="cb184-23"><a href="#cb184-23" aria-hidden="true" tabindex="-1"></a>          <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb184-24"><a href="#cb184-24" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb184-25"><a href="#cb184-25" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb184-26"><a href="#cb184-26" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check missingness pattern after imputation</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_upset</span>(</span>
<span id="cb185-2"><a href="#cb185-2" aria-hidden="true" tabindex="-1"></a>  dts <span class="sc">%&gt;%</span></span>
<span id="cb185-3"><a href="#cb185-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>imputed_dts_score, <span class="sc">-</span>mean_dts),</span>
<span id="cb185-4"><a href="#cb185-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsets =</span> <span class="fu">n_var_miss</span>(dts),</span>
<span id="cb185-5"><a href="#cb185-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">order.by =</span> <span class="st">"degree"</span>,</span>
<span id="cb185-6"><a href="#cb185-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">point.size =</span> <span class="dv">1</span>,</span>
<span id="cb185-7"><a href="#cb185-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">line.size =</span> <span class="fl">0.25</span>,</span>
<span id="cb185-8"><a href="#cb185-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">text.scale =</span> <span class="fu">c</span>(<span class="fl">0.5</span>)</span>
<span id="cb185-9"><a href="#cb185-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-174-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Check distributions of DTS scores before (raw_dts_score) and after imputation (imputed_dts_score)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb186"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a>dts_plot <span class="ot">&lt;-</span> dts <span class="sc">%&gt;%</span></span>
<span id="cb186-2"><a href="#cb186-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">between</span>(dts_not_na, <span class="dv">13</span>, <span class="dv">17</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb186-3"><a href="#cb186-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(guid, raw_dts_score, imputed_dts_score) <span class="sc">%&gt;%</span></span>
<span id="cb186-4"><a href="#cb186-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb186-5"><a href="#cb186-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"raw_dts_score"</span>, <span class="st">"imputed_dts_score"</span>),</span>
<span id="cb186-6"><a href="#cb186-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"score"</span>,</span>
<span id="cb186-7"><a href="#cb186-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"score_name"</span></span>
<span id="cb186-8"><a href="#cb186-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb186-9"><a href="#cb186-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-10"><a href="#cb186-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dts_plot, <span class="fu">aes</span>(<span class="at">x =</span> score_name, <span class="at">y =</span> score, <span class="at">fill =</span> score_name)) <span class="sc">+</span></span>
<span id="cb186-11"><a href="#cb186-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">25</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="psycho_social_biomarker_impute_files/figure-html/unnamed-chunk-175-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Remove intermediate field names not needed</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>dts <span class="ot">&lt;-</span> dts <span class="sc">%&gt;%</span></span>
<span id="cb187-2"><a href="#cb187-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>dts_not_na, <span class="sc">-</span>mean_dts, raw_dts_score)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="new-field-names-15" class="level4" data-number="D.2.17.3">
<h4 data-number="D.2.17.3" class="anchored" data-anchor-id="new-field-names-15"><span class="header-section-number">D.2.17.3</span> New field name(s):</h4>
<p>Add the field names “dts_diff” and “imputed_dts_score”to the data dictionary</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create field names</span></span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a>dts_diff_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb188-3"><a href="#cb188-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"dts_diff"</span>,</span>
<span id="cb188-4"><a href="#cb188-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"danish_thoracic_surgery_questionnaire_v02"</span>,</span>
<span id="cb188-5"><a href="#cb188-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"factor"</span>,</span>
<span id="cb188-6"><a href="#cb188-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"1, if there is a response to more than or equal to 13 of 17 DTS items|0, if there is a response to less than 13 of 16 DTS items"</span></span>
<span id="cb188-7"><a href="#cb188-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb188-8"><a href="#cb188-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-9"><a href="#cb188-9" aria-hidden="true" tabindex="-1"></a>dts_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb188-10"><a href="#cb188-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"imputed_dts_score"</span>,</span>
<span id="cb188-11"><a href="#cb188-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"danish_thoracic_surgery_questionnaire_v02"</span>,</span>
<span id="cb188-12"><a href="#cb188-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb188-13"><a href="#cb188-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"A higher score indicates a higher degree of functional impairment due to pain"</span>,</span>
<span id="cb188-14"><a href="#cb188-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_note =</span> <span class="st">"The missing responses are first replaced with the average score of the completed items and then a total score is calculated by adding the scores for all the items, responses indicated by 96 were excluded from the total score"</span></span>
<span id="cb188-15"><a href="#cb188-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb188-16"><a href="#cb188-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-17"><a href="#cb188-17" aria-hidden="true" tabindex="-1"></a><span class="co"># adding fabq_diff</span></span>
<span id="cb188-18"><a href="#cb188-18" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb188-19"><a href="#cb188-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb188-20"><a href="#cb188-20" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>dts_diff_new_row,</span>
<span id="cb188-21"><a href="#cb188-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"dtssleepscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb188-22"><a href="#cb188-22" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb188-23"><a href="#cb188-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-24"><a href="#cb188-24" aria-hidden="true" tabindex="-1"></a><span class="co"># imputed fabq score</span></span>
<span id="cb188-25"><a href="#cb188-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-26"><a href="#cb188-26" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb188-27"><a href="#cb188-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb188-28"><a href="#cb188-28" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>dts_score_new_row,</span>
<span id="cb188-29"><a href="#cb188-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"dtssleepscl"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb188-30"><a href="#cb188-30" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="save-14" class="level4" data-number="D.2.17.4">
<h4 data-number="D.2.17.4" class="anchored" data-anchor-id="save-14"><span class="header-section-number">D.2.17.4</span> Save:</h4>
<p>Save “dts” and updated data dictionary as .csv files in the folder named “reformatted_dts”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb189-2"><a href="#cb189-2" aria-hidden="true" tabindex="-1"></a>  dts,</span>
<span id="cb189-3"><a href="#cb189-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb189-4"><a href="#cb189-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb189-5"><a href="#cb189-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb189-6"><a href="#cb189-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb189-7"><a href="#cb189-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"reformatted_dts.csv"</span></span>
<span id="cb189-8"><a href="#cb189-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb189-9"><a href="#cb189-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb189-10"><a href="#cb189-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb189-11"><a href="#cb189-11" aria-hidden="true" tabindex="-1"></a>  psy_soc_dict,</span>
<span id="cb189-12"><a href="#cb189-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb189-13"><a href="#cb189-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb189-14"><a href="#cb189-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb189-15"><a href="#cb189-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb189-16"><a href="#cb189-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"updated_psy_soc_dictionary.csv"</span></span>
<span id="cb189-17"><a href="#cb189-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb189-18"><a href="#cb189-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="rapid-assessment-of-physical-activity-v1.0-rapa" class="level3 page-columns page-full" data-number="D.2.18">
<h3 data-number="D.2.18" class="anchored" data-anchor-id="rapid-assessment-of-physical-activity-v1.0-rapa"><span class="header-section-number">D.2.18</span> Rapid Assessment of Physical Activity v1.0 (RAPA)</h3>
<p>The Rapid Assessment of Physical Activity Questionnaire comprises 9 items to assess physical activity in subject over 50 years of age. The first 7 items measure aerobic activity and the last 2 items measure strength/flexibility. Each item has a yes/no response <span class="citation" data-cites="topolski_rapid_2006">(<a href="references.html#ref-topolski_rapid_2006" role="doc-biblioref">Topolski et al., 2006</a>)</span>. Here we well compute aerobic activity score based on the highest affirmative response.</p>
<div class="no-row-height column-margin column-container"><div id="ref-topolski_rapid_2006" class="csl-entry" role="listitem">
Topolski, T. D., LoGerfo, J., Patrick, D. L., Williams, B., Walwick, J., &amp; Patrick, M. M. B. (2006). The rapid assessment of physical activity (RAPA) among older adults. <em>Preventing Chronic Disease</em>, <em>3</em>(4), A118.
</div></div><section id="read-in-data-13" class="level4" data-number="D.2.18.1">
<h4 data-number="D.2.18.1" class="anchored" data-anchor-id="read-in-data-13"><span class="header-section-number">D.2.18.1</span> Read in Data:</h4>
<p>Read in psy_soc1 dataframe and select field names from the RAPA and keep completed forms, we will call “rapa”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a>rapa <span class="ot">&lt;-</span> <span class="fu">applyFilter</span>(</span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rapa"</span>,</span>
<span id="cb190-3"><a href="#cb190-3" aria-hidden="true" tabindex="-1"></a>  rapid_assessment_of_physical_activity_v10_rapa_complete</span>
<span id="cb190-4"><a href="#cb190-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb190-5"><a href="#cb190-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">retype</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Missing values cannot be imputed, we well compute aerobic activity score based on the highest affirmative response.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a>rapa <span class="ot">&lt;-</span> rapa <span class="sc">%&gt;%</span></span>
<span id="cb191-2"><a href="#cb191-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb191-3"><a href="#cb191-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">rapa_rarly1 =</span> <span class="fu">case_when</span>(</span>
<span id="cb191-4"><a href="#cb191-4" aria-hidden="true" tabindex="-1"></a>      rapa_rarly <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb191-5"><a href="#cb191-5" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> rapa_rarly</span>
<span id="cb191-6"><a href="#cb191-6" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb191-7"><a href="#cb191-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">rapa_light1 =</span> <span class="fu">case_when</span>(</span>
<span id="cb191-8"><a href="#cb191-8" aria-hidden="true" tabindex="-1"></a>      rapa_light <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb191-9"><a href="#cb191-9" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> rapa_light</span>
<span id="cb191-10"><a href="#cb191-10" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb191-11"><a href="#cb191-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">rapa_lightweekly1 =</span> <span class="fu">case_when</span>(</span>
<span id="cb191-12"><a href="#cb191-12" aria-hidden="true" tabindex="-1"></a>      rapa_lightweekly <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb191-13"><a href="#cb191-13" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> rapa_lightweekly</span>
<span id="cb191-14"><a href="#cb191-14" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb191-15"><a href="#cb191-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">rapa_mod1 =</span> <span class="fu">case_when</span>(</span>
<span id="cb191-16"><a href="#cb191-16" aria-hidden="true" tabindex="-1"></a>      rapa_mod <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">4</span>,</span>
<span id="cb191-17"><a href="#cb191-17" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> rapa_mod</span>
<span id="cb191-18"><a href="#cb191-18" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb191-19"><a href="#cb191-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">rapa_vig1 =</span> <span class="fu">case_when</span>(</span>
<span id="cb191-20"><a href="#cb191-20" aria-hidden="true" tabindex="-1"></a>      rapa_vig <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">4</span>,</span>
<span id="cb191-21"><a href="#cb191-21" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> rapa_vig</span>
<span id="cb191-22"><a href="#cb191-22" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb191-23"><a href="#cb191-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">rapa_modweekly1 =</span> <span class="fu">case_when</span>(</span>
<span id="cb191-24"><a href="#cb191-24" aria-hidden="true" tabindex="-1"></a>      rapa_modweekly <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">5</span>,</span>
<span id="cb191-25"><a href="#cb191-25" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> rapa_modweekly</span>
<span id="cb191-26"><a href="#cb191-26" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb191-27"><a href="#cb191-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">rapa_vigweekly1 =</span> <span class="fu">case_when</span>(</span>
<span id="cb191-28"><a href="#cb191-28" aria-hidden="true" tabindex="-1"></a>      rapa_vigweekly <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">5</span>,</span>
<span id="cb191-29"><a href="#cb191-29" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> rapa_vigweekly</span>
<span id="cb191-30"><a href="#cb191-30" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb191-31"><a href="#cb191-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">rapa_aerobic_score =</span> <span class="fu">pmax</span>(</span>
<span id="cb191-32"><a href="#cb191-32" aria-hidden="true" tabindex="-1"></a>      rapa_rarly1,</span>
<span id="cb191-33"><a href="#cb191-33" aria-hidden="true" tabindex="-1"></a>      rapa_light1,</span>
<span id="cb191-34"><a href="#cb191-34" aria-hidden="true" tabindex="-1"></a>      rapa_lightweekly1,</span>
<span id="cb191-35"><a href="#cb191-35" aria-hidden="true" tabindex="-1"></a>      rapa_mod1,</span>
<span id="cb191-36"><a href="#cb191-36" aria-hidden="true" tabindex="-1"></a>      rapa_vig1,</span>
<span id="cb191-37"><a href="#cb191-37" aria-hidden="true" tabindex="-1"></a>      rapa_modweekly1,</span>
<span id="cb191-38"><a href="#cb191-38" aria-hidden="true" tabindex="-1"></a>      rapa_vigweekly1,</span>
<span id="cb191-39"><a href="#cb191-39" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb191-40"><a href="#cb191-40" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb191-41"><a href="#cb191-41" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb191-42"><a href="#cb191-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb191-43"><a href="#cb191-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">rapa_aerobic_category =</span> <span class="fu">case_when</span>(</span>
<span id="cb191-44"><a href="#cb191-44" aria-hidden="true" tabindex="-1"></a>      rapa_aerobic_score <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"sedentary"</span>,</span>
<span id="cb191-45"><a href="#cb191-45" aria-hidden="true" tabindex="-1"></a>      rapa_aerobic_score <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"underactive"</span>,</span>
<span id="cb191-46"><a href="#cb191-46" aria-hidden="true" tabindex="-1"></a>      rapa_aerobic_score <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"underactive_regular-light_activities"</span>,</span>
<span id="cb191-47"><a href="#cb191-47" aria-hidden="true" tabindex="-1"></a>      rapa_aerobic_score <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"underactive_regular"</span>,</span>
<span id="cb191-48"><a href="#cb191-48" aria-hidden="true" tabindex="-1"></a>      rapa_aerobic_score <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">"active"</span>,</span>
<span id="cb191-49"><a href="#cb191-49" aria-hidden="true" tabindex="-1"></a>      rapa_aerobic_score <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"answered_no_to_all_aerobic_items"</span>,</span>
<span id="cb191-50"><a href="#cb191-50" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA</span></span>
<span id="cb191-51"><a href="#cb191-51" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb191-52"><a href="#cb191-52" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb191-53"><a href="#cb191-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rapa_aerobic_category =</span> <span class="fu">as.factor</span>(rapa_aerobic_category))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We will create a variable “rapa_aerobic_missing” and assign a value of 1 if “rapa_aerobic_score” is missing and 0 if “rapa_aerobic_score” is available</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb192"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a>rapa <span class="ot">&lt;-</span> rapa <span class="sc">%&gt;%</span></span>
<span id="cb192-2"><a href="#cb192-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb192-3"><a href="#cb192-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">rapa_aerobic_missing =</span> <span class="fu">case_when</span>(<span class="fu">is.na</span>(rapa_aerobic_score) <span class="sc">~</span> <span class="dv">1</span>, <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span>)</span>
<span id="cb192-4"><a href="#cb192-4" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Check number of missing aerobic score</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb193"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(rapa<span class="sc">$</span>rapa_aerobic_missing)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   0    1 
1360    2 </code></pre>
</div>
</div>
</section>
<section id="new-field-names-16" class="level4" data-number="D.2.18.2">
<h4 data-number="D.2.18.2" class="anchored" data-anchor-id="new-field-names-16"><span class="header-section-number">D.2.18.2</span> New field name(s)</h4>
<p>Add the field names “rapa_aerobic_score” and “rapa_aerobic_missing” to the data dictionary</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb195"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create field names</span></span>
<span id="cb195-2"><a href="#cb195-2" aria-hidden="true" tabindex="-1"></a>aerobic_score_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb195-3"><a href="#cb195-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"rapa_aerobic_score"</span>,</span>
<span id="cb195-4"><a href="#cb195-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"rapid_assessment_of_physical_activity_v10_rapa"</span>,</span>
<span id="cb195-5"><a href="#cb195-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb195-6"><a href="#cb195-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"0, if answered_no_to_all_aerobic_itemse|1,Sedentary|2,Underactive|3, Underactive_regular-light_activities|4,Underactive_regular|5,Active"</span></span>
<span id="cb195-7"><a href="#cb195-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb195-8"><a href="#cb195-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-9"><a href="#cb195-9" aria-hidden="true" tabindex="-1"></a>aerobic_category_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb195-10"><a href="#cb195-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"rapa_aerobic_category"</span>,</span>
<span id="cb195-11"><a href="#cb195-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"rapid_assessment_of_physical_activity_v10_rapa"</span>,</span>
<span id="cb195-12"><a href="#cb195-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"Factor"</span>,</span>
<span id="cb195-13"><a href="#cb195-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"if answered_no_to_all_aerobic_itemse|Sedentary|Underactive|Underactive_regular-light_activities|Underactive_regular|Active"</span></span>
<span id="cb195-14"><a href="#cb195-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb195-15"><a href="#cb195-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-16"><a href="#cb195-16" aria-hidden="true" tabindex="-1"></a>aerobic_missing_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb195-17"><a href="#cb195-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"rapa_aerobic_missing"</span>,</span>
<span id="cb195-18"><a href="#cb195-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"rapid_assessment_of_physical_activity_v10_rapa"</span>,</span>
<span id="cb195-19"><a href="#cb195-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb195-20"><a href="#cb195-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">select_choices_or_calculations =</span> <span class="st">"1 if rapa_aerobic_score is missing|0, if rapa_aerobic_score is not missing"</span></span>
<span id="cb195-21"><a href="#cb195-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb195-22"><a href="#cb195-22" aria-hidden="true" tabindex="-1"></a><span class="do">#################</span></span>
<span id="cb195-23"><a href="#cb195-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-24"><a href="#cb195-24" aria-hidden="true" tabindex="-1"></a>rapa1_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb195-25"><a href="#cb195-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"rapa_rarly1"</span>,</span>
<span id="cb195-26"><a href="#cb195-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"rapid_assessment_of_physical_activity_v10_rapa"</span>,</span>
<span id="cb195-27"><a href="#cb195-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb195-28"><a href="#cb195-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">" recoded as 1 if subject's highest affirmative response for aerobic activity related  questions"</span></span>
<span id="cb195-29"><a href="#cb195-29" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb195-30"><a href="#cb195-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-31"><a href="#cb195-31" aria-hidden="true" tabindex="-1"></a>rapa2_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb195-32"><a href="#cb195-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"rapa_light1"</span>,</span>
<span id="cb195-33"><a href="#cb195-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"rapid_assessment_of_physical_activity_v10_rapa"</span>,</span>
<span id="cb195-34"><a href="#cb195-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb195-35"><a href="#cb195-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"recoded as 2 if subject's highest affirmative response for aerobic activity related  questions"</span></span>
<span id="cb195-36"><a href="#cb195-36" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb195-37"><a href="#cb195-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-38"><a href="#cb195-38" aria-hidden="true" tabindex="-1"></a>rapa3_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb195-39"><a href="#cb195-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"rapa_lightweekly1"</span>,</span>
<span id="cb195-40"><a href="#cb195-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"rapid_assessment_of_physical_activity_v10_rapa"</span>,</span>
<span id="cb195-41"><a href="#cb195-41" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb195-42"><a href="#cb195-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"recoded as 3 if subject's highest affirmative response for aerobic activity related  questions"</span></span>
<span id="cb195-43"><a href="#cb195-43" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb195-44"><a href="#cb195-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-45"><a href="#cb195-45" aria-hidden="true" tabindex="-1"></a>rapa4_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb195-46"><a href="#cb195-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"rapa_mod1"</span>,</span>
<span id="cb195-47"><a href="#cb195-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"rapid_assessment_of_physical_activity_v10_rapa"</span>,</span>
<span id="cb195-48"><a href="#cb195-48" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb195-49"><a href="#cb195-49" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"recoded as 4 if subject's highest affirmative response for aerobic activity related  questions"</span></span>
<span id="cb195-50"><a href="#cb195-50" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb195-51"><a href="#cb195-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-52"><a href="#cb195-52" aria-hidden="true" tabindex="-1"></a>rapa5_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb195-53"><a href="#cb195-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"rapa_vig1"</span>,</span>
<span id="cb195-54"><a href="#cb195-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"rapid_assessment_of_physical_activity_v10_rapa"</span>,</span>
<span id="cb195-55"><a href="#cb195-55" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb195-56"><a href="#cb195-56" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"recoded as 4 if subject's highest affirmative response for aerobic activity related questions"</span></span>
<span id="cb195-57"><a href="#cb195-57" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb195-58"><a href="#cb195-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-59"><a href="#cb195-59" aria-hidden="true" tabindex="-1"></a>rapa6_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb195-60"><a href="#cb195-60" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"rapa_modweekly1"</span>,</span>
<span id="cb195-61"><a href="#cb195-61" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"rapid_assessment_of_physical_activity_v10_rapa"</span>,</span>
<span id="cb195-62"><a href="#cb195-62" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb195-63"><a href="#cb195-63" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"recoded as 5 if subject's highest affirmative response for aerobic activity related  questions"</span></span>
<span id="cb195-64"><a href="#cb195-64" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb195-65"><a href="#cb195-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-66"><a href="#cb195-66" aria-hidden="true" tabindex="-1"></a>rapa7_new_row <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb195-67"><a href="#cb195-67" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_name =</span> <span class="st">"rapa_vigweekly1"</span>,</span>
<span id="cb195-68"><a href="#cb195-68" aria-hidden="true" tabindex="-1"></a>  <span class="at">form_name =</span> <span class="st">"rapid_assessment_of_physical_activity_v10_rapa"</span>,</span>
<span id="cb195-69"><a href="#cb195-69" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_type =</span> <span class="st">"numeric"</span>,</span>
<span id="cb195-70"><a href="#cb195-70" aria-hidden="true" tabindex="-1"></a>  <span class="at">field_label =</span> <span class="st">"recoded as 5 if subject's highest affirmative response for aerobic activity related  questions"</span></span>
<span id="cb195-71"><a href="#cb195-71" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb195-72"><a href="#cb195-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-73"><a href="#cb195-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-74"><a href="#cb195-74" aria-hidden="true" tabindex="-1"></a><span class="do">####</span></span>
<span id="cb195-75"><a href="#cb195-75" aria-hidden="true" tabindex="-1"></a><span class="co"># adding rows</span></span>
<span id="cb195-76"><a href="#cb195-76" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb195-77"><a href="#cb195-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb195-78"><a href="#cb195-78" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>aerobic_score_new_row,</span>
<span id="cb195-79"><a href="#cb195-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"rapa_2score"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb195-80"><a href="#cb195-80" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb195-81"><a href="#cb195-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-82"><a href="#cb195-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-83"><a href="#cb195-83" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb195-84"><a href="#cb195-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb195-85"><a href="#cb195-85" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>aerobic_category_new_row,</span>
<span id="cb195-86"><a href="#cb195-86" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"rapa_2score"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb195-87"><a href="#cb195-87" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb195-88"><a href="#cb195-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-89"><a href="#cb195-89" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb195-90"><a href="#cb195-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb195-91"><a href="#cb195-91" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>aerobic_missing_new_row,</span>
<span id="cb195-92"><a href="#cb195-92" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"rapa_2score"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb195-93"><a href="#cb195-93" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb195-94"><a href="#cb195-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-95"><a href="#cb195-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-96"><a href="#cb195-96" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb195-97"><a href="#cb195-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb195-98"><a href="#cb195-98" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>rapa1_new_row,</span>
<span id="cb195-99"><a href="#cb195-99" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"rapa_2score"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb195-100"><a href="#cb195-100" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb195-101"><a href="#cb195-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-102"><a href="#cb195-102" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb195-103"><a href="#cb195-103" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb195-104"><a href="#cb195-104" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>rapa2_new_row,</span>
<span id="cb195-105"><a href="#cb195-105" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"rapa_2score"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb195-106"><a href="#cb195-106" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb195-107"><a href="#cb195-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-108"><a href="#cb195-108" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb195-109"><a href="#cb195-109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb195-110"><a href="#cb195-110" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>rapa3_new_row,</span>
<span id="cb195-111"><a href="#cb195-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"rapa_2score"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb195-112"><a href="#cb195-112" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb195-113"><a href="#cb195-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-114"><a href="#cb195-114" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb195-115"><a href="#cb195-115" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb195-116"><a href="#cb195-116" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>rapa4_new_row,</span>
<span id="cb195-117"><a href="#cb195-117" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"rapa_2score"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb195-118"><a href="#cb195-118" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb195-119"><a href="#cb195-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-120"><a href="#cb195-120" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb195-121"><a href="#cb195-121" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb195-122"><a href="#cb195-122" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>rapa5_new_row,</span>
<span id="cb195-123"><a href="#cb195-123" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"rapa_2score"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb195-124"><a href="#cb195-124" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb195-125"><a href="#cb195-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-126"><a href="#cb195-126" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb195-127"><a href="#cb195-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb195-128"><a href="#cb195-128" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>rapa6_new_row,</span>
<span id="cb195-129"><a href="#cb195-129" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"rapa_2score"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb195-130"><a href="#cb195-130" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb195-131"><a href="#cb195-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-132"><a href="#cb195-132" aria-hidden="true" tabindex="-1"></a>psy_soc_dict <span class="ot">&lt;-</span> psy_soc_dict <span class="sc">%&gt;%</span></span>
<span id="cb195-133"><a href="#cb195-133" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(</span>
<span id="cb195-134"><a href="#cb195-134" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!!!</span>rapa7_new_row,</span>
<span id="cb195-135"><a href="#cb195-135" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> <span class="fu">match</span>(<span class="st">"rapa_2score"</span>, psy_soc_dict<span class="sc">$</span>field_name)</span>
<span id="cb195-136"><a href="#cb195-136" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="save-15" class="level4" data-number="D.2.18.3">
<h4 data-number="D.2.18.3" class="anchored" data-anchor-id="save-15"><span class="header-section-number">D.2.18.3</span> Save:</h4>
<p>Save “rapa” and updated data dictionary as .csv files in the folder named “reformatted_rapa”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb196"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb196-2"><a href="#cb196-2" aria-hidden="true" tabindex="-1"></a>  rapa,</span>
<span id="cb196-3"><a href="#cb196-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb196-4"><a href="#cb196-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb196-5"><a href="#cb196-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb196-6"><a href="#cb196-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb196-7"><a href="#cb196-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"reformatted_rapa.csv"</span></span>
<span id="cb196-8"><a href="#cb196-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb196-9"><a href="#cb196-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb196-10"><a href="#cb196-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb196-11"><a href="#cb196-11" aria-hidden="true" tabindex="-1"></a>  psy_soc_dict,</span>
<span id="cb196-12"><a href="#cb196-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb196-13"><a href="#cb196-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>,</span>
<span id="cb196-14"><a href="#cb196-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Psychosocial"</span>,</span>
<span id="cb196-15"><a href="#cb196-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reformatted"</span>,</span>
<span id="cb196-16"><a href="#cb196-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"updated_psy_soc_dictionary.csv"</span></span>
<span id="cb196-17"><a href="#cb196-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb196-18"><a href="#cb196-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>



</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./nda-mri.html" class="pagination-link" aria-label="NDA Download Example, MRI">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">NDA Download Example, MRI</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./biospecimenCRF_quality_checks_and_reformat.html" class="pagination-link" aria-label="Biospecimen Collection CRF Data Quality Checks">
        <span class="nav-page-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Biospecimen Collection CRF Data Quality Checks</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>